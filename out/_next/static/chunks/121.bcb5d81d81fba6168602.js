(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[121],{6250:function(e,t,r){"use strict";var o=r("17x9"),n=r("q1tI"),a={movie:"movie",flashVars:"flashvars",allowFullScreen:"allowfullscreen",allowFullScreenInteractive:"allowfullscreeninteractive",allowNetworking:"allownetworking",allowScriptAccess:"allowscriptaccess",align:"align",base:"base",bgcolor:"bgcolor",browserZoom:"browserzoom",fullScreenAspectRatio:"fullscreenaspectratio",loop:"loop",menu:"menu",play:"play",quality:"quality",salign:"salign",scale:"scale",seamlessTabbing:"seamlesstabbing",wmode:"wmode"},l={allowFullScreen:!0,allowFullScreenInteractive:!0,loop:!0,menu:!0,play:!0,seamlessTabbing:!0},s=/[\r%&+=]/g,i={"\r":"%0D","%":"%25","&":"%26","+":"%2B","=":"%3D"};function c(e){return i[e]}function u(e){return(""+e).replace(s,c)}function p(e){var t=[];for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&t.push(u(r)+"="+u(o))}return t.join("&")}function f(e){n.Component.call(this,e);var t=this;this._refCallback=function(e){t._node=e};var r={};for(var o in a)if(a.hasOwnProperty(o)&&e.hasOwnProperty(o)){var s=e[o];if(null!=s){var i=a[o];"flashvars"===i&&"object"===typeof s?s=p(s):l.hasOwnProperty(o)&&(s=!!s),r[i]=""+s}}this._node=null,this.state={src:e.src,params:r}}f.prototype=Object.create(n.Component.prototype),f.prototype.constructor=f,Object.assign(f,n.Component),f.propTypes={src:o.string.isRequired,movie:o.string,flashVars:o.oneOfType([o.object,o.string]),allowFullScreen:o.bool,allowFullScreenInteractive:o.bool,allowNetworking:o.oneOf(["all","internal","none"]),allowScriptAccess:o.oneOf(["always","sameDomain","never"]),align:o.oneOf(["l","t","r"]),base:o.string,bgcolor:o.string,browserZoom:o.oneOf(["scale","noscale"]),fullScreenAspectRatio:o.oneOf(["portrait","landscape"]),loop:o.bool,menu:o.bool,play:o.bool,quality:o.oneOf(["low","autolow","autohigh","medium","high","best"]),salign:o.oneOf(["l","t","r","tl","tr"]),scale:o.oneOf(["default","noborder","exactfit","noscale"]),seamlessTabbing:o.bool,wmode:o.oneOf(["window","direct","opaque","transparent","gpu"])},f.prototype.getFPDOMNode=function(){return this._node},f.prototype.shouldComponentUpdate=function(e){var t=this.props;for(var r in t)if(t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(!e.hasOwnProperty(r)||!Object.is(t[r],e[r])))return!0;for(var r in e)if(e.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!0;return!1},f.prototype.render=function(){var e=this.props,t=this.state,r={ref:this._refCallback,children:[],type:"application/x-shockwave-flash",data:t.src,src:null};for(var o in e)!e.hasOwnProperty(o)||a.hasOwnProperty(o)||r.hasOwnProperty(o)||(r[o]=e[o]);var l=r.children;for(var s in t.params)l.push(n.createElement("param",{key:s,name:s,value:t.params[s]}));return null!=e.children&&l.push(e.children),n.createElement("object",r)},e.exports=f},ZbiX:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return O}));var o=r("1OyB"),n=r("vuIU"),a=r("md7G"),l=r("foSv"),s=r("JX7q"),i=r("Ji7U"),c=r("rePB"),u=r("q1tI"),p=r.n(u),f=r("6250"),w=r.n(f),h=r("OcYQ"),b=p.a.createElement;function d(e,t,r){return t=Object(l.a)(t),Object(a.a)(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Object(l.a)(e).constructor):t.apply(e,r))}var y=0,O=function(e){function t(e){var r;return Object(o.a)(this,t),r=d(this,t,[e]),Object(c.a)(Object(s.a)(r),"state",{isPlaying:!1}),r.ref=p.a.createRef(),r._uid=0,r._uid=y++,window["SWF_PUBLISHER_ON_PLAY"+r._uid]=r.onPlayButton.bind(Object(s.a)(r)),window["SWF_PUBLISHER_ON_ERROR"+r._uid]=r.onError.bind(Object(s.a)(r)),r.onPlayButton.bind(Object(s.a)(r)),r}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentWillUnmount",value:function(){delete window["SWF_PUBLISHER_ON_PLAY"+this._uid],delete window["SWF_PUBLISHER_ON_ERROR"+this._uid]}},{key:"onPlayButton",value:function(e){console.log("RtmpPublisher====================clickBtn===========",e);var t=this.props,r=t.startLive,o=t.stopLive;e?r&&r():o&&o()}},{key:"onError",value:function(){console.log("onError",arguments)}},{key:"render",value:function(){var e=this,t=this.props,r=t.streamKey,o=t.start_state;return b("div",{style:{width:"100%",height:"100%",maxHeight:700}},b(w.a,{ref:function(t){e._swfPlayerNode=t,e.ref=t},id:"__MyExternalInterfaceExample_SWFID_"+this._uid,src:"../static/swf/rtmpPublisher.swf",allowFullScreen:!0,allowscriptaccess:"always",width:"100%",height:"100%",wmode:"transparent",flashVars:{streamer:h.config.rtmpUrl,file:r,onPlayButton:"SWF_PUBLISHER_ON_PLAY"+this._uid,onError:"SWF_PUBLISHER_ON_ERROR"+this._uid,start_state:o}}))}}]),t}(u.Component)}}]);