(window["webpackJsonp_N_E"] = window["webpackJsonp_N_E"] || []).push([[83],{

/***/ "./node_modules/mpegts.js/dist/mpegts.js":
/*!***********************************************!*\
  !*** ./node_modules/mpegts.js/dist/mpegts.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(e,t){ true?module.exports=t():undefined}(window,(function(){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=14)}([function(e,t,i){"use strict";var n=i(6),a=i.n(n),r=function(){function e(){}return e.e=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","error",n),e.ENABLE_ERROR&&(console.error?console.error(n):console.warn?console.warn(n):console.log(n))},e.i=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","info",n),e.ENABLE_INFO&&(console.info?console.info(n):console.log(n))},e.w=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","warn",n),e.ENABLE_WARN&&(console.warn?console.warn(n):console.log(n))},e.d=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","debug",n),e.ENABLE_DEBUG&&(console.debug?console.debug(n):console.log(n))},e.v=function(t,i){t&&!e.FORCE_GLOBAL_TAG||(t=e.GLOBAL_TAG);var n="["+t+"] > "+i;e.ENABLE_CALLBACK&&e.emitter.emit("log","verbose",n),e.ENABLE_VERBOSE&&console.log(n)},e}();r.GLOBAL_TAG="mpegts.js",r.FORCE_GLOBAL_TAG=!1,r.ENABLE_ERROR=!0,r.ENABLE_INFO=!0,r.ENABLE_WARN=!0,r.ENABLE_DEBUG=!0,r.ENABLE_VERBOSE=!0,r.ENABLE_CALLBACK=!1,r.emitter=new a.a,t.a=r},function(e,t,i){"use strict";t.a={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"}},function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return r})),i.d(t,"a",(function(){return s}));var n=i(3),a={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},r={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"},s=function(){function e(e){this._type=e||"undefined",this._status=a.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}return e.prototype.destroy=function(){this._status=a.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null},e.prototype.isWorking=function(){return this._status===a.kConnecting||this._status===a.kBuffering},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needStashBuffer",{get:function(){return this._needStash},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onContentLengthKnown",{get:function(){return this._onContentLengthKnown},set:function(e){this._onContentLengthKnown=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onURLRedirect",{get:function(){return this._onURLRedirect},set:function(e){this._onURLRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),e.prototype.open=function(e,t){throw new n.c("Unimplemented abstract function!")},e.prototype.abort=function(){throw new n.c("Unimplemented abstract function!")},e}()},function(e,t,i){"use strict";i.d(t,"d",(function(){return r})),i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return d}));var n,a=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=function(){function e(e){this._message=e}return Object.defineProperty(e.prototype,"name",{get:function(){return"RuntimeException"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this._message},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this.name+": "+this.message},e}(),s=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"IllegalStateException"},enumerable:!1,configurable:!0}),t}(r),o=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"InvalidArgumentException"},enumerable:!1,configurable:!0}),t}(r),d=function(e){function t(t){return e.call(this,t)||this}return a(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"NotImplementedException"},enumerable:!1,configurable:!0}),t}(r)},function(e,t,i){"use strict";var n={};!function(){var e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],a={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},r={};if(a.browser){r[a.browser]=!0;var s=a.majorVersion.split(".");r.version={major:parseInt(a.majorVersion,10),string:a.version},s.length>1&&(r.version.minor=parseInt(s[1],10)),s.length>2&&(r.version.build=parseInt(s[2],10))}if(a.platform&&(r[a.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;a.browser="msie",r.msie=!0}if(r.edge){delete r.edge;a.browser="msedge",r.msedge=!0}if(r.opr){a.browser="opera",r.opera=!0}if(r.safari&&r.android){a.browser="android",r.android=!0}for(var o in r.name=a.browser,r.platform=a.platform,n)n.hasOwnProperty(o)&&delete n[o];Object.assign(n,r)}(),t.a=n},function(e,t,i){"use strict";t.a={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"}},function(e,t,i){"use strict";var n,a="object"==typeof Reflect?Reflect:null,r=a&&"function"==typeof a.apply?a.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};n=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(i,n){function a(i){e.removeListener(t,r),n(i)}function r(){"function"==typeof e.removeListener&&e.removeListener("error",a),i([].slice.call(arguments))}g(e,t,r,{once:!0}),"error"!==t&&function(e,t,i){"function"==typeof e.on&&g(e,"error",t,i)}(e,a,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var d=10;function _(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function h(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,i,n){var a,r,s,o;if(_(i),void 0===(r=e._events)?(r=e._events=Object.create(null),e._eventsCount=0):(void 0!==r.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),r=e._events),s=r[t]),void 0===s)s=r[t]=i,++e._eventsCount;else if("function"==typeof s?s=r[t]=n?[i,s]:[s,i]:n?s.unshift(i):s.push(i),(a=h(e))>0&&s.length>a&&!s.warned){s.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=s.length,o=d,console&&console.warn&&console.warn(o)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},a=u.bind(n);return a.listener=i,n.wrapFn=a,a}function f(e,t,i){var n=e._events;if(void 0===n)return[];var a=n[t];return void 0===a?[]:"function"==typeof a?i?[a.listener||a]:[a]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(a):m(a,a.length)}function p(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function m(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function g(e,t,i,n){if("function"==typeof e.on)n.once?e.once(t,i):e.on(t,i);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function a(r){n.once&&e.removeEventListener(t,a),i(r)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");d=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,a=this._events;if(void 0!==a)n=n&&void 0===a.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var d=a[e];if(void 0===d)return!1;if("function"==typeof d)r(d,this,t);else{var _=d.length,h=m(d,_);for(i=0;i<_;++i)r(h[i],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return _(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return _(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var i,n,a,r,s;if(_(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(a=-1,r=i.length-1;r>=0;r--)if(i[r]===t||i[r].listener===t){s=i[r].listener,a=r;break}if(a<0)return this;0===a?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,a),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var a,r=Object.keys(i);for(n=0;n<r.length;++n)"removeListener"!==(a=r[n])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,i){"use strict";i.d(t,"d",(function(){return n})),i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return r})),i.d(t,"c",(function(){return s}));var n=function(e,t,i,n,a){this.dts=e,this.pts=t,this.duration=i,this.originalDts=n,this.isSyncPoint=a,this.fileposition=null},a=function(){function e(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}return e.prototype.appendSyncPoint=function(e){e.isSyncPoint=!0,this.syncPoints.push(e)},e}(),r=function(){function e(){this._list=[]}return e.prototype.clear=function(){this._list=[]},e.prototype.appendArray=function(e){var t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))},e.prototype.getLastSyncPointBeforeDts=function(e){if(0==this._list.length)return null;var t=this._list,i=0,n=t.length-1,a=0,r=0,s=n;for(e<t[0].dts&&(i=0,r=s+1);r<=s;){if((a=r+Math.floor((s-r)/2))===n||e>=t[a].dts&&e<t[a+1].dts){i=a;break}t[a].dts<e?r=a+1:s=a-1}return this._list[i]},e}(),s=function(){function e(e){this._type=e,this._list=[],this._lastAppendLocation=-1}return Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._list.length},e.prototype.clear=function(){this._list=[],this._lastAppendLocation=-1},e.prototype._searchNearestSegmentBefore=function(e){var t=this._list;if(0===t.length)return-2;var i=t.length-1,n=0,a=0,r=i,s=0;if(e<t[0].originalBeginDts)return s=-1;for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>t[n].lastSample.originalDts&&e<t[n+1].originalBeginDts){s=n;break}t[n].originalBeginDts<e?a=n+1:r=n-1}return s},e.prototype._searchNearestSegmentAfter=function(e){return this._searchNearestSegmentBefore(e)+1},e.prototype.append=function(e){var t=this._list,i=e,n=this._lastAppendLocation,a=0;-1!==n&&n<t.length&&i.originalBeginDts>=t[n].lastSample.originalDts&&(n===t.length-1||n<t.length-1&&i.originalBeginDts<t[n+1].originalBeginDts)?a=n+1:t.length>0&&(a=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=a,this._list.splice(a,0,i)},e.prototype.getLastSegmentBefore=function(e){var t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null},e.prototype.getLastSampleBefore=function(e){var t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null},e.prototype.getLastSyncPointBefore=function(e){for(var t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null},e}()},function(e,t,i){"use strict";var n=function(){function e(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}return e.prototype.isComplete=function(){var e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&e&&t},e.prototype.isSeekable=function(){return!0===this.hasKeyframesIndex},e.prototype.getNearestKeyframe=function(e){if(null==this.keyframesIndex)return null;var t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}},e.prototype._search=function(e,t){var i=0,n=e.length-1,a=0,r=0,s=n;for(t<e[0]&&(i=0,r=s+1);r<=s;){if((a=r+Math.floor((s-r)/2))===n||t>=e[a]&&t<e[a+1]){i=a;break}e[a]<t?r=a+1:s=a-1}return i},e}();t.a=n},function(e,t,i){"use strict";var n=i(6),a=i.n(n),r=i(0),s=function(){function e(){}return Object.defineProperty(e,"forceGlobalTag",{get:function(){return r.a.FORCE_GLOBAL_TAG},set:function(t){r.a.FORCE_GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"globalTag",{get:function(){return r.a.GLOBAL_TAG},set:function(t){r.a.GLOBAL_TAG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableAll",{get:function(){return r.a.ENABLE_VERBOSE&&r.a.ENABLE_DEBUG&&r.a.ENABLE_INFO&&r.a.ENABLE_WARN&&r.a.ENABLE_ERROR},set:function(t){r.a.ENABLE_VERBOSE=t,r.a.ENABLE_DEBUG=t,r.a.ENABLE_INFO=t,r.a.ENABLE_WARN=t,r.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableDebug",{get:function(){return r.a.ENABLE_DEBUG},set:function(t){r.a.ENABLE_DEBUG=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableVerbose",{get:function(){return r.a.ENABLE_VERBOSE},set:function(t){r.a.ENABLE_VERBOSE=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableInfo",{get:function(){return r.a.ENABLE_INFO},set:function(t){r.a.ENABLE_INFO=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableWarn",{get:function(){return r.a.ENABLE_WARN},set:function(t){r.a.ENABLE_WARN=t,e._notifyChange()},enumerable:!1,configurable:!0}),Object.defineProperty(e,"enableError",{get:function(){return r.a.ENABLE_ERROR},set:function(t){r.a.ENABLE_ERROR=t,e._notifyChange()},enumerable:!1,configurable:!0}),e.getConfig=function(){return{globalTag:r.a.GLOBAL_TAG,forceGlobalTag:r.a.FORCE_GLOBAL_TAG,enableVerbose:r.a.ENABLE_VERBOSE,enableDebug:r.a.ENABLE_DEBUG,enableInfo:r.a.ENABLE_INFO,enableWarn:r.a.ENABLE_WARN,enableError:r.a.ENABLE_ERROR,enableCallback:r.a.ENABLE_CALLBACK}},e.applyConfig=function(e){r.a.GLOBAL_TAG=e.globalTag,r.a.FORCE_GLOBAL_TAG=e.forceGlobalTag,r.a.ENABLE_VERBOSE=e.enableVerbose,r.a.ENABLE_DEBUG=e.enableDebug,r.a.ENABLE_INFO=e.enableInfo,r.a.ENABLE_WARN=e.enableWarn,r.a.ENABLE_ERROR=e.enableError,r.a.ENABLE_CALLBACK=e.enableCallback},e._notifyChange=function(){var t=e.emitter;if(t.listenerCount("change")>0){var i=e.getConfig();t.emit("change",i)}},e.registerListener=function(t){e.emitter.addListener("change",t)},e.removeListener=function(t){e.emitter.removeListener("change",t)},e.addLogListener=function(t){r.a.emitter.addListener("log",t),r.a.emitter.listenerCount("log")>0&&(r.a.ENABLE_CALLBACK=!0,e._notifyChange())},e.removeLogListener=function(t){r.a.emitter.removeListener("log",t),0===r.a.emitter.listenerCount("log")&&(r.a.ENABLE_CALLBACK=!1,e._notifyChange())},e}();s.emitter=new a.a,t.a=s},function(e,t,i){"use strict";var n=i(6),a=i.n(n),r=i(0),s=i(4),o=i(8);function d(e,t,i){var n=e;if(t+i<n.length){for(;i--;)if(128!=(192&n[++t]))return!1;return!0}return!1}var _,h=function(e){for(var t=[],i=e,n=0,a=e.length;n<a;)if(i[n]<128)t.push(String.fromCharCode(i[n])),++n;else{if(i[n]<192);else if(i[n]<224){if(d(i,n,1))if((r=(31&i[n])<<6|63&i[n+1])>=128){t.push(String.fromCharCode(65535&r)),n+=2;continue}}else if(i[n]<240){if(d(i,n,2))if((r=(15&i[n])<<12|(63&i[n+1])<<6|63&i[n+2])>=2048&&55296!=(63488&r)){t.push(String.fromCharCode(65535&r)),n+=3;continue}}else if(i[n]<248){var r;if(d(i,n,3))if((r=(7&i[n])<<18|(63&i[n+1])<<12|(63&i[n+2])<<6|63&i[n+3])>65536&&r<1114112){r-=65536,t.push(String.fromCharCode(r>>>10|55296)),t.push(String.fromCharCode(1023&r|56320)),n+=4;continue}}t.push(String.fromCharCode(65533)),++n}return t.join("")},c=i(3),u=(_=new ArrayBuffer(2),new DataView(_).setInt16(0,256,!0),256===new Int16Array(_)[0]),l=function(){function e(){}return e.parseScriptData=function(t,i,n){var a={};try{var s=e.parseValue(t,i,n),o=e.parseValue(t,i+s.size,n-s.size);a[s.data]=o.data}catch(e){r.a.e("AMF",e.toString())}return a},e.parseObject=function(t,i,n){if(n<3)throw new c.a("Data not enough when parse ScriptDataObject");var a=e.parseString(t,i,n),r=e.parseValue(t,i+a.size,n-a.size),s=r.objectEnd;return{data:{name:a.data,value:r.data},size:a.size+r.size,objectEnd:s}},e.parseVariable=function(t,i,n){return e.parseObject(t,i,n)},e.parseString=function(e,t,i){if(i<2)throw new c.a("Data not enough when parse String");var n=new DataView(e,t,i).getUint16(0,!u);return{data:n>0?h(new Uint8Array(e,t+2,n)):"",size:2+n}},e.parseLongString=function(e,t,i){if(i<4)throw new c.a("Data not enough when parse LongString");var n=new DataView(e,t,i).getUint32(0,!u);return{data:n>0?h(new Uint8Array(e,t+4,n)):"",size:4+n}},e.parseDate=function(e,t,i){if(i<10)throw new c.a("Data size invalid when parse Date");var n=new DataView(e,t,i),a=n.getFloat64(0,!u),r=n.getInt16(8,!u);return{data:new Date(a+=60*r*1e3),size:10}},e.parseValue=function(t,i,n){if(n<1)throw new c.a("Data not enough when parse Value");var a,s=new DataView(t,i,n),o=1,d=s.getUint8(0),_=!1;try{switch(d){case 0:a=s.getFloat64(1,!u),o+=8;break;case 1:a=!!s.getUint8(1),o+=1;break;case 2:var h=e.parseString(t,i+1,n-1);a=h.data,o+=h.size;break;case 3:a={};var l=0;for(9==(16777215&s.getUint32(n-4,!u))&&(l=3);o<n-4;){var f=e.parseObject(t,i+o,n-o-l);if(f.objectEnd)break;a[f.data.name]=f.data.value,o+=f.size}if(o<=n-3)9===(16777215&s.getUint32(o-1,!u))&&(o+=3);break;case 8:a={},o+=4;l=0;for(9==(16777215&s.getUint32(n-4,!u))&&(l=3);o<n-8;){var p=e.parseVariable(t,i+o,n-o-l);if(p.objectEnd)break;a[p.data.name]=p.data.value,o+=p.size}if(o<=n-3)9===(16777215&s.getUint32(o-1,!u))&&(o+=3);break;case 9:a=void 0,o=1,_=!0;break;case 10:a=[];var m=s.getUint32(1,!u);o+=4;for(var g=0;g<m;g++){var v=e.parseValue(t,i+o,n-o);a.push(v.data),o+=v.size}break;case 11:var y=e.parseDate(t,i+1,n-1);a=y.data,o+=y.size;break;case 12:var b=e.parseString(t,i+1,n-1);a=b.data,o+=b.size;break;default:o=n,r.a.w("AMF","Unsupported AMF value type "+d)}}catch(e){r.a.e("AMF",e.toString())}return{data:a,size:o,objectEnd:_}},e}(),f=function(){function e(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}return e.prototype.destroy=function(){this._buffer=null},e.prototype._fillCurrentWord=function(){var e=this._total_bytes-this._buffer_index;if(e<=0)throw new c.a("ExpGolomb: _fillCurrentWord() but no bytes available");var t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t},e.prototype.readBits=function(e){if(e>32)throw new c.b("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){var t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}var i=this._current_word_bits_left?this._current_word:0;i>>>=32-this._current_word_bits_left;var n=e-this._current_word_bits_left;this._fillCurrentWord();var a=Math.min(n,this._current_word_bits_left),r=this._current_word>>>32-a;return this._current_word<<=a,this._current_word_bits_left-=a,i=i<<a|r},e.prototype.readBool=function(){return 1===this.readBits(1)},e.prototype.readByte=function(){return this.readBits(8)},e.prototype._skipLeadingZero=function(){var e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()},e.prototype.readUEG=function(){var e=this._skipLeadingZero();return this.readBits(e+1)-1},e.prototype.readSEG=function(){var e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)},e}(),p=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),a=0,r=0;r<i;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[a]=t[r],a++);return new Uint8Array(n.buffer,0,a)},e.parseSPS=function(t){for(var i=t.subarray(1,4),n="avc1.",a=0;a<3;a++){var r=i[a].toString(16);r.length<2&&(r="0"+r),n+=r}var s=e._ebsp2rbsp(t),o=new f(s);o.readByte();var d=o.readByte();o.readByte();var _=o.readByte();o.readUEG();var h=e.getProfileString(d),c=e.getLevelString(_),u=1,l=420,p=8,m=8;if((100===d||110===d||122===d||244===d||44===d||83===d||86===d||118===d||128===d||138===d||144===d)&&(3===(u=o.readUEG())&&o.readBits(1),u<=3&&(l=[0,420,422,444][u]),p=o.readUEG()+8,m=o.readUEG()+8,o.readBits(1),o.readBool()))for(var g=3!==u?8:12,v=0;v<g;v++)o.readBool()&&(v<6?e._skipScalingList(o,16):e._skipScalingList(o,64));o.readUEG();var y=o.readUEG();if(0===y)o.readUEG();else if(1===y){o.readBits(1),o.readSEG(),o.readSEG();var b=o.readUEG();for(v=0;v<b;v++)o.readSEG()}var S=o.readUEG();o.readBits(1);var E=o.readUEG(),A=o.readUEG(),R=o.readBits(1);0===R&&o.readBits(1),o.readBits(1);var T=0,L=0,w=0,k=0;o.readBool()&&(T=o.readUEG(),L=o.readUEG(),w=o.readUEG(),k=o.readUEG());var D=1,C=1,B=0,I=!0,O=0,P=0;if(o.readBool()){if(o.readBool()){var M=o.readByte();M>0&&M<16?(D=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][M-1],C=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][M-1]):255===M&&(D=o.readByte()<<8|o.readByte(),C=o.readByte()<<8|o.readByte())}if(o.readBool()&&o.readBool(),o.readBool()&&(o.readBits(4),o.readBool()&&o.readBits(24)),o.readBool()&&(o.readUEG(),o.readUEG()),o.readBool()){var x=o.readBits(32),U=o.readBits(32);I=o.readBool(),B=(O=U)/(P=2*x)}}var N=1;1===D&&1===C||(N=D/C);var G=0,V=0;0===u?(G=1,V=2-R):(G=3===u?1:2,V=(1===u?2:1)*(2-R));var F=16*(E+1),j=16*(A+1)*(2-R);F-=(T+L)*G,j-=(w+k)*V;var z=Math.ceil(F*N);return o.destroy(),o=null,{codec_mimetype:n,profile_idc:d,level_idc:_,profile_string:h,level_string:c,chroma_format_idc:u,bit_depth:p,bit_depth_luma:p,bit_depth_chroma:m,ref_frames:S,chroma_format:l,chroma_format_string:e.getChromaFormatString(l),frame_rate:{fixed:I,fps:B,fps_den:P,fps_num:O},sar_ratio:{width:D,height:C},codec_size:{width:F,height:j},present_size:{width:z,height:j}}},e._skipScalingList=function(e,t){for(var i=8,n=8,a=0;a<t;a++)0!==n&&(n=(i+e.readSEG()+256)%256),i=0===n?i:n},e.getProfileString=function(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}},e.getLevelString=function(e){return(e/10).toFixed(1)},e.getChromaFormatString=function(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}},e}(),m=i(5),g=function(){function e(){}return e._ebsp2rbsp=function(e){for(var t=e,i=t.byteLength,n=new Uint8Array(i),a=0,r=0;r<i;r++)r>=2&&3===t[r]&&0===t[r-1]&&0===t[r-2]||(n[a]=t[r],a++);return new Uint8Array(n.buffer,0,a)},e.parseVPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);n.readByte(),n.readByte();n.readBits(4);n.readBits(2);n.readBits(6);return{num_temporal_layers:n.readBits(3)+1,temporal_id_nested:n.readBool()}},e.parseSPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);n.readByte(),n.readByte();for(var a=0,r=0,s=0,o=0,d=(n.readBits(4),n.readBits(3)),_=(n.readBool(),n.readBits(2)),h=n.readBool(),c=n.readBits(5),u=n.readByte(),l=n.readByte(),p=n.readByte(),m=n.readByte(),g=n.readByte(),v=n.readByte(),y=n.readByte(),b=n.readByte(),S=n.readByte(),E=n.readByte(),A=n.readByte(),R=[],T=[],L=0;L<d;L++)R.push(n.readBool()),T.push(n.readBool());if(d>0)for(L=d;L<8;L++)n.readBits(2);for(L=0;L<d;L++)R[L]&&(n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte(),n.readByte()),T[L]&&n.readByte();n.readUEG();var w=n.readUEG();3==w&&n.readBits(1);var k=n.readUEG(),D=n.readUEG();n.readBool()&&(a+=n.readUEG(),r+=n.readUEG(),s+=n.readUEG(),o+=n.readUEG());var C=n.readUEG(),B=n.readUEG(),I=n.readUEG();for(L=n.readBool()?0:d;L<=d;L++)n.readUEG(),n.readUEG(),n.readUEG();n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG();if(n.readBool()&&n.readBool())for(var O=0;O<4;O++)for(var P=0;P<(3===O?2:6);P++){if(n.readBool()){var M=Math.min(64,1<<4+(O<<1));O>1&&n.readSEG();for(L=0;L<M;L++)n.readSEG()}else n.readUEG()}n.readBool(),n.readBool();n.readBool()&&(n.readByte(),n.readUEG(),n.readUEG(),n.readBool());var x=n.readUEG(),U=0;for(L=0;L<x;L++){var N=!1;if(0!==L&&(N=n.readBool()),N){L===x&&n.readUEG(),n.readBool(),n.readUEG();for(var G=0,V=0;V<=U;V++){var F=n.readBool(),j=!1;F||(j=n.readBool()),(F||j)&&G++}U=G}else{var z=n.readUEG(),H=n.readUEG();U=z+H;for(V=0;V<z;V++)n.readUEG(),n.readBool();for(V=0;V<H;V++)n.readUEG(),n.readBool()}}if(n.readBool()){var q=n.readUEG();for(L=0;L<q;L++){for(V=0;V<I+4;V++)n.readBits(1);n.readBits(1)}}var K=0,W=1,X=1,Y=!1,J=1,Z=1;n.readBool(),n.readBool();if(n.readBool()){if(n.readBool()){var Q=n.readByte();Q>0&&Q<=16?(W=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][Q-1],X=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][Q-1]):255===Q&&(W=n.readBits(16),X=n.readBits(16))}if(n.readBool()&&n.readBool(),n.readBool())n.readBits(3),n.readBool(),n.readBool()&&(n.readByte(),n.readByte(),n.readByte());n.readBool()&&(n.readUEG(),n.readUEG());n.readBool(),n.readBool(),n.readBool();if(n.readBool()&&(n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG()),n.readBool())if(J=n.readBits(32),Z=n.readBits(32),n.readBool())if(n.readUEG(),n.readBool()){var $=!1,ee=!1,te=!1;if($=n.readBool(),ee=n.readBool(),$||ee){(te=n.readBool())&&(n.readByte(),n.readBits(5),n.readBool(),n.readBits(5));n.readBits(4),n.readBits(4);te&&n.readBits(4),n.readBits(5),n.readBits(5),n.readBits(5)}for(L=0;L<=d;L++){var ie=n.readBool();Y=ie;var ne=!1,ae=1;ie||(ne=n.readBool());var re=!1;if(ne?n.readSEG():re=n.readBool(),re||(ae=n.readUEG()+1),$)for(V=0;V<ae;V++)n.readUEG(),n.readUEG(),te&&(n.readUEG(),n.readUEG());if(ee)for(V=0;V<ae;V++)n.readUEG(),n.readUEG(),te&&(n.readUEG(),n.readUEG())}}if(n.readBool()){n.readBool(),n.readBool(),n.readBool();K=n.readUEG();n.readUEG(),n.readUEG(),n.readUEG(),n.readUEG()}}n.readBool();var se="hvc1."+c+".1.L"+A+".B0",oe=k-(a+r)*(1===w||2===w?2:1),de=D-(s+o)*(1===w?2:1),_e=1;return 1!==W&&1!==X&&(_e=W/X),n.destroy(),n=null,{codec_mimetype:se,level_string:e.getLevelString(A),profile_idc:c,bit_depth:C+8,ref_frames:1,chroma_format:w,chroma_format_string:e.getChromaFormatString(w),general_level_idc:A,general_profile_space:_,general_tier_flag:h,general_profile_idc:c,general_profile_compatibility_flags_1:u,general_profile_compatibility_flags_2:l,general_profile_compatibility_flags_3:p,general_profile_compatibility_flags_4:m,general_constraint_indicator_flags_1:g,general_constraint_indicator_flags_2:v,general_constraint_indicator_flags_3:y,general_constraint_indicator_flags_4:b,general_constraint_indicator_flags_5:S,general_constraint_indicator_flags_6:E,min_spatial_segmentation_idc:K,constant_frame_rate:0,chroma_format_idc:w,bit_depth_luma_minus8:C,bit_depth_chroma_minus8:B,frame_rate:{fixed:Y,fps:Z/J,fps_den:J,fps_num:Z},sar_ratio:{width:W,height:X},codec_size:{width:oe,height:de},present_size:{width:oe*_e,height:de}}},e.parsePPS=function(t){var i=e._ebsp2rbsp(t),n=new f(i);n.readByte(),n.readByte();n.readUEG(),n.readUEG(),n.readBool(),n.readBool(),n.readBits(3),n.readBool(),n.readBool(),n.readUEG(),n.readUEG(),n.readSEG(),n.readBool(),n.readBool();if(n.readBool())n.readUEG();n.readSEG(),n.readSEG(),n.readBool(),n.readBool(),n.readBool(),n.readBool();var a=n.readBool(),r=n.readBool(),s=1;return r&&a?s=0:r?s=3:a&&(s=2),{parallelismType:s}},e.getChromaFormatString=function(e){switch(e){case 0:return"4:0:0";case 1:return"4:2:0";case 2:return"4:2:2";case 3:return"4:4:4";default:return"Unknown"}},e.getProfileString=function(e){switch(e){case 1:return"Main";case 2:return"Main10";case 3:return"MainSP";case 4:return"Rext";case 9:return"SCC";default:return"Unknown"}},e.getLevelString=function(e){return(e/30).toFixed(1)},e}();function v(e){return e.byteOffset%2==0&&e.byteLength%2==0}function y(e){return e.byteOffset%4==0&&e.byteLength%4==0}function b(e,t){for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var S=function(e,t){return e.byteLength===t.byteLength&&(y(e)&&y(t)?function(e,t){return b(new Uint32Array(e.buffer,e.byteOffset,e.byteLength/4),new Uint32Array(t.buffer,t.byteOffset,t.byteLength/4))}(e,t):v(e)&&v(t)?function(e,t){return b(new Uint16Array(e.buffer,e.byteOffset,e.byteLength/2),new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2))}(e,t):function(e,t){return b(e,t)}(e,t))};var E,A=function(){function e(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new o.a,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}return e.prototype.destroy=function(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null},e.probe=function(e){var t=new Uint8Array(e);if(t.byteLength<9)return{needMoreData:!0};var i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;var n,a,r=(4&t[4])>>>2!=0,s=0!=(1&t[4]),o=(n=t)[a=5]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3];return o<9?i:{match:!0,consumed:o,dataOffset:o,hasAudioTrack:r,hasVideoTrack:s}},e.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},Object.defineProperty(e.prototype,"onTrackMetadata",{get:function(){return this._onTrackMetadata},set:function(e){this._onTrackMetadata=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaInfo",{get:function(){return this._onMediaInfo},set:function(e){this._onMediaInfo=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMetaDataArrived",{get:function(){return this._onMetaDataArrived},set:function(e){this._onMetaDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onScriptDataArrived",{get:function(){return this._onScriptDataArrived},set:function(e){this._onScriptDataArrived=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataAvailable",{get:function(){return this._onDataAvailable},set:function(e){this._onDataAvailable=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"timestampBase",{get:function(){return this._timestampBase},set:function(e){this._timestampBase=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedDuration",{get:function(){return this._duration},set:function(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasAudio",{set:function(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"overridedHasVideo",{set:function(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e},enumerable:!1,configurable:!0}),e.prototype.resetMediaInfo=function(){this._mediaInfo=new o.a},e.prototype._isInitialMetadataDispatched=function(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched},e.prototype.parseChunks=function(t,i){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new c.a("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var n=0,a=this._littleEndian;if(0===i){if(!(t.byteLength>13))return 0;n=e.probe(t).dataOffset}this._firstParse&&(this._firstParse=!1,i+n!==this._dataOffset&&r.a.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==(s=new DataView(t,n)).getUint32(0,!a)&&r.a.w(this.TAG,"PrevTagSize0 !== 0 !!!"),n+=4);for(;n<t.byteLength;){this._dispatch=!0;var s=new DataView(t,n);if(n+11+4>t.byteLength)break;var o=s.getUint8(0),d=16777215&s.getUint32(0,!a);if(n+11+d+4>t.byteLength)break;if(8===o||9===o||18===o){var _=s.getUint8(4),h=s.getUint8(5),u=s.getUint8(6)|h<<8|_<<16|s.getUint8(7)<<24;0!==(16777215&s.getUint32(7,!a))&&r.a.w(this.TAG,"Meet tag which has StreamID != 0!");var l=n+11;switch(o){case 8:this._parseAudioData(t,l,d,u);break;case 9:this._parseVideoData(t,l,d,u,i+n);break;case 18:this._parseScriptData(t,l,d)}var f=s.getUint32(11+d,!a);f!==11+d&&r.a.w(this.TAG,"Invalid PrevTagSize "+f),n+=11+d+4}else r.a.w(this.TAG,"Unsupported tag type "+o+", skipped"),n+=11+d+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),n},e.prototype._parseScriptData=function(e,t,i){var n=l.parseScriptData(e,t,i);if(n.hasOwnProperty("onMetaData")){if(null==n.onMetaData||"object"!=typeof n.onMetaData)return void r.a.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&r.a.w(this.TAG,"Found another onMetaData tag!"),this._metadata=n;var a=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},a)),"boolean"==typeof a.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=a.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof a.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=a.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof a.audiodatarate&&(this._mediaInfo.audioDataRate=a.audiodatarate),"number"==typeof a.videodatarate&&(this._mediaInfo.videoDataRate=a.videodatarate),"number"==typeof a.width&&(this._mediaInfo.width=a.width),"number"==typeof a.height&&(this._mediaInfo.height=a.height),"number"==typeof a.duration){if(!this._durationOverrided){var s=Math.floor(a.duration*this._timescale);this._duration=s,this._mediaInfo.duration=s}}else this._mediaInfo.duration=0;if("number"==typeof a.framerate){var o=Math.floor(1e3*a.framerate);if(o>0){var d=o/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=d,this._referenceFrameRate.fps_num=o,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=d}}if("object"==typeof a.keyframes){this._mediaInfo.hasKeyframesIndex=!0;var _=a.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(_),a.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=a,r.a.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(n).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},n))},e.prototype._parseKeyframesIndex=function(e){for(var t=[],i=[],n=1;n<e.times.length;n++){var a=this._timestampBase+Math.floor(1e3*e.times[n]);t.push(a),i.push(e.filepositions[n])}return{times:t,filepositions:i}},e.prototype._parseAudioData=function(e,t,i,n){if(i<=1)r.a.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");else if(!0!==this._hasAudioFlagOverrided||!1!==this._hasAudio){this._littleEndian;var a=new DataView(e,t,i).getUint8(0),s=a>>>4;if(2===s||10===s){var o=0,d=(12&a)>>>2;if(d>=0&&d<=4){o=this._flvSoundRateTable[d];var _=1&a,h=this._audioMetadata,c=this._audioTrack;if(h||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),(h=this._audioMetadata={}).type="audio",h.id=c.id,h.timescale=this._timescale,h.duration=this._duration,h.audioSampleRate=o,h.channelCount=0===_?1:2),10===s){var u=this._parseAACAudioData(e,t+1,i-1);if(null==u)return;if(0===u.packetType){if(h.config){if(S(u.data.config,h.config))return;r.a.w(this.TAG,"AudioSpecificConfig has been changed, re-generate initialization segment")}var l=u.data;h.audioSampleRate=l.samplingRate,h.channelCount=l.channelCount,h.codec=l.codec,h.originalCodec=l.originalCodec,h.config=l.config,h.refSampleDuration=1024/h.audioSampleRate*h.timescale,r.a.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",h),(g=this._mediaInfo).audioCodec=h.originalCodec,g.audioSampleRate=h.audioSampleRate,g.audioChannelCount=h.channelCount,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}else if(1===u.packetType){var f=this._timestampBase+n,p={unit:u.data,length:u.data.byteLength,dts:f,pts:f};c.samples.push(p),c.length+=u.data.length}else r.a.e(this.TAG,"Flv: Unsupported AAC data type "+u.packetType)}else if(2===s){if(!h.codec){var g;if(null==(l=this._parseMP3AudioData(e,t+1,i-1,!0)))return;h.audioSampleRate=l.samplingRate,h.channelCount=l.channelCount,h.codec=l.codec,h.originalCodec=l.originalCodec,h.refSampleDuration=1152/h.audioSampleRate*h.timescale,r.a.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",h),(g=this._mediaInfo).audioCodec=h.codec,g.audioSampleRate=h.audioSampleRate,g.audioChannelCount=h.channelCount,g.audioDataRate=l.bitRate,g.hasVideo?null!=g.videoCodec&&(g.mimeType='video/x-flv; codecs="'+g.videoCodec+","+g.audioCodec+'"'):g.mimeType='video/x-flv; codecs="'+g.audioCodec+'"',g.isComplete()&&this._onMediaInfo(g)}var v=this._parseMP3AudioData(e,t+1,i-1,!1);if(null==v)return;f=this._timestampBase+n;var y={unit:v,length:v.byteLength,dts:f,pts:f};c.samples.push(y),c.length+=v.length}}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+d)}else this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+s)}},e.prototype._parseAACAudioData=function(e,t,i){if(!(i<=1)){var n={},a=new Uint8Array(e,t,i);return n.packetType=a[0],0===a[0]?n.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):n.data=a.subarray(1),n}r.a.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!")},e.prototype._parseAACAudioSpecificConfig=function(e,t,i){var n,a,r=new Uint8Array(e,t,i),s=null,o=0,d=null;if(o=n=r[0]>>>3,(a=(7&r[0])<<1|r[1]>>>7)<0||a>=this._mpegSamplingRates.length)this._onError(m.a.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");else{var _=this._mpegSamplingRates[a],h=(120&r[1])>>>3;if(!(h<0||h>=8)){5===o&&(d=(7&r[1])<<1|r[2]>>>7,(124&r[2])>>>2);var c=self.navigator.userAgent.toLowerCase();return-1!==c.indexOf("firefox")?a>=6?(o=5,s=new Array(4),d=a-3):(o=2,s=new Array(2),d=a):-1!==c.indexOf("android")?(o=2,s=new Array(2),d=a):(o=5,d=a,s=new Array(4),a>=6?d=a-3:1===h&&(o=2,s=new Array(2),d=a)),s[0]=o<<3,s[0]|=(15&a)>>>1,s[1]=(15&a)<<7,s[1]|=(15&h)<<3,5===o&&(s[1]|=(15&d)>>>1,s[2]=(1&d)<<7,s[2]|=8,s[3]=0),{config:s,samplingRate:_,channelCount:h,codec:"mp4a.40."+o,originalCodec:"mp4a.40."+n}}this._onError(m.a.FORMAT_ERROR,"Flv: AAC invalid channel configuration")}},e.prototype._parseMP3AudioData=function(e,t,i,n){if(!(i<4)){this._littleEndian;var a=new Uint8Array(e,t,i),s=null;if(n){if(255!==a[0])return;var o=a[1]>>>3&3,d=(6&a[1])>>1,_=(240&a[2])>>>4,h=(12&a[2])>>>2,c=3!==(a[3]>>>6&3)?2:1,u=0,l=0;switch(o){case 0:u=this._mpegAudioV25SampleRateTable[h];break;case 2:u=this._mpegAudioV20SampleRateTable[h];break;case 3:u=this._mpegAudioV10SampleRateTable[h]}switch(d){case 1:34,_<this._mpegAudioL3BitRateTable.length&&(l=this._mpegAudioL3BitRateTable[_]);break;case 2:33,_<this._mpegAudioL2BitRateTable.length&&(l=this._mpegAudioL2BitRateTable[_]);break;case 3:32,_<this._mpegAudioL1BitRateTable.length&&(l=this._mpegAudioL1BitRateTable[_])}s={bitRate:l,samplingRate:u,channelCount:c,codec:"mp3",originalCodec:"mp3"}}else s=a;return s}r.a.w(this.TAG,"Flv: Invalid MP3 packet, header missing!")},e.prototype._parseVideoData=function(e,t,i,n,a){if(i<=1)r.a.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");else if(!0!==this._hasVideoFlagOverrided||!1!==this._hasVideo){var s=new Uint8Array(e,t,i)[0],o=(112&s)>>>4;if(0!=(128&s)){var d=15&s,_=String.fromCharCode.apply(String,new Uint8Array(e,t,i).slice(1,5));if("hvc1"!==_)return void this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+_);this._parseEnhancedHEVCVideoPacket(e,t+5,i-5,n,a,o,d)}else{var h=15&s;if(7===h)this._parseAVCVideoPacket(e,t+1,i-1,n,a,o);else{if(12!==h)return void this._onError(m.a.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+h);this._parseHEVCVideoPacket(e,t+1,i-1,n,a,o)}}}},e.prototype._parseAVCVideoPacket=function(e,t,i,n,a,s){if(i<4)r.a.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");else{var o=this._littleEndian,d=new DataView(e,t,i),_=d.getUint8(0),h=(16777215&d.getUint32(0,!o))<<8>>8;if(0===_)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===_)this._parseAVCVideoData(e,t+4,i-4,n,a,s,h);else if(2!==_)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type "+_)}},e.prototype._parseHEVCVideoPacket=function(e,t,i,n,a,s){if(i<4)r.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var o=this._littleEndian,d=new DataView(e,t,i),_=d.getUint8(0),h=(16777215&d.getUint32(0,!o))<<8>>8;if(0===_)this._parseHEVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===_)this._parseHEVCVideoData(e,t+4,i-4,n,a,s,h);else if(2!==_)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type "+_)}},e.prototype._parseEnhancedHEVCVideoPacket=function(e,t,i,n,a,s,o){if(i<4)r.a.w(this.TAG,"Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime");else{var d=this._littleEndian,_=new DataView(e,t,i);if(0===o)this._parseHEVCDecoderConfigurationRecord(e,t,i);else if(1===o){var h=(4294967040&_.getUint32(0,!d))>>8;this._parseHEVCVideoData(e,t+3,i-3,n,a,s,h)}else if(3===o)this._parseHEVCVideoData(e,t,i,n,a,s,0);else if(2!==o)return void this._onError(m.a.FORMAT_ERROR,"Flv: Invalid video packet type "+o)}},e.prototype._parseAVCDecoderConfigurationRecord=function(e,t,i){if(i<7)r.a.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,s=this._littleEndian,o=new DataView(e,t,i);if(n){if(void 0!==n.avcc){var d=new Uint8Array(e,t,i);if(S(d,n.avcc))return;r.a.w(this.TAG,"AVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration;var _=o.getUint8(0),h=o.getUint8(1);o.getUint8(2),o.getUint8(3);if(1===_&&0!==h)if(this._naluLengthSize=1+(3&o.getUint8(4)),3===this._naluLengthSize||4===this._naluLengthSize){var c=31&o.getUint8(5);if(0!==c){c>1&&r.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+c);for(var u=6,l=0;l<c;l++){var f=o.getUint16(u,!s);if(u+=2,0!==f){var g=new Uint8Array(e,t+u,f);u+=f;var v=p.parseSPS(g);if(0===l){n.codecWidth=v.codec_size.width,n.codecHeight=v.codec_size.height,n.presentWidth=v.present_size.width,n.presentHeight=v.present_size.height,n.profile=v.profile_string,n.level=v.level_string,n.bitDepth=v.bit_depth,n.chromaFormat=v.chroma_format,n.sarRatio=v.sar_ratio,n.frameRate=v.frame_rate,!1!==v.frame_rate.fixed&&0!==v.frame_rate.fps_num&&0!==v.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var y=n.frameRate.fps_den,b=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(y/b);for(var E=g.subarray(1,4),A="avc1.",R=0;R<3;R++){var T=E[R].toString(16);T.length<2&&(T="0"+T),A+=T}n.codec=A;var L=this._mediaInfo;L.width=n.codecWidth,L.height=n.codecHeight,L.fps=n.frameRate.fps,L.profile=n.profile,L.level=n.level,L.refFrames=v.ref_frames,L.chromaFormat=v.chroma_format_string,L.sarNum=n.sarRatio.width,L.sarDen=n.sarRatio.height,L.videoCodec=A,L.hasAudio?null!=L.audioCodec&&(L.mimeType='video/x-flv; codecs="'+L.videoCodec+","+L.audioCodec+'"'):L.mimeType='video/x-flv; codecs="'+L.videoCodec+'"',L.isComplete()&&this._onMediaInfo(L)}}}var w=o.getUint8(u);if(0!==w){w>1&&r.a.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+w),u++;for(l=0;l<w;l++){f=o.getUint16(u,!s);u+=2,0!==f&&(u+=f)}n.avcc=new Uint8Array(i),n.avcc.set(new Uint8Array(e,t,i),0),r.a.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS")}else this._onError(m.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord")}},e.prototype._parseHEVCDecoderConfigurationRecord=function(e,t,i){if(i<22)r.a.w(this.TAG,"Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!");else{var n=this._videoMetadata,a=this._videoTrack,s=this._littleEndian,o=new DataView(e,t,i);if(n){if(void 0!==n.hvcc){var d=new Uint8Array(e,t,i);if(S(d,n.hvcc))return;r.a.w(this.TAG,"HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment")}}else!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),(n=this._videoMetadata={}).type="video",n.id=a.id,n.timescale=this._timescale,n.duration=this._duration;var _=o.getUint8(0),h=31&o.getUint8(1);if(1===_&&0!==h)if(this._naluLengthSize=1+(3&o.getUint8(21)),3===this._naluLengthSize||4===this._naluLengthSize){for(var c=o.getUint8(22),u=0,l=23;u<c;u++){var f=63&o.getUint8(l+0),p=o.getUint16(l+1,!s);l+=3;for(var v=0;v<p;v++){var y=o.getUint16(l+0,!s);if(0===v)if(33===f){l+=2;var b=new Uint8Array(e,t+l,y),E=g.parseSPS(b);n.codecWidth=E.codec_size.width,n.codecHeight=E.codec_size.height,n.presentWidth=E.present_size.width,n.presentHeight=E.present_size.height,n.profile=E.profile_string,n.level=E.level_string,n.bitDepth=E.bit_depth,n.chromaFormat=E.chroma_format,n.sarRatio=E.sar_ratio,n.frameRate=E.frame_rate,!1!==E.frame_rate.fixed&&0!==E.frame_rate.fps_num&&0!==E.frame_rate.fps_den||(n.frameRate=this._referenceFrameRate);var A=n.frameRate.fps_den,R=n.frameRate.fps_num;n.refSampleDuration=n.timescale*(A/R),n.codec=E.codec_mimetype;var T=this._mediaInfo;T.width=n.codecWidth,T.height=n.codecHeight,T.fps=n.frameRate.fps,T.profile=n.profile,T.level=n.level,T.refFrames=E.ref_frames,T.chromaFormat=E.chroma_format_string,T.sarNum=n.sarRatio.width,T.sarDen=n.sarRatio.height,T.videoCodec=E.codec_mimetype,T.hasAudio?null!=T.audioCodec&&(T.mimeType='video/x-flv; codecs="'+T.videoCodec+","+T.audioCodec+'"'):T.mimeType='video/x-flv; codecs="'+T.videoCodec+'"',T.isComplete()&&this._onMediaInfo(T),l+=y}else l+=2+y;else l+=2+y}}n.hvcc=new Uint8Array(i),n.hvcc.set(new Uint8Array(e,t,i),0),r.a.v(this.TAG,"Parsed HEVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",n)}else this._onError(m.a.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));else this._onError(m.a.FORMAT_ERROR,"Flv: Invalid HEVCDecoderConfigurationRecord")}},e.prototype._parseAVCVideoData=function(e,t,i,n,a,s,o){for(var d=this._littleEndian,_=new DataView(e,t,i),h=[],c=0,u=0,l=this._naluLengthSize,f=this._timestampBase+n,p=1===s;u<i;){if(u+4>=i){r.a.w(this.TAG,"Malformed Nalu near timestamp "+f+", offset = "+u+", dataSize = "+i);break}var m=_.getUint32(u,!d);if(3===l&&(m>>>=8),m>i-l)return void r.a.w(this.TAG,"Malformed Nalus near timestamp "+f+", NaluSize > DataSize!");var g=31&_.getUint8(u+l);5===g&&(p=!0);var v=new Uint8Array(e,t+u,l+m),y={type:g,data:v};h.push(y),c+=v.byteLength,u+=l+m}if(h.length){var b=this._videoTrack,S={units:h,length:c,isKeyframe:p,dts:f,cts:o,pts:f+o};p&&(S.fileposition=a),b.samples.push(S),b.length+=c}},e.prototype._parseHEVCVideoData=function(e,t,i,n,a,s,o){for(var d=this._littleEndian,_=new DataView(e,t,i),h=[],c=0,u=0,l=this._naluLengthSize,f=this._timestampBase+n,p=1===s;u<i;){if(u+4>=i){r.a.w(this.TAG,"Malformed Nalu near timestamp "+f+", offset = "+u+", dataSize = "+i);break}var m=_.getUint32(u,!d);if(3===l&&(m>>>=8),m>i-l)return void r.a.w(this.TAG,"Malformed Nalus near timestamp "+f+", NaluSize > DataSize!");var g=31&_.getUint8(u+l);19!==g&&20!==g||(p=!0);var v=new Uint8Array(e,t+u,l+m),y={type:g,data:v};h.push(y),c+=v.byteLength,u+=l+m}if(h.length){var b=this._videoTrack,S={units:h,length:c,isKeyframe:p,dts:f,cts:o,pts:f+o};p&&(S.fileposition=a),b.samples.push(S),b.length+=c}},e}(),R=function(){function e(){}return e.prototype.destroy=function(){this.onError=null,this.onMediaInfo=null,this.onMetaDataArrived=null,this.onTrackMetadata=null,this.onDataAvailable=null,this.onTimedID3Metadata=null,this.onSMPTE2038Metadata=null,this.onSCTE35Metadata=null,this.onPESPrivateData=null,this.onPESPrivateDataDescriptor=null},e}(),T=function(){this.program_pmt_pid={}};!function(e){e[e.kMPEG1Audio=3]="kMPEG1Audio",e[e.kMPEG2Audio=4]="kMPEG2Audio",e[e.kPESPrivateData=6]="kPESPrivateData",e[e.kADTSAAC=15]="kADTSAAC",e[e.kLOASAAC=17]="kLOASAAC",e[e.kAC3=129]="kAC3",e[e.kID3=21]="kID3",e[e.kSCTE35=134]="kSCTE35",e[e.kH264=27]="kH264",e[e.kH265=36]="kH265"}(E||(E={}));var L,w=function(){this.pid_stream_type={},this.common_pids={h264:void 0,h265:void 0,adts_aac:void 0,loas_aac:void 0,opus:void 0,ac3:void 0,mp3:void 0},this.pes_private_data_pids={},this.timed_id3_pids={},this.scte_35_pids={},this.smpte2038_pids={}},k=function(){},D=function(){},C=function(){this.slices=[],this.total_length=0,this.expected_length=0,this.file_position=0};!function(e){e[e.kUnspecified=0]="kUnspecified",e[e.kSliceNonIDR=1]="kSliceNonIDR",e[e.kSliceDPA=2]="kSliceDPA",e[e.kSliceDPB=3]="kSliceDPB",e[e.kSliceDPC=4]="kSliceDPC",e[e.kSliceIDR=5]="kSliceIDR",e[e.kSliceSEI=6]="kSliceSEI",e[e.kSliceSPS=7]="kSliceSPS",e[e.kSlicePPS=8]="kSlicePPS",e[e.kSliceAUD=9]="kSliceAUD",e[e.kEndOfSequence=10]="kEndOfSequence",e[e.kEndOfStream=11]="kEndOfStream",e[e.kFiller=12]="kFiller",e[e.kSPSExt=13]="kSPSExt",e[e.kReserved0=14]="kReserved0"}(L||(L={}));var B,I,O=function(){},P=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},M=function(){function e(e){this.TAG="H264AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not find H264 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,i=this.data_;;){if(t+3>=i.byteLength)return this.eof_flag_=!0,i.byteLength;var n=i[t+0]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3],a=i[t+0]<<16|i[t+1]<<8|i[t+2];if(1===n||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_startcode_offset_,n=31&e[i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3],a=(128&e[i])>>>7,r=this.findNextStartCodeOffset(i);if(this.current_startcode_offset_=r,!(n>=L.kReserved0)&&0===a){var s=e.subarray(i,r);(t=new O).type=n,t.data=s}}return t},e}(),x=function(){function e(e,t,i){var n=8+e.byteLength+1+2+t.byteLength,a=!1;66!==e[3]&&77!==e[3]&&88!==e[3]&&(a=!0,n+=4);var r=this.data=new Uint8Array(n);r[0]=1,r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=255,r[5]=225;var s=e.byteLength;r[6]=s>>>8,r[7]=255&s;var o=8;r.set(e,8),r[o+=s]=1;var d=t.byteLength;r[o+1]=d>>>8,r[o+2]=255&d,r.set(t,o+3),o+=3+d,a&&(r[o]=252|i.chroma_format_idc,r[o+1]=248|i.bit_depth_luma-8,r[o+2]=248|i.bit_depth_chroma-8,r[o+3]=0,o+=4)}return e.prototype.getData=function(){return this.data},e}();!function(e){e[e.kNull=0]="kNull",e[e.kAACMain=1]="kAACMain",e[e.kAAC_LC=2]="kAAC_LC",e[e.kAAC_SSR=3]="kAAC_SSR",e[e.kAAC_LTP=4]="kAAC_LTP",e[e.kAAC_SBR=5]="kAAC_SBR",e[e.kAAC_Scalable=6]="kAAC_Scalable",e[e.kLayer1=32]="kLayer1",e[e.kLayer2=33]="kLayer2",e[e.kLayer3=34]="kLayer3"}(B||(B={})),function(e){e[e.k96000Hz=0]="k96000Hz",e[e.k88200Hz=1]="k88200Hz",e[e.k64000Hz=2]="k64000Hz",e[e.k48000Hz=3]="k48000Hz",e[e.k44100Hz=4]="k44100Hz",e[e.k32000Hz=5]="k32000Hz",e[e.k24000Hz=6]="k24000Hz",e[e.k22050Hz=7]="k22050Hz",e[e.k16000Hz=8]="k16000Hz",e[e.k12000Hz=9]="k12000Hz",e[e.k11025Hz=10]="k11025Hz",e[e.k8000Hz=11]="k8000Hz",e[e.k7350Hz=12]="k7350Hz"}(I||(I={}));var U,N,G=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],V=(U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),F=function(){},j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return V(t,e),t}(F),z=function(){function e(e){this.TAG="AACADTSParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found ADTS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+7>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(4095===(i[t+0]<<8|i[t+1])>>>4)return t;t++}},e.prototype.readNextAACFrame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=(8&e[i+1])>>>3,a=(6&e[i+1])>>>1,r=1&e[i+1],s=(192&e[i+2])>>>6,o=(60&e[i+2])>>>2,d=(1&e[i+2])<<2|(192&e[i+3])>>>6,_=(3&e[i+3])<<11|e[i+4]<<3|(224&e[i+5])>>>5;e[i+6];if(i+_>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var h=1===r?7:9,c=_-h;i+=h;var u=this.findNextSyncwordOffset(i+c);if(this.current_syncword_offset_=u,(0===n||1===n)&&0===a){var l=e.subarray(i,i+c);(t=new F).audio_object_type=s+1,t.sampling_freq_index=o,t.sampling_frequency=G[o],t.channel_config=d,t.data=l}}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),H=function(){function e(e){this.TAG="AACLOASParser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found LOAS syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+1>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(695===(i[t+0]<<3|i[t+1]>>>5))return t;t++}},e.prototype.getLATMValue=function(e){for(var t=e.readBits(2),i=0,n=0;n<=t;n++)i<<=8,i|=e.readByte();return i},e.prototype.readNextAACFrame=function(e){for(var t=this.data_,i=null;null==i&&!this.eof_flag_;){var n=this.current_syncword_offset_,a=(31&t[n+1])<<8|t[n+2];if(n+3+a>=this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var s=new f(t.subarray(n+3,n+3+a)),o=null;if(s.readBool()){if(null==e){r.a.w(this.TAG,"StreamMuxConfig Missing"),this.current_syncword_offset_=this.findNextSyncwordOffset(n+3+a),s.destroy();continue}o=e}else{var d=s.readBool();if(d&&s.readBool()){r.a.e(this.TAG,"audioMuxVersionA is Not Supported"),s.destroy();break}if(d&&this.getLATMValue(s),!s.readBool()){r.a.e(this.TAG,"allStreamsSameTimeFraming zero is Not Supported"),s.destroy();break}if(0!==s.readBits(6)){r.a.e(this.TAG,"more than 2 numSubFrames Not Supported"),s.destroy();break}if(0!==s.readBits(4)){r.a.e(this.TAG,"more than 2 numProgram Not Supported"),s.destroy();break}if(0!==s.readBits(3)){r.a.e(this.TAG,"more than 2 numLayer Not Supported"),s.destroy();break}var _=d?this.getLATMValue(s):0,h=s.readBits(5);_-=5;var c=s.readBits(4);_-=4;var u=s.readBits(4);_-=4,s.readBits(3),(_-=3)>0&&s.readBits(_);var l=s.readBits(3);if(0!==l){r.a.e(this.TAG,"frameLengthType = "+l+". Only frameLengthType = 0 Supported"),s.destroy();break}s.readByte();var p=s.readBool();if(p)if(d)this.getLATMValue(s);else{for(var m=0;;){m<<=8;var g=s.readBool();if(m+=s.readByte(),!g)break}console.log(m)}s.readBool()&&s.readByte(),(o=new j).audio_object_type=h,o.sampling_freq_index=c,o.sampling_frequency=G[o.sampling_freq_index],o.channel_config=u,o.other_data_present=p}for(var v=0;;){var y=s.readByte();if(v+=y,255!==y)break}for(var b=new Uint8Array(v),S=0;S<v;S++)b[S]=s.readByte();(i=new j).audio_object_type=o.audio_object_type,i.sampling_freq_index=o.sampling_freq_index,i.sampling_frequency=G[o.sampling_freq_index],i.channel_config=o.channel_config,i.other_data_present=o.other_data_present,i.data=b,this.current_syncword_offset_=this.findNextSyncwordOffset(n+3+a)}return i},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),q=function(e){var t=null,i=e.audio_object_type,n=e.audio_object_type,a=e.sampling_freq_index,r=e.channel_config,s=0,o=navigator.userAgent.toLowerCase();-1!==o.indexOf("firefox")?a>=6?(n=5,t=new Array(4),s=a-3):(n=2,t=new Array(2),s=a):-1!==o.indexOf("android")?(n=2,t=new Array(2),s=a):(n=5,s=a,t=new Array(4),a>=6?s=a-3:1===r&&(n=2,t=new Array(2),s=a)),t[0]=n<<3,t[0]|=(15&a)>>>1,t[1]=(15&a)<<7,t[1]|=(15&r)<<3,5===n&&(t[1]|=(15&s)>>>1,t[2]=(1&s)<<7,t[2]|=8,t[3]=0),this.config=t,this.sampling_rate=G[a],this.channel_count=r,this.codec_mimetype="mp4a.40."+n,this.original_codec_mimetype="mp4a.40."+i},K=function(){},W=function(){};!function(e){e[e.kSpliceNull=0]="kSpliceNull",e[e.kSpliceSchedule=4]="kSpliceSchedule",e[e.kSpliceInsert=5]="kSpliceInsert",e[e.kTimeSignal=6]="kTimeSignal",e[e.kBandwidthReservation=7]="kBandwidthReservation",e[e.kPrivateCommand=255]="kPrivateCommand"}(N||(N={}));var X,Y=function(e){var t=e.readBool();return t?(e.readBits(6),{time_specified_flag:t,pts_time:4*e.readBits(31)+e.readBits(2)}):(e.readBits(7),{time_specified_flag:t})},J=function(e){var t=e.readBool();return e.readBits(6),{auto_return:t,duration:4*e.readBits(31)+e.readBits(2)}},Z=function(e,t){var i=t.readBits(8);return e?{component_tag:i}:{component_tag:i,splice_time:Y(t)}},Q=function(e){return{component_tag:e.readBits(8),utc_splice_time:e.readBits(32)}},$=function(e){var t=e.readBits(32),i=e.readBool();e.readBits(7);var n={splice_event_id:t,splice_event_cancel_indicator:i};if(i)return n;if(n.out_of_network_indicator=e.readBool(),n.program_splice_flag=e.readBool(),n.duration_flag=e.readBool(),e.readBits(5),n.program_splice_flag)n.utc_splice_time=e.readBits(32);else{n.component_count=e.readBits(8),n.components=[];for(var a=0;a<n.component_count;a++)n.components.push(Q(e))}return n.duration_flag&&(n.break_duration=J(e)),n.unique_program_id=e.readBits(16),n.avail_num=e.readBits(8),n.avails_expected=e.readBits(8),n},ee=function(e,t,i,n){return{descriptor_tag:e,descriptor_length:t,identifier:i,provider_avail_id:n.readBits(32)}},te=function(e,t,i,n){var a=n.readBits(8),r=n.readBits(3);n.readBits(5);for(var s="",o=0;o<r;o++)s+=String.fromCharCode(n.readBits(8));return{descriptor_tag:e,descriptor_length:t,identifier:i,preroll:a,dtmf_count:r,DTMF_char:s}},ie=function(e){var t=e.readBits(8);return e.readBits(7),{component_tag:t,pts_offset:4*e.readBits(31)+e.readBits(2)}},ne=function(e,t,i,n){var a=n.readBits(32),r=n.readBool();n.readBits(7);var s={descriptor_tag:e,descriptor_length:t,identifier:i,segmentation_event_id:a,segmentation_event_cancel_indicator:r};if(r)return s;if(s.program_segmentation_flag=n.readBool(),s.segmentation_duration_flag=n.readBool(),s.delivery_not_restricted_flag=n.readBool(),s.delivery_not_restricted_flag?n.readBits(5):(s.web_delivery_allowed_flag=n.readBool(),s.no_regional_blackout_flag=n.readBool(),s.archive_allowed_flag=n.readBool(),s.device_restrictions=n.readBits(2)),!s.program_segmentation_flag){s.component_count=n.readBits(8),s.components=[];for(var o=0;o<s.component_count;o++)s.components.push(ie(n))}s.segmentation_duration_flag&&(s.segmentation_duration=n.readBits(40)),s.segmentation_upid_type=n.readBits(8),s.segmentation_upid_length=n.readBits(8);var d=new Uint8Array(s.segmentation_upid_length);for(o=0;o<s.segmentation_upid_length;o++)d[o]=n.readBits(8);return s.segmentation_upid=d.buffer,s.segmentation_type_id=n.readBits(8),s.segment_num=n.readBits(8),s.segments_expected=n.readBits(8),52!==s.segmentation_type_id&&54!==s.segmentation_type_id&&56!==s.segmentation_type_id&&58!==s.segmentation_type_id||(s.sub_segment_num=n.readBits(8),s.sub_segments_expected=n.readBits(8)),s},ae=function(e,t,i,n){return{descriptor_tag:e,descriptor_length:t,identifier:i,TAI_seconds:n.readBits(48),TAI_ns:n.readBits(32),UTC_offset:n.readBits(16)}},re=function(e){return{component_tag:e.readBits(8),ISO_code:String.fromCharCode(e.readBits(8),e.readBits(8),e.readBits(8)),Bit_Stream_Mode:e.readBits(3),Num_Channels:e.readBits(4),Full_Srvc_Audio:e.readBool()}},se=function(e,t,i,n){for(var a=n.readBits(4),r=[],s=0;s<a;s++)r.push(re(n));return{descriptor_tag:e,descriptor_length:t,identifier:i,audio_count:a,components:r}},oe=function(e){var t=new f(e),i=t.readBits(8),n=t.readBool(),a=t.readBool();t.readBits(2);var r=t.readBits(12),s=t.readBits(8),o=t.readBool(),d=t.readBits(6),_=4*t.readBits(31)+t.readBits(2),h=t.readBits(8),c=t.readBits(12),u=t.readBits(12),l=t.readBits(8),p=null;l===N.kSpliceNull?p={}:l===N.kSpliceSchedule?p=function(e){for(var t=e.readBits(8),i=[],n=0;n<t;n++)i.push($(e));return{splice_count:t,events:i}}(t):l===N.kSpliceInsert?p=function(e){var t=e.readBits(32),i=e.readBool();e.readBits(7);var n={splice_event_id:t,splice_event_cancel_indicator:i};if(i)return n;if(n.out_of_network_indicator=e.readBool(),n.program_splice_flag=e.readBool(),n.duration_flag=e.readBool(),n.splice_immediate_flag=e.readBool(),e.readBits(4),n.program_splice_flag&&!n.splice_immediate_flag&&(n.splice_time=Y(e)),!n.program_splice_flag){n.component_count=e.readBits(8),n.components=[];for(var a=0;a<n.component_count;a++)n.components.push(Z(n.splice_immediate_flag,e))}return n.duration_flag&&(n.break_duration=J(e)),n.unique_program_id=e.readBits(16),n.avail_num=e.readBits(8),n.avails_expected=e.readBits(8),n}(t):l===N.kTimeSignal?p=function(e){return{splice_time:Y(e)}}(t):l===N.kBandwidthReservation?p={}:l===N.kPrivateCommand?p=function(e,t){for(var i=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8)),n=new Uint8Array(e-4),a=0;a<e-4;a++)n[a]=t.readBits(8);return{identifier:i,private_data:n.buffer}}(u,t):t.readBits(8*u);for(var m=[],g=t.readBits(16),v=0;v<g;){var y=t.readBits(8),b=t.readBits(8),S=String.fromCharCode(t.readBits(8),t.readBits(8),t.readBits(8),t.readBits(8));0===y?m.push(ee(y,b,S,t)):1===y?m.push(te(y,b,S,t)):2===y?m.push(ne(y,b,S,t)):3===y?m.push(ae(y,b,S,t)):4===y?m.push(se(y,b,S,t)):t.readBits(8*(b-4)),v+=2+b}var E={table_id:i,section_syntax_indicator:n,private_indicator:a,section_length:r,protocol_version:s,encrypted_packet:o,encryption_algorithm:d,pts_adjustment:_,cw_index:h,tier:c,splice_command_length:u,splice_command_type:l,splice_command:p,descriptor_loop_length:g,splice_descriptors:m,E_CRC32:o?t.readBits(32):void 0,CRC32:t.readBits(32)};if(l===N.kSpliceInsert){var A=p;if(A.splice_event_cancel_indicator)return{splice_command_type:l,detail:E,data:e};if(A.program_splice_flag&&!A.splice_immediate_flag){var R=A.duration_flag?A.break_duration.auto_return:void 0,T=A.duration_flag?A.break_duration.duration/90:void 0;return A.splice_time.time_specified_flag?{splice_command_type:l,pts:(_+A.splice_time.pts_time)%Math.pow(2,33),auto_return:R,duraiton:T,detail:E,data:e}:{splice_command_type:l,auto_return:R,duraiton:T,detail:E,data:e}}return{splice_command_type:l,auto_return:R=A.duration_flag?A.break_duration.auto_return:void 0,duraiton:T=A.duration_flag?A.break_duration.duration/90:void 0,detail:E,data:e}}if(l===N.kTimeSignal){var L=p;return L.splice_time.time_specified_flag?{splice_command_type:l,pts:(_+L.splice_time.pts_time)%Math.pow(2,33),detail:E,data:e}:{splice_command_type:l,detail:E,data:e}}return{splice_command_type:l,detail:E,data:e}};!function(e){e[e.kSliceIDR_W_RADL=19]="kSliceIDR_W_RADL",e[e.kSliceIDR_N_LP=20]="kSliceIDR_N_LP",e[e.kSliceCRA_NUT=21]="kSliceCRA_NUT",e[e.kSliceVPS=32]="kSliceVPS",e[e.kSliceSPS=33]="kSliceSPS",e[e.kSlicePPS=34]="kSlicePPS",e[e.kSliceAUD=35]="kSliceAUD"}(X||(X={}));var de=function(){},_e=function(e){var t=e.data.byteLength;this.type=e.type,this.data=new Uint8Array(4+t),new DataView(this.data.buffer).setUint32(0,t),this.data.set(e.data,4)},he=function(){function e(e){this.TAG="H265AnnexBParser",this.current_startcode_offset_=0,this.eof_flag_=!1,this.data_=e,this.current_startcode_offset_=this.findNextStartCodeOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not find H265 startcode until payload end!")}return e.prototype.findNextStartCodeOffset=function(e){for(var t=e,i=this.data_;;){if(t+3>=i.byteLength)return this.eof_flag_=!0,i.byteLength;var n=i[t+0]<<24|i[t+1]<<16|i[t+2]<<8|i[t+3],a=i[t+0]<<16|i[t+1]<<8|i[t+2];if(1===n||1===a)return t;t++}},e.prototype.readNextNaluPayload=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_startcode_offset_,n=e[i+=1===(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3])?4:3]>>1&63,a=(128&e[i])>>>7,r=this.findNextStartCodeOffset(i);if(this.current_startcode_offset_=r,0===a){var s=e.subarray(i,r);(t=new de).type=n,t.data=s}}return t},e}(),ce=function(){function e(e,t,i,n){var a=23+(5+e.byteLength)+(5+t.byteLength)+(5+i.byteLength),r=this.data=new Uint8Array(a);r[0]=1,r[1]=(3&n.general_profile_space)<<6|(n.general_tier_flag?1:0)<<5|31&n.general_profile_idc,r[2]=n.general_profile_compatibility_flags_1,r[3]=n.general_profile_compatibility_flags_2,r[4]=n.general_profile_compatibility_flags_3,r[5]=n.general_profile_compatibility_flags_4,r[6]=n.general_constraint_indicator_flags_1,r[7]=n.general_constraint_indicator_flags_2,r[8]=n.general_constraint_indicator_flags_3,r[9]=n.general_constraint_indicator_flags_4,r[10]=n.general_constraint_indicator_flags_5,r[11]=n.general_constraint_indicator_flags_6,r[12]=n.general_level_idc,r[13]=240|(3840&n.min_spatial_segmentation_idc)>>8,r[14]=255&n.min_spatial_segmentation_idc,r[15]=252|3&n.parallelismType,r[16]=252|3&n.chroma_format_idc,r[17]=248|7&n.bit_depth_luma_minus8,r[18]=248|7&n.bit_depth_chroma_minus8,r[19]=0,r[20]=0,r[21]=(3&n.constant_frame_rate)<<6|(7&n.num_temporal_layers)<<3|(n.temporal_id_nested?1:0)<<2|3,r[22]=3,r[23]=128|X.kSliceVPS,r[24]=0,r[25]=1,r[26]=(65280&e.byteLength)>>8,r[27]=(255&e.byteLength)>>0,r.set(e,28),r[23+(5+e.byteLength)+0]=128|X.kSliceSPS,r[23+(5+e.byteLength)+1]=0,r[23+(5+e.byteLength)+2]=1,r[23+(5+e.byteLength)+3]=(65280&t.byteLength)>>8,r[23+(5+e.byteLength)+4]=(255&t.byteLength)>>0,r.set(t,23+(5+e.byteLength)+5),r[23+(5+e.byteLength+5+t.byteLength)+0]=128|X.kSlicePPS,r[23+(5+e.byteLength+5+t.byteLength)+1]=0,r[23+(5+e.byteLength+5+t.byteLength)+2]=1,r[23+(5+e.byteLength+5+t.byteLength)+3]=(65280&i.byteLength)>>8,r[23+(5+e.byteLength+5+t.byteLength)+4]=(255&i.byteLength)>>0,r.set(i,23+(5+e.byteLength+5+t.byteLength)+5)}return e.prototype.getData=function(){return this.data},e}(),ue=function(){},le=function(){},fe=function(){},pe=[[64,64,80,80,96,96,112,112,128,128,160,160,192,192,224,224,256,256,320,320,384,384,448,448,512,512,640,640,768,768,896,896,1024,1024,1152,1152,1280,1280],[69,70,87,88,104,105,121,122,139,140,174,175,208,209,243,244,278,279,348,349,417,418,487,488,557,558,696,697,835,836,975,976,1114,1115,1253,1254,1393,1394],[96,96,120,120,144,144,168,168,192,192,240,240,288,288,336,336,384,384,480,480,576,576,672,672,768,768,960,960,1152,1152,1344,1344,1536,1536,1728,1728,1920,1920]],me=function(){function e(e){this.TAG="AC3Parser",this.data_=e,this.current_syncword_offset_=this.findNextSyncwordOffset(0),this.eof_flag_&&r.a.e(this.TAG,"Could not found AC3 syncword until payload end")}return e.prototype.findNextSyncwordOffset=function(e){for(var t=e,i=this.data_;;){if(t+7>=i.byteLength)return this.eof_flag_=!0,i.byteLength;if(2935===(i[t+0]<<8|i[t+1]<<0))return t;t++}},e.prototype.readNextAC3Frame=function(){for(var e=this.data_,t=null;null==t&&!this.eof_flag_;){var i=this.current_syncword_offset_,n=e[i+4]>>6,a=[48e3,44200,33e3][n],r=63&e[i+4],s=2*pe[n][r];if(i+s>this.data_.byteLength){this.eof_flag_=!0,this.has_last_incomplete_data=!0;break}var o=this.findNextSyncwordOffset(i+s);this.current_syncword_offset_=o;var d=e[i+5]>>3,_=7&e[i+5],h=e[i+6]>>5,c=0;0!=(1&h)&&1!==h&&(c+=2),0!=(4&h)&&(c+=2),2===h&&(c+=2);var u=(e[i+6]<<8|e[i+7]<<0)>>12-c&1,l=[2,1,2,3,3,4,4,5][h]+u;(t=new fe).sampling_frequency=a,t.channel_count=l,t.channel_mode=h,t.bit_stream_identification=d,t.low_frequency_effects_channel_on=u,t.bit_stream_mode=_,t.frame_size_code=r,t.data=e.subarray(i,i+s)}return t},e.prototype.hasIncompleteData=function(){return this.has_last_incomplete_data},e.prototype.getIncompleteData=function(){return this.has_last_incomplete_data?this.data_.subarray(this.current_syncword_offset_):null},e}(),ge=function(e){var t;t=[e.sampling_rate_code<<6|e.bit_stream_identification<<1|e.bit_stream_mode>>2,(3&e.bit_stream_mode)<<6|e.channel_mode<<3|e.low_frequency_effects_channel_on<<2|e.frame_size_code>>4,e.frame_size_code<<4&224],this.config=t,this.sampling_rate=e.sampling_frequency,this.bit_stream_identification=e.bit_stream_identification,this.bit_stream_mode=e.bit_stream_mode,this.low_frequency_effects_channel_on=e.low_frequency_effects_channel_on,this.channel_count=e.channel_count,this.channel_mode=e.channel_mode,this.codec_mimetype="ac-3",this.original_codec_mimetype="ac-3"},ve=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),ye=function(){return(ye=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},be=function(e){function t(t,i){var n=e.call(this)||this;return n.TAG="TSDemuxer",n.first_parse_=!0,n.media_info_=new o.a,n.timescale_=90,n.duration_=0,n.current_pmt_pid_=-1,n.program_pmt_map_={},n.pes_slice_queues_={},n.section_slice_queues_={},n.video_metadata_={vps:void 0,sps:void 0,pps:void 0,details:void 0},n.audio_metadata_={codec:void 0,audio_object_type:void 0,sampling_freq_index:void 0,sampling_frequency:void 0,channel_config:void 0},n.aac_last_sample_pts_=void 0,n.aac_last_incomplete_data_=null,n.has_video_=!1,n.has_audio_=!1,n.video_init_segment_dispatched_=!1,n.audio_init_segment_dispatched_=!1,n.video_metadata_changed_=!1,n.audio_metadata_changed_=!1,n.loas_previous_frame=null,n.video_track_={type:"video",id:1,sequenceNumber:0,samples:[],length:0},n.audio_track_={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},n.ts_packet_size_=t.ts_packet_size,n.sync_offset_=t.sync_offset,n.config_=i,n}return ve(t,e),t.prototype.destroy=function(){this.media_info_=null,this.pes_slice_queues_=null,this.section_slice_queues_=null,this.video_metadata_=null,this.audio_metadata_=null,this.aac_last_incomplete_data_=null,this.video_track_=null,this.audio_track_=null,e.prototype.destroy.call(this)},t.probe=function(e){var t=new Uint8Array(e),i=-1,n=188;if(t.byteLength<=3*n)return{needMoreData:!0};for(;-1===i;){for(var a=Math.min(1e3,t.byteLength-3*n),s=0;s<a;){if(71===t[s]&&71===t[s+n]&&71===t[s+2*n]){i=s;break}s++}if(-1===i)if(188===n)n=192;else{if(192!==n)break;n=204}}return-1===i?{match:!1}:(192===n&&i>=4?(r.a.v("TSDemuxer","ts_packet_size = 192, m2ts mode"),i-=4):204===n&&r.a.v("TSDemuxer","ts_packet_size = 204, RS encoded MPEG2-TS stream"),{match:!0,consumed:0,ts_packet_size:n,sync_offset:i})},t.prototype.bindDataSource=function(e){return e.onDataArrival=this.parseChunks.bind(this),this},t.prototype.resetMediaInfo=function(){this.media_info_=new o.a},t.prototype.parseChunks=function(e,t){if(!(this.onError&&this.onMediaInfo&&this.onTrackMetadata&&this.onDataAvailable))throw new c.a("onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");var i=0;for(this.first_parse_&&(this.first_parse_=!1,i=this.sync_offset_);i+this.ts_packet_size_<=e.byteLength;){var n=t+i;192===this.ts_packet_size_&&(i+=4);var a=new Uint8Array(e,i,188),s=a[0];if(71!==s){r.a.e(this.TAG,"sync_byte = "+s+", not 0x47");break}var o=(64&a[1])>>>6,d=(a[1],(31&a[1])<<8|a[2]),_=(48&a[3])>>>4,h=15&a[3],u={},l=4;if(2==_||3==_){var f=a[4];if(5+f===188){i+=188,204===this.ts_packet_size_&&(i+=16);continue}f>0&&(u=this.parseAdaptationField(e,i+4,1+f)),l=5+f}if(1==_||3==_)if(0===d||d===this.current_pmt_pid_||null!=this.pmt_&&this.pmt_.pid_stream_type[d]===E.kSCTE35){var p=188-l;this.handleSectionSlice(e,i+l,p,{pid:d,file_position:n,payload_unit_start_indicator:o,continuity_conunter:h,random_access_indicator:u.random_access_indicator})}else if(null!=this.pmt_&&null!=this.pmt_.pid_stream_type[d]){p=188-l;var m=this.pmt_.pid_stream_type[d];d!==this.pmt_.common_pids.h264&&d!==this.pmt_.common_pids.h265&&d!==this.pmt_.common_pids.adts_aac&&d!==this.pmt_.common_pids.loas_aac&&d!==this.pmt_.common_pids.ac3&&d!==this.pmt_.common_pids.opus&&d!==this.pmt_.common_pids.mp3&&!0!==this.pmt_.pes_private_data_pids[d]&&!0!==this.pmt_.timed_id3_pids[d]||this.handlePESSlice(e,i+l,p,{pid:d,stream_type:m,file_position:n,payload_unit_start_indicator:o,continuity_conunter:h,random_access_indicator:u.random_access_indicator})}i+=188,204===this.ts_packet_size_&&(i+=16)}return this.dispatchAudioVideoMediaSegment(),i},t.prototype.parseAdaptationField=function(e,t,i){var n=new Uint8Array(e,t,i),a=n[0];return a>0?a>183?(r.a.w(this.TAG,"Illegal adaptation_field_length: "+a),{}):{discontinuity_indicator:(128&n[1])>>>7,random_access_indicator:(64&n[1])>>>6,elementary_stream_priority_indicator:(32&n[1])>>>5}:{}},t.prototype.handleSectionSlice=function(e,t,i,n){var a=new Uint8Array(e,t,i),r=this.section_slice_queues_[n.pid];if(n.payload_unit_start_indicator){var s=a[0];if(null!=r&&0!==r.total_length){var o=new Uint8Array(e,t+1,Math.min(i,s));r.slices.push(o),r.total_length+=o.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):this.clearSlices(r,n)}for(var d=1+s;d<a.byteLength;){if(255===a[d+0])break;var _=(15&a[d+1])<<8|a[d+2];this.section_slice_queues_[n.pid]=new C,(r=this.section_slice_queues_[n.pid]).expected_length=_+3,r.file_position=n.file_position,r.random_access_indicator=n.random_access_indicator;o=new Uint8Array(e,t+d,Math.min(i-d,r.expected_length-r.total_length));r.slices.push(o),r.total_length+=o.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):r.total_length>=r.expected_length&&this.clearSlices(r,n),d+=o.byteLength}}else if(null!=r&&0!==r.total_length){o=new Uint8Array(e,t,Math.min(i,r.expected_length-r.total_length));r.slices.push(o),r.total_length+=o.byteLength,r.total_length===r.expected_length?this.emitSectionSlices(r,n):r.total_length>=r.expected_length&&this.clearSlices(r,n)}},t.prototype.handlePESSlice=function(e,t,i,n){var a=new Uint8Array(e,t,i),s=a[0]<<16|a[1]<<8|a[2],o=(a[3],a[4]<<8|a[5]);if(n.payload_unit_start_indicator){if(1!==s)return void r.a.e(this.TAG,"handlePESSlice: packet_start_code_prefix should be 1 but with value "+s);var d=this.pes_slice_queues_[n.pid];d&&(0===d.expected_length||d.expected_length===d.total_length?this.emitPESSlices(d,n):this.clearSlices(d,n)),this.pes_slice_queues_[n.pid]=new C,this.pes_slice_queues_[n.pid].file_position=n.file_position,this.pes_slice_queues_[n.pid].random_access_indicator=n.random_access_indicator}if(null!=this.pes_slice_queues_[n.pid]){var _=this.pes_slice_queues_[n.pid];_.slices.push(a),n.payload_unit_start_indicator&&(_.expected_length=0===o?0:o+6),_.total_length+=a.byteLength,_.expected_length>0&&_.expected_length===_.total_length?this.emitPESSlices(_,n):_.expected_length>0&&_.expected_length<_.total_length&&this.clearSlices(_,n)}},t.prototype.emitSectionSlices=function(e,t){for(var i=new Uint8Array(e.total_length),n=0,a=0;n<e.slices.length;n++){var r=e.slices[n];i.set(r,a),a+=r.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var s=new D;s.pid=t.pid,s.data=i,s.file_position=e.file_position,s.random_access_indicator=e.random_access_indicator,this.parseSection(s)},t.prototype.emitPESSlices=function(e,t){for(var i=new Uint8Array(e.total_length),n=0,a=0;n<e.slices.length;n++){var r=e.slices[n];i.set(r,a),a+=r.byteLength}e.slices=[],e.expected_length=-1,e.total_length=0;var s=new k;s.pid=t.pid,s.data=i,s.stream_type=t.stream_type,s.file_position=e.file_position,s.random_access_indicator=e.random_access_indicator,this.parsePES(s)},t.prototype.clearSlices=function(e,t){e.slices=[],e.expected_length=-1,e.total_length=0},t.prototype.parseSection=function(e){var t=e.data,i=e.pid;0===i?this.parsePAT(t):i===this.current_pmt_pid_?this.parsePMT(t):null!=this.pmt_&&this.pmt_.scte_35_pids[i]&&this.parseSCTE35(t)},t.prototype.parsePES=function(e){var t=e.data,i=t[0]<<16|t[1]<<8|t[2],n=t[3],a=t[4]<<8|t[5];if(1===i){if(188!==n&&190!==n&&191!==n&&240!==n&&241!==n&&255!==n&&242!==n&&248!==n){t[6];var s=(192&t[7])>>>6,o=t[8],d=void 0,_=void 0;2!==s&&3!==s||(d=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,_=3===s?536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2:d);var h=9+o,c=void 0;if(0!==a){if(a<3+o)return void r.a.v(this.TAG,"Malformed PES: PES_packet_length < 3 + PES_header_data_length");c=a-3-o}else c=t.byteLength-h;var u=t.subarray(h,h+c);switch(e.stream_type){case E.kMPEG1Audio:case E.kMPEG2Audio:this.parseMP3Payload(u,d);break;case E.kPESPrivateData:this.pmt_.common_pids.opus===e.pid?this.parseOpusPayload(u,d):this.pmt_.common_pids.ac3===e.pid?this.parseAC3Payload(u,d):this.pmt_.smpte2038_pids[e.pid]?this.parseSMPTE2038MetadataPayload(u,d,_,e.pid,n):this.parsePESPrivateDataPayload(u,d,_,e.pid,n);break;case E.kADTSAAC:this.parseADTSAACPayload(u,d);break;case E.kLOASAAC:this.parseLOASAACPayload(u,d);break;case E.kAC3:this.parseAC3Payload(u,d);break;case E.kID3:this.parseTimedID3MetadataPayload(u,d,_,e.pid,n);break;case E.kH264:this.parseH264Payload(u,d,_,e.file_position,e.random_access_indicator);break;case E.kH265:this.parseH265Payload(u,d,_,e.file_position,e.random_access_indicator)}}else if((188===n||191===n||240===n||241===n||255===n||242===n||248===n)&&e.stream_type===E.kPESPrivateData){h=6,c=void 0;c=0!==a?a:t.byteLength-h;u=t.subarray(h,h+c);this.parsePESPrivateDataPayload(u,void 0,void 0,e.pid,n)}}else r.a.e(this.TAG,"parsePES: packet_start_code_prefix should be 1 but with value "+i)},t.prototype.parsePAT=function(e){var t=e[0];if(0===t){var i=(15&e[1])<<8|e[2],n=(e[3],e[4],(62&e[5])>>>1),a=1&e[5],s=e[6],o=(e[7],null);if(1===a&&0===s)(o=new T).version_number=n;else if(null==(o=this.pat_))return;for(var d=i-5-4,_=-1,h=-1,c=8;c<8+d;c+=4){var u=e[c]<<8|e[c+1],l=(31&e[c+2])<<8|e[c+3];0===u?o.network_pid=l:(o.program_pmt_pid[u]=l,-1===_&&(_=u),-1===h&&(h=l))}1===a&&0===s&&(null==this.pat_&&r.a.v(this.TAG,"Parsed first PAT: "+JSON.stringify(o)),this.pat_=o,this.current_program_=_,this.current_pmt_pid_=h)}else r.a.e(this.TAG,"parsePAT: table_id "+t+" is not corresponded to PAT!")},t.prototype.parsePMT=function(e){var t=e[0];if(2===t){var i=(15&e[1])<<8|e[2],n=e[3]<<8|e[4],a=(62&e[5])>>>1,s=1&e[5],o=e[6],d=(e[7],null);if(1===s&&0===o)(d=new w).program_number=n,d.version_number=a,this.program_pmt_map_[n]=d;else if(null==(d=this.program_pmt_map_[n]))return;e[8],e[9];for(var _=(15&e[10])<<8|e[11],h=12+_,c=i-9-_-4,u=h;u<h+c;){var l=e[u],f=(31&e[u+1])<<8|e[u+2],p=(15&e[u+3])<<8|e[u+4];d.pid_stream_type[f]=l;var m=d.common_pids.h264||d.common_pids.h265,g=d.common_pids.adts_aac||d.common_pids.loas_aac||d.common_pids.ac3||d.common_pids.opus||d.common_pids.mp3;if(l!==E.kH264||m)if(l!==E.kH265||m)if(l!==E.kADTSAAC||g)if(l!==E.kLOASAAC||g)if(l!==E.kAC3||g)if(l!==E.kMPEG1Audio&&l!==E.kMPEG2Audio||g)if(l===E.kPESPrivateData){if(d.pes_private_data_pids[f]=!0,p>0){for(var v=u+5;v<u+5+p;){var y=e[v+0],b=e[v+1];if(5===y){var S=String.fromCharCode.apply(String,Array.from(e.subarray(v+2,v+2+b)));"VANC"===S?d.smpte2038_pids[f]=!0:"Opus"===S&&(d.common_pids.opus=f)}else if(127===y&&f===d.common_pids.opus){var A=null;if(128===e[v+2]&&(A=e[v+3]),null==A){r.a.e(this.TAG,"Not Supported Opus channel count.");continue}var R={codec:"opus",channel_count:0==(15&A)?2:15&A,channel_config_code:A,sample_rate:48e3},T={codec:"opus",meta:R};0==this.audio_init_segment_dispatched_?(this.audio_metadata_=R,this.dispatchAudioInitSegment(T)):this.detectAudioMetadataChange(T)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(T))}v+=2+b}var L=e.subarray(u+5,u+5+p);this.dispatchPESPrivateDataDescriptor(f,l,L)}}else l===E.kID3?d.timed_id3_pids[f]=!0:l===E.kSCTE35&&(d.scte_35_pids[f]=!0);else d.common_pids.mp3=f;else d.common_pids.ac3=f;else d.common_pids.loas_aac=f;else d.common_pids.adts_aac=f;else d.common_pids.h265=f;else d.common_pids.h264=f;u+=5+p}n===this.current_program_&&(null==this.pmt_&&r.a.v(this.TAG,"Parsed first PMT: "+JSON.stringify(d)),this.pmt_=d,(d.common_pids.h264||d.common_pids.h265)&&(this.has_video_=!0),(d.common_pids.adts_aac||d.common_pids.loas_aac||d.common_pids.ac3||d.common_pids.opus||d.common_pids.mp3)&&(this.has_audio_=!0))}else r.a.e(this.TAG,"parsePMT: table_id "+t+" is not corresponded to PMT!")},t.prototype.parseSCTE35=function(e){var t=oe(e);if(null!=t.pts){var i=Math.floor(t.pts/this.timescale_);t.pts=i}else t.nearest_pts=this.aac_last_sample_pts_;this.onSCTE35Metadata&&this.onSCTE35Metadata(t)},t.prototype.parseH264Payload=function(e,t,i,n,a){for(var s=new M(e),o=null,d=[],_=0,h=!1;null!=(o=s.readNextNaluPayload());){var c=new P(o);if(c.type===L.kSliceSPS){var u=p.parseSPS(o.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(c,u)&&(r.a.v(this.TAG,"H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:c,pps:void 0,details:u}):(this.video_metadata_.sps=c,this.video_metadata_.details=u)}else c.type===L.kSlicePPS?this.video_init_segment_dispatched_&&!this.video_metadata_changed_||(this.video_metadata_.pps=c,this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())):(c.type===L.kSliceIDR||c.type===L.kSliceNonIDR&&1===a)&&(h=!0);this.video_init_segment_dispatched_&&(d.push(c),_+=c.data.byteLength)}var l=Math.floor(t/this.timescale_),f=Math.floor(i/this.timescale_);if(d.length){var m=this.video_track_,g={units:d,length:_,isKeyframe:h,dts:f,pts:l,cts:l-f,file_position:n};m.samples.push(g),m.length+=_}},t.prototype.parseH265Payload=function(e,t,i,n,a){for(var s=new he(e),o=null,d=[],_=0,h=!1;null!=(o=s.readNextNaluPayload());){var c=new _e(o);if(c.type===X.kSliceVPS){if(!this.video_init_segment_dispatched_){var u=g.parseVPS(o.data);this.video_metadata_.vps=c,this.video_metadata_.details=ye(ye({},this.video_metadata_.details),u)}}else if(c.type===X.kSliceSPS){u=g.parseSPS(o.data);this.video_init_segment_dispatched_?!0===this.detectVideoMetadataChange(c,u)&&(r.a.v(this.TAG,"H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment"),this.video_metadata_changed_=!0,this.video_metadata_={vps:void 0,sps:c,pps:void 0,details:u}):(this.video_metadata_.sps=c,this.video_metadata_.details=ye(ye({},this.video_metadata_.details),u))}else if(c.type===X.kSlicePPS){if(!this.video_init_segment_dispatched_||this.video_metadata_changed_){u=g.parsePPS(o.data);this.video_metadata_.pps=c,this.video_metadata_.details=ye(ye({},this.video_metadata_.details),u),this.video_metadata_.vps&&this.video_metadata_.sps&&this.video_metadata_.pps&&(this.video_metadata_changed_&&this.dispatchVideoMediaSegment(),this.dispatchVideoInitSegment())}}else c.type!==X.kSliceIDR_W_RADL&&c.type!==X.kSliceIDR_N_LP&&c.type!==X.kSliceCRA_NUT||(h=!0);this.video_init_segment_dispatched_&&(d.push(c),_+=c.data.byteLength)}var l=Math.floor(t/this.timescale_),f=Math.floor(i/this.timescale_);if(d.length){var p=this.video_track_,m={units:d,length:_,isKeyframe:h,dts:f,pts:l,cts:l-f,file_position:n};p.samples.push(m),p.length+=_}},t.prototype.detectVideoMetadataChange=function(e,t){if(t.codec_mimetype!==this.video_metadata_.details.codec_mimetype)return r.a.v(this.TAG,"Video: Codec mimeType changed from "+this.video_metadata_.details.codec_mimetype+" to "+t.codec_mimetype),!0;if(t.codec_size.width!==this.video_metadata_.details.codec_size.width||t.codec_size.height!==this.video_metadata_.details.codec_size.height){var i=this.video_metadata_.details.codec_size,n=t.codec_size;return r.a.v(this.TAG,"Video: Coded Resolution changed from "+i.width+"x"+i.height+" to "+n.width+"x"+n.height),!0}return t.present_size.width!==this.video_metadata_.details.present_size.width&&(r.a.v(this.TAG,"Video: Present resolution width changed from "+this.video_metadata_.details.present_size.width+" to "+t.present_size.width),!0)},t.prototype.isInitSegmentDispatched=function(){return this.has_video_&&this.has_audio_?this.video_init_segment_dispatched_&&this.audio_init_segment_dispatched_:this.has_video_&&!this.has_audio_?this.video_init_segment_dispatched_:!(this.has_video_||!this.has_audio_)&&this.audio_init_segment_dispatched_},t.prototype.dispatchVideoInitSegment=function(){var e=this.video_metadata_.details,t={type:"video"};t.id=this.video_track_.id,t.timescale=1e3,t.duration=this.duration_,t.codecWidth=e.codec_size.width,t.codecHeight=e.codec_size.height,t.presentWidth=e.present_size.width,t.presentHeight=e.present_size.height,t.profile=e.profile_string,t.level=e.level_string,t.bitDepth=e.bit_depth,t.chromaFormat=e.chroma_format,t.sarRatio=e.sar_ratio,t.frameRate=e.frame_rate;var i=t.frameRate.fps_den,n=t.frameRate.fps_num;if(t.refSampleDuration=i/n*1e3,t.codec=e.codec_mimetype,this.video_metadata_.vps){var a=this.video_metadata_.vps.data.subarray(4),s=this.video_metadata_.sps.data.subarray(4),o=this.video_metadata_.pps.data.subarray(4),d=new ce(a,s,o,e);t.hvcc=d.getData(),0==this.video_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first HEVCDecoderConfigurationRecord for mimeType: "+t.codec)}else{s=this.video_metadata_.sps.data.subarray(4),o=this.video_metadata_.pps.data.subarray(4);var _=new x(s,o,e);t.avcc=_.getData(),0==this.video_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first AVCDecoderConfigurationRecord for mimeType: "+t.codec)}this.onTrackMetadata("video",t),this.video_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var h=this.media_info_;h.hasVideo=!0,h.width=t.codecWidth,h.height=t.codecHeight,h.fps=t.frameRate.fps,h.profile=t.profile,h.level=t.level,h.refFrames=e.ref_frames,h.chromaFormat=e.chroma_format_string,h.sarNum=t.sarRatio.width,h.sarDen=t.sarRatio.height,h.videoCodec=t.codec,h.hasAudio&&h.audioCodec?h.mimeType='video/mp2t; codecs="'+h.videoCodec+","+h.audioCodec+'"':h.mimeType='video/mp2t; codecs="'+h.videoCodec+'"',h.isComplete()&&this.onMediaInfo(h)},t.prototype.dispatchVideoMediaSegment=function(){this.isInitSegmentDispatched()&&this.video_track_.length&&this.onDataAvailable(null,this.video_track_)},t.prototype.dispatchAudioMediaSegment=function(){this.isInitSegmentDispatched()&&this.audio_track_.length&&this.onDataAvailable(this.audio_track_,null)},t.prototype.dispatchAudioVideoMediaSegment=function(){this.isInitSegmentDispatched()&&(this.audio_track_.length||this.video_track_.length)&&this.onDataAvailable(this.audio_track_,this.video_track_)},t.prototype.parseADTSAACPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var i=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);i.set(this.aac_last_incomplete_data_,0),i.set(e,this.aac_last_incomplete_data_.byteLength),e=i}var n,a;if(null!=t&&(a=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.aac_last_sample_pts_)n=1024/this.audio_metadata_.sampling_frequency*1e3,a=this.aac_last_sample_pts_+n;else if(null==t)return void r.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){n=1024/this.audio_metadata_.sampling_frequency*1e3;var s=this.aac_last_sample_pts_+n;Math.abs(s-a)>1&&(r.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+s+"ms, PES pts: "+a+"ms"),a=s)}}for(var o,d=new z(e),_=null,h=a;null!=(_=d.readNextAACFrame());){n=1024/_.sampling_frequency*1e3;var c={codec:"aac",data:_};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:_.audio_object_type,sampling_freq_index:_.sampling_freq_index,sampling_frequency:_.sampling_frequency,channel_config:_.channel_config},this.dispatchAudioInitSegment(c)):this.detectAudioMetadataChange(c)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(c)),o=h;var u=Math.floor(h),l={unit:_.data,length:_.data.byteLength,pts:u,dts:u};this.audio_track_.samples.push(l),this.audio_track_.length+=_.data.byteLength,h+=n}d.hasIncompleteData()&&(this.aac_last_incomplete_data_=d.getIncompleteData()),o&&(this.aac_last_sample_pts_=o)}},t.prototype.parseLOASAACPayload=function(e,t){var i;if(!this.has_video_||this.video_init_segment_dispatched_){if(this.aac_last_incomplete_data_){var n=new Uint8Array(e.byteLength+this.aac_last_incomplete_data_.byteLength);n.set(this.aac_last_incomplete_data_,0),n.set(e,this.aac_last_incomplete_data_.byteLength),e=n}var a,s;if(null!=t&&(s=t/this.timescale_),"aac"===this.audio_metadata_.codec){if(null==t&&null!=this.aac_last_sample_pts_)a=1024/this.audio_metadata_.sampling_frequency*1e3,s=this.aac_last_sample_pts_+a;else if(null==t)return void r.a.w(this.TAG,"AAC: Unknown pts");if(this.aac_last_incomplete_data_&&this.aac_last_sample_pts_){a=1024/this.audio_metadata_.sampling_frequency*1e3;var o=this.aac_last_sample_pts_+a;Math.abs(o-s)>1&&(r.a.w(this.TAG,"AAC: Detected pts overlapped, expected: "+o+"ms, PES pts: "+s+"ms"),s=o)}}for(var d,_=new H(e),h=null,c=s;null!=(h=_.readNextAACFrame(null!==(i=this.loas_previous_frame)&&void 0!==i?i:void 0));){this.loas_previous_frame=h,a=1024/h.sampling_frequency*1e3;var u={codec:"aac",data:h};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"aac",audio_object_type:h.audio_object_type,sampling_freq_index:h.sampling_freq_index,sampling_frequency:h.sampling_frequency,channel_config:h.channel_config},this.dispatchAudioInitSegment(u)):this.detectAudioMetadataChange(u)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(u)),d=c;var l=Math.floor(c),f={unit:h.data,length:h.data.byteLength,pts:l,dts:l};this.audio_track_.samples.push(f),this.audio_track_.length+=h.data.byteLength,c+=a}_.hasIncompleteData()&&(this.aac_last_incomplete_data_=_.getIncompleteData()),d&&(this.aac_last_sample_pts_=d)}},t.prototype.parseAC3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i,n;if(null!=t&&(n=t/this.timescale_),"ac-3"===this.audio_metadata_.codec)if(null==t&&null!=this.aac_last_sample_pts_)i=1536/this.audio_metadata_.sampling_frequency*1e3,n=this.aac_last_sample_pts_+i;else if(null==t)return void r.a.w(this.TAG,"Opus: Unknown pts");for(var a,s=new me(e),o=null,d=n;null!=(o=s.readNextAC3Frame());){i=1536/o.sampling_frequency*1e3;var _={codec:"ac-3",data:o};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"ac-3",sampling_frequency:o.sampling_frequency,bit_stream_identification:o.bit_stream_identification,bit_stream_mode:o.bit_stream_mode,low_frequency_effects_channel_on:o.low_frequency_effects_channel_on,channel_mode:o.channel_mode},console.log(JSON.stringify(this.audio_metadata_)),this.dispatchAudioInitSegment(_)):this.detectAudioMetadataChange(_)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(_)),a=d;var h=Math.floor(d),c={unit:o.data,length:o.data.byteLength,pts:h,dts:h};this.audio_track_.samples.push(c),this.audio_track_.length+=o.data.byteLength,d+=i}a&&(this.aac_last_sample_pts_=a)}},t.prototype.parseOpusPayload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i,n;if(null!=t&&(n=t/this.timescale_),"opus"===this.audio_metadata_.codec)if(null==t&&null!=this.aac_last_sample_pts_)i=20,n=this.aac_last_sample_pts_+i;else if(null==t)return void r.a.w(this.TAG,"Opus: Unknown pts");for(var a,s=n,o=0;o<e.length;){i=20;for(var d=0!=(16&e[o+1]),_=0!=(8&e[o+1]),h=o+2,c=0;255===e[h];)c+=255,h+=1;c+=e[h],h+=1,h+=d?2:0,h+=_?2:0,a=s;var u=Math.floor(s),l=e.slice(h,h+c),f={unit:l,length:l.byteLength,pts:u,dts:u};this.audio_track_.samples.push(f),this.audio_track_.length+=l.byteLength,s+=i,o=h+c}a&&(this.aac_last_sample_pts_=a)}},t.prototype.parseMP3Payload=function(e,t){if(!this.has_video_||this.video_init_segment_dispatched_){var i=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],n=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],a=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],r=e[1]>>>3&3,s=(6&e[1])>>1,o=(240&e[2])>>>4,d=(12&e[2])>>>2,_=3!==(e[3]>>>6&3)?2:1,h=0,c=34;switch(r){case 0:h=[11025,12e3,8e3,0][d];break;case 2:h=[22050,24e3,16e3,0][d];break;case 3:h=[44100,48e3,32e3,0][d]}switch(s){case 1:c=34,o<a.length&&a[o];break;case 2:c=33,o<n.length&&n[o];break;case 3:c=32,o<i.length&&i[o]}var u=new le;u.object_type=c,u.sample_rate=h,u.channel_count=_,u.data=e;var l={codec:"mp3",data:u};0==this.audio_init_segment_dispatched_?(this.audio_metadata_={codec:"mp3",object_type:c,sample_rate:h,channel_count:_},this.dispatchAudioInitSegment(l)):this.detectAudioMetadataChange(l)&&(this.dispatchAudioMediaSegment(),this.dispatchAudioInitSegment(l));var f={unit:e,length:e.byteLength,pts:t/this.timescale_,dts:t/this.timescale_};this.audio_track_.samples.push(f),this.audio_track_.length+=e.byteLength}},t.prototype.detectAudioMetadataChange=function(e){if(e.codec!==this.audio_metadata_.codec)return r.a.v(this.TAG,"Audio: Audio Codecs changed from "+this.audio_metadata_.codec+" to "+e.codec),!0;if("aac"===e.codec&&"aac"===this.audio_metadata_.codec){if((t=e.data).audio_object_type!==this.audio_metadata_.audio_object_type)return r.a.v(this.TAG,"AAC: AudioObjectType changed from "+this.audio_metadata_.audio_object_type+" to "+t.audio_object_type),!0;if(t.sampling_freq_index!==this.audio_metadata_.sampling_freq_index)return r.a.v(this.TAG,"AAC: SamplingFrequencyIndex changed from "+this.audio_metadata_.sampling_freq_index+" to "+t.sampling_freq_index),!0;if(t.channel_config!==this.audio_metadata_.channel_config)return r.a.v(this.TAG,"AAC: Channel configuration changed from "+this.audio_metadata_.channel_config+" to "+t.channel_config),!0}else if("ac-3"===e.codec&&"ac-3"===this.audio_metadata_.codec){var t;if((t=e.data).sampling_frequency!==this.audio_metadata_.sampling_frequency)return r.a.v(this.TAG,"AC3: Sampling Frequency changed from "+this.audio_metadata_.sampling_frequency+" to "+t.sampling_frequency),!0;if(t.bit_stream_identification!==this.audio_metadata_.bit_stream_identification)return r.a.v(this.TAG,"AC3: Bit Stream Identification changed from "+this.audio_metadata_.bit_stream_identification+" to "+t.bit_stream_identification),!0;if(t.bit_stream_mode!==this.audio_metadata_.bit_stream_mode)return r.a.v(this.TAG,"AC3: BitStream Mode changed from "+this.audio_metadata_.bit_stream_mode+" to "+t.bit_stream_mode),!0;if(t.channel_mode!==this.audio_metadata_.channel_mode)return r.a.v(this.TAG,"AC3: Channel Mode changed from "+this.audio_metadata_.channel_mode+" to "+t.channel_mode),!0;if(t.low_frequency_effects_channel_on!==this.audio_metadata_.low_frequency_effects_channel_on)return r.a.v(this.TAG,"AC3: Low Frequency Effects Channel On changed from "+this.audio_metadata_.low_frequency_effects_channel_on+" to "+t.low_frequency_effects_channel_on),!0}else if("opus"===e.codec&&"opus"===this.audio_metadata_.codec){if((i=e.meta).sample_rate!==this.audio_metadata_.sample_rate)return r.a.v(this.TAG,"Opus: SamplingFrequencyIndex changed from "+this.audio_metadata_.sample_rate+" to "+i.sample_rate),!0;if(i.channel_count!==this.audio_metadata_.channel_count)return r.a.v(this.TAG,"Opus: Channel count changed from "+this.audio_metadata_.channel_count+" to "+i.channel_count),!0}else if("mp3"===e.codec&&"mp3"===this.audio_metadata_.codec){var i;if((i=e.data).object_type!==this.audio_metadata_.object_type)return r.a.v(this.TAG,"MP3: AudioObjectType changed from "+this.audio_metadata_.object_type+" to "+i.object_type),!0;if(i.sample_rate!==this.audio_metadata_.sample_rate)return r.a.v(this.TAG,"MP3: SamplingFrequencyIndex changed from "+this.audio_metadata_.sample_rate+" to "+i.sample_rate),!0;if(i.channel_count!==this.audio_metadata_.channel_count)return r.a.v(this.TAG,"MP3: Channel count changed from "+this.audio_metadata_.channel_count+" to "+i.channel_count),!0}return!1},t.prototype.dispatchAudioInitSegment=function(e){var t={type:"audio"};if(t.id=this.audio_track_.id,t.timescale=1e3,t.duration=this.duration_,"aac"===this.audio_metadata_.codec){var i="aac"===e.codec?e.data:null,n=new q(i);t.audioSampleRate=n.sampling_rate,t.channelCount=n.channel_count,t.codec=n.codec_mimetype,t.originalCodec=n.original_codec_mimetype,t.config=n.config,t.refSampleDuration=1024/t.audioSampleRate*t.timescale}else if("ac-3"===this.audio_metadata_.codec){var a="ac-3"===e.codec?e.data:null,s=new ge(a);t.audioSampleRate=s.sampling_rate,t.channelCount=s.channel_count,t.codec=s.codec_mimetype,t.originalCodec=s.original_codec_mimetype,t.config=s.config,t.refSampleDuration=1536/t.audioSampleRate*t.timescale}else"opus"===this.audio_metadata_.codec?(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.channelConfigCode=this.audio_metadata_.channel_config_code,t.codec="opus",t.originalCodec="opus",t.config=void 0,t.refSampleDuration=20):"mp3"===this.audio_metadata_.codec&&(t.audioSampleRate=this.audio_metadata_.sample_rate,t.channelCount=this.audio_metadata_.channel_count,t.codec="mp3",t.originalCodec="mp3",t.config=void 0);0==this.audio_init_segment_dispatched_&&r.a.v(this.TAG,"Generated first AudioSpecificConfig for mimeType: "+t.codec),this.onTrackMetadata("audio",t),this.audio_init_segment_dispatched_=!0,this.video_metadata_changed_=!1;var o=this.media_info_;o.hasAudio=!0,o.audioCodec=t.originalCodec,o.audioSampleRate=t.audioSampleRate,o.audioChannelCount=t.channelCount,o.hasVideo&&o.videoCodec?o.mimeType='video/mp2t; codecs="'+o.videoCodec+","+o.audioCodec+'"':o.mimeType='video/mp2t; codecs="'+o.audioCodec+'"',o.isComplete()&&this.onMediaInfo(o)},t.prototype.dispatchPESPrivateDataDescriptor=function(e,t,i){var n=new W;n.pid=e,n.stream_type=t,n.descriptor=i,this.onPESPrivateDataDescriptor&&this.onPESPrivateDataDescriptor(n)},t.prototype.parsePESPrivateDataPayload=function(e,t,i,n,a){var r=new K;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var s=Math.floor(t/this.timescale_);r.pts=s}else r.nearest_pts=this.aac_last_sample_pts_;if(null!=i){var o=Math.floor(i/this.timescale_);r.dts=o}this.onPESPrivateData&&this.onPESPrivateData(r)},t.prototype.parseTimedID3MetadataPayload=function(e,t,i,n,a){var r=new K;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var s=Math.floor(t/this.timescale_);r.pts=s}if(null!=i){var o=Math.floor(i/this.timescale_);r.dts=o}this.onTimedID3Metadata&&this.onTimedID3Metadata(r)},t.prototype.parseSMPTE2038MetadataPayload=function(e,t,i,n,a){var r=new ue;if(r.pid=n,r.stream_id=a,r.len=e.byteLength,r.data=e,null!=t){var s=Math.floor(t/this.timescale_);r.pts=s}if(r.nearest_pts=this.aac_last_sample_pts_,null!=i){var o=Math.floor(i/this.timescale_);r.dts=o}r.ancillaries=function(e){for(var t=new f(e),i=0,n=[];;){if(i+=6,0!==t.readBits(6))break;var a=t.readBool();i+=1;var r=t.readBits(11);i+=11;var s=t.readBits(12);i+=12;var o=255&t.readBits(10);i+=10;var d=255&t.readBits(10);i+=10;var _=255&t.readBits(10);i+=10;for(var h=new Uint8Array(_),c=0;c<_;c++){var u=255&t.readBits(10);i+=10,h[c]=u}t.readBits(10);i+=10;var l="User Defined";65===o?7===d&&(l="SCTE-104"):95===o?220===d?l="ARIB STD-B37 (1SEG)":221===d?l="ARIB STD-B37 (ANALOG)":222===d?l="ARIB STD-B37 (SD)":223===d&&(l="ARIB STD-B37 (HD)"):97===o&&(1===d?l="EIA-708":2===d&&(l="EIA-608")),n.push({yc_indicator:a,line_number:r,horizontal_offset:s,did:o,sdid:d,user_data:h,description:l,information:{}}),t.readBits(8-(i-Math.floor(i/8))%8),i+=(8-(i-Math.floor(i/8)))%8}return t.destroy(),t=null,n}(e),this.onSMPTE2038Metadata&&this.onSMPTE2038Metadata(r)},t}(R),Se=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<i;t++)for(var r=arguments[t],s=0,o=r.length;s<o;s++,a++)n[a]=r[s];return n},Ee=function(){function e(){}return e.init=function(){for(var t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],hvc1:[],hvcC:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[],Opus:[],dOps:[],"ac-3":[],dac3:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var i=e.constants={};i.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),i.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),i.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),i.STSC=i.STCO=i.STTS,i.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),i.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),i.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),i.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),i.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])},e.box=function(e){for(var t=8,i=null,n=Array.prototype.slice.call(arguments,1),a=n.length,r=0;r<a;r++)t+=n[r].byteLength;(i=new Uint8Array(t))[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);var s=8;for(r=0;r<a;r++)i.set(n[r],s),s+=n[r].byteLength;return i},e.generateInitSegment=function(t){var i=e.box(e.types.ftyp,e.constants.FTYP),n=e.moov(t),a=new Uint8Array(i.byteLength+n.byteLength);return a.set(i,0),a.set(n,i.byteLength),a},e.moov=function(t){var i=e.mvhd(t.timescale,t.duration),n=e.trak(t),a=e.mvex(t);return e.box(e.types.moov,i,n,a)},e.mvhd=function(t,i){return e.box(e.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))},e.trak=function(t){return e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.tkhd=function(t){var i=t.id,n=t.duration,a=t.presentWidth,r=t.presentHeight;return e.box(e.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,a>>>8&255,255&a,0,0,r>>>8&255,255&r,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t),e.hdlr(t),e.minf(t))},e.mdhd=function(t){var i=t.timescale,n=t.duration;return e.box(e.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,n>>>24&255,n>>>16&255,n>>>8&255,255&n,85,196,0,0]))},e.hdlr=function(t){var i=null;return i="audio"===t.type?e.constants.HDLR_AUDIO:e.constants.HDLR_VIDEO,e.box(e.types.hdlr,i)},e.minf=function(t){var i=null;return i="audio"===t.type?e.box(e.types.smhd,e.constants.SMHD):e.box(e.types.vmhd,e.constants.VMHD),e.box(e.types.minf,i,e.dinf(),e.stbl(t))},e.dinf=function(){return e.box(e.types.dinf,e.box(e.types.dref,e.constants.DREF))},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.constants.STTS),e.box(e.types.stsc,e.constants.STSC),e.box(e.types.stsz,e.constants.STSZ),e.box(e.types.stco,e.constants.STCO))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp3(t)):"ac-3"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.ac3(t)):"opus"===t.codec?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.Opus(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.mp4a(t)):"video"===t.type&&t.codec.startsWith("hvc1")?e.box(e.types.stsd,e.constants.STSD_PREFIX,e.hvc1(t)):e.box(e.types.stsd,e.constants.STSD_PREFIX,e.avc1(t))},e.mp3=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types[".mp3"],a)},e.mp4a=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.mp4a,a,e.esds(t))},e.ac3=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types["ac-3"],a,e.box(e.types.dac3,new Uint8Array(t.config)))},e.esds=function(t){var i=t.config||[],n=i.length,a=new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(i).concat([6,1,2]));return e.box(e.types.esds,a)},e.Opus=function(t){var i=t.channelCount,n=t.audioSampleRate,a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,i,0,16,0,0,0,0,n>>>8&255,255&n,0,0]);return e.box(e.types.Opus,a,e.dOps(t))},e.dOps=function(t){var i=t.channelCount,n=t.channelConfigCode,a=t.audioSampleRate;if(t.config)return e.box(e.types.dOps,s);var r=[];switch(n){case 1:case 2:r=[0];break;case 0:r=[255,1,1,0,1];break;case 128:r=[255,2,0,0,1];break;case 3:r=[1,2,1,0,2,1];break;case 4:r=[1,2,2,0,1,2,3];break;case 5:r=[1,3,2,0,4,1,2,3];break;case 6:r=[1,4,2,0,4,1,2,3,5];break;case 7:r=[1,4,2,0,4,1,2,3,5,6];break;case 8:r=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:r=[1,1,2,0,1];break;case 131:r=[1,1,3,0,1,2];break;case 132:r=[1,1,4,0,1,2,3];break;case 133:r=[1,1,5,0,1,2,3,4];break;case 134:r=[1,1,6,0,1,2,3,4,5];break;case 135:r=[1,1,7,0,1,2,3,4,5,6];break;case 136:r=[1,1,8,0,1,2,3,4,5,6,7]}var s=new Uint8Array(Se([0,i,0,0,a>>>24&255,a>>>17&255,a>>>8&255,a>>>0&255,0,0],r));return e.box(e.types.dOps,s)},e.avc1=function(t){var i=t.avcc,n=t.codecWidth,a=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.avc1,r,e.box(e.types.avcC,i))},e.hvc1=function(t){var i=t.hvcc,n=t.codecWidth,a=t.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,n>>>8&255,255&n,a>>>8&255,255&a,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return e.box(e.types.hvc1,r,e.box(e.types.hvcC,i))},e.mvex=function(t){return e.box(e.types.mvex,e.trex(t))},e.trex=function(t){var i=t.id,n=new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return e.box(e.types.trex,n)},e.moof=function(t,i){return e.box(e.types.moof,e.mfhd(t.sequenceNumber),e.traf(t,i))},e.mfhd=function(t){var i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t]);return e.box(e.types.mfhd,i)},e.traf=function(t,i){var n=t.id,a=e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>>24&255,n>>>16&255,n>>>8&255,255&n])),r=e.box(e.types.tfdt,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),s=e.sdtp(t),o=e.trun(t,s.byteLength+16+16+8+16+8+8);return e.box(e.types.traf,a,r,o,s)},e.sdtp=function(t){for(var i=t.samples||[],n=i.length,a=new Uint8Array(4+n),r=0;r<n;r++){var s=i[r].flags;a[r+4]=s.isLeading<<6|s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy}return e.box(e.types.sdtp,a)},e.trun=function(t,i){var n=t.samples||[],a=n.length,r=12+16*a,s=new Uint8Array(r);i+=8+r,s.set([0,0,15,1,a>>>24&255,a>>>16&255,a>>>8&255,255&a,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0);for(var o=0;o<a;o++){var d=n[o].duration,_=n[o].size,h=n[o].flags,c=n[o].cts;s.set([d>>>24&255,d>>>16&255,d>>>8&255,255&d,_>>>24&255,_>>>16&255,_>>>8&255,255&_,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.isNonSync,0,0,c>>>24&255,c>>>16&255,c>>>8&255,255&c],12+16*o)}return e.box(e.types.trun,s)},e.mdat=function(t){return e.box(e.types.mdat,t)},e}();Ee.init();var Ae=Ee,Re=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),Te=i(7),Le=function(){function e(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Te.c("audio"),this._videoSegmentInfoList=new Te.c("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!s.a.chrome||!(s.a.version.major<50||50===s.a.version.major&&s.a.version.build<2661)),this._fillSilentAfterSeek=s.a.msedge||s.a.msie,this._mp3UseMpegAudio=!s.a.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}return e.prototype.destroy=function(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null},e.prototype.bindDataSource=function(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this},Object.defineProperty(e.prototype,"onInitSegment",{get:function(){return this._onInitSegment},set:function(e){this._onInitSegment=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMediaSegment",{get:function(){return this._onMediaSegment},set:function(e){this._onMediaSegment=e},enumerable:!1,configurable:!0}),e.prototype.insertDiscontinuity=function(){this._audioNextDts=this._videoNextDts=void 0},e.prototype.seek=function(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()},e.prototype.remux=function(e,t){if(!this._onMediaSegment)throw new c.a("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),t&&this._remuxVideo(t),e&&this._remuxAudio(e)},e.prototype._onTrackMetadataReceived=function(e,t){var i=null,n="mp4",a=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(n="mpeg",a="",i=new Uint8Array):i=Ae.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=Ae.generateInitSegment(t)}if(!this._onInitSegment)throw new c.a("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:a,container:e+"/"+n,mediaDuration:t.duration})},e.prototype._calculateDtsBase=function(e,t){this._dtsBaseInited||(e&&e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t&&t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)},e.prototype.getTimestampBase=function(){if(this._dtsBaseInited)return this._dtsBase},e.prototype.flushStashedSamples=function(){var e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);var n={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(n.samples.push(t),n.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(n,!0)},e.prototype._remuxAudio=function(e,t){if(null!=this._audioMeta){var i,n=e,a=n.samples,o=void 0,d=-1,_=this._audioMeta.refSampleDuration,h="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,c=this._dtsBaseInited&&void 0===this._audioNextDts,u=!1;if(a&&0!==a.length&&(1!==a.length||t)){var l=0,f=null,p=0;h?(l=0,p=n.length):(l=8,p=8+n.length);var m=null;if(a.length>1&&(p-=(m=a.pop()).length),null!=this._audioStashedLastSample){var g=this._audioStashedLastSample;this._audioStashedLastSample=null,a.unshift(g),p+=g.length}null!=m&&(this._audioStashedLastSample=m);var v=a[0].dts-this._dtsBase;if(this._audioNextDts)o=v-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())o=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(u=!0);else{var y=this._audioSegmentInfoList.getLastSampleBefore(v);if(null!=y){var b=v-(y.originalDts+y.duration);b<=3&&(b=0),o=v-(y.dts+y.duration+b)}else o=0}if(u){var S=v-o,E=this._videoSegmentInfoList.getLastSegmentBefore(v);if(null!=E&&E.beginDts<S){if(O=Re.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount)){var A=E.beginDts,R=S-E.beginDts;r.a.v(this.TAG,"InsertPrefixSilentAudio: dts: "+A+", duration: "+R),a.unshift({unit:O,dts:A,pts:A}),p+=O.byteLength}}else u=!1}for(var T=[],L=0;L<a.length;L++){var w=(g=a[L]).unit,k=g.dts-this._dtsBase,D=(A=k,!1),C=null,B=0;if(!(k<-.001)){if("mp3"!==this._audioMeta.codec){var I=k;if(this._audioNextDts&&(I=this._audioNextDts),(o=k-I)<=-3*_){r.a.w(this.TAG,"Dropping 1 audio frame (originalDts: "+k+" ms ,curRefDts: "+I+" ms)  due to dtsCorrection: "+o+" ms overlap.");continue}if(o>=3*_&&this._fillAudioTimestampGap&&!s.a.safari){D=!0;var O,P=Math.floor(o/_);r.a.w(this.TAG,"Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\noriginalDts: "+k+" ms, curRefDts: "+I+" ms, dtsCorrection: "+Math.round(o)+" ms, generate: "+P+" frames"),A=Math.floor(I),B=Math.floor(I+_)-A,null==(O=Re.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount))&&(r.a.w(this.TAG,"Unable to generate silent frame for "+this._audioMeta.originalCodec+" with "+this._audioMeta.channelCount+" channels, repeat last frame"),O=w),C=[];for(var M=0;M<P;M++){I+=_;var x=Math.floor(I),U=Math.floor(I+_)-x,N={dts:x,pts:x,cts:0,unit:O,size:O.byteLength,duration:U,originalDts:k,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};C.push(N),p+=N.size}this._audioNextDts=I+_}else A=Math.floor(I),B=Math.floor(I+_)-A,this._audioNextDts=I+_}else{if(A=k-o,L!==a.length-1)B=a[L+1].dts-this._dtsBase-o-A;else if(null!=m)B=m.dts-this._dtsBase-o-A;else B=T.length>=1?T[T.length-1].duration:Math.floor(_);this._audioNextDts=A+B}-1===d&&(d=A),T.push({dts:A,pts:A,cts:0,unit:g.unit,size:g.unit.byteLength,duration:B,originalDts:k,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),D&&T.push.apply(T,C)}}if(0===T.length)return n.samples=[],void(n.length=0);h?f=new Uint8Array(p):((f=new Uint8Array(p))[0]=p>>>24&255,f[1]=p>>>16&255,f[2]=p>>>8&255,f[3]=255&p,f.set(Ae.types.mdat,4));for(L=0;L<T.length;L++){w=T[L].unit;f.set(w,l),l+=w.byteLength}var G=T[T.length-1];i=G.dts+G.duration;var V=new Te.b;V.beginDts=d,V.endDts=i,V.beginPts=d,V.endPts=i,V.originalBeginDts=T[0].originalDts,V.originalEndDts=G.originalDts+G.duration,V.firstSample=new Te.d(T[0].dts,T[0].pts,T[0].duration,T[0].originalDts,!1),V.lastSample=new Te.d(G.dts,G.pts,G.duration,G.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(V),n.samples=T,n.sequenceNumber++;var F=null;F=h?new Uint8Array:Ae.moof(n,d),n.samples=[],n.length=0;var j={type:"audio",data:this._mergeBoxes(F,f).buffer,sampleCount:T.length,info:V};h&&c&&(j.timestampOffset=d),this._onMediaSegment("audio",j)}}},e.prototype._remuxVideo=function(e,t){if(null!=this._videoMeta){var i,n,a=e,r=a.samples,s=void 0,o=-1,d=-1;if(r&&0!==r.length&&(1!==r.length||t)){var _=8,h=null,c=8+e.length,u=null;if(r.length>1&&(c-=(u=r.pop()).length),null!=this._videoStashedLastSample){var l=this._videoStashedLastSample;this._videoStashedLastSample=null,r.unshift(l),c+=l.length}null!=u&&(this._videoStashedLastSample=u);var f=r[0].dts-this._dtsBase;if(this._videoNextDts)s=f-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())s=0;else{var p=this._videoSegmentInfoList.getLastSampleBefore(f);if(null!=p){var m=f-(p.originalDts+p.duration);m<=3&&(m=0),s=f-(p.dts+p.duration+m)}else s=0}for(var g=new Te.b,v=[],y=0;y<r.length;y++){var b=(l=r[y]).dts-this._dtsBase,S=l.isKeyframe,E=b-s,A=l.cts,R=E+A;-1===o&&(o=E,d=R);var T=0;if(y!==r.length-1)T=r[y+1].dts-this._dtsBase-s-E;else if(null!=u)T=u.dts-this._dtsBase-s-E;else T=v.length>=1?v[v.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(S){var L=new Te.d(E,R,T,l.dts,!0);L.fileposition=l.fileposition,g.appendSyncPoint(L)}v.push({dts:E,pts:R,cts:A,units:l.units,size:l.length,isKeyframe:S,duration:T,originalDts:b,flags:{isLeading:0,dependsOn:S?2:1,isDependedOn:S?1:0,hasRedundancy:0,isNonSync:S?0:1}})}(h=new Uint8Array(c))[0]=c>>>24&255,h[1]=c>>>16&255,h[2]=c>>>8&255,h[3]=255&c,h.set(Ae.types.mdat,4);for(y=0;y<v.length;y++)for(var w=v[y].units;w.length;){var k=w.shift().data;h.set(k,_),_+=k.byteLength}var D=v[v.length-1];if(i=D.dts+D.duration,n=D.pts+D.duration,this._videoNextDts=i,g.beginDts=o,g.endDts=i,g.beginPts=d,g.endPts=n,g.originalBeginDts=v[0].originalDts,g.originalEndDts=D.originalDts+D.duration,g.firstSample=new Te.d(v[0].dts,v[0].pts,v[0].duration,v[0].originalDts,v[0].isKeyframe),g.lastSample=new Te.d(D.dts,D.pts,D.duration,D.originalDts,D.isKeyframe),this._isLive||this._videoSegmentInfoList.append(g),a.samples=v,a.sequenceNumber++,this._forceFirstIDR){var C=v[0].flags;C.dependsOn=2,C.isNonSync=0}var B=Ae.moof(a,o);a.samples=[],a.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(B,h).buffer,sampleCount:v.length,info:g})}}},e.prototype._mergeBoxes=function(e,t){var i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i},e}(),we=i(11),ke=i(1),De=function(){function e(e,t){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;var i=0;this._mediaDataSource.segments.forEach((function(n){n.timestampBase=i,i+=n.duration,n.cors=e.cors,n.withCredentials=e.withCredentials,t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy)})),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}return e.prototype.destroy=function(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.start=function(){this._loadSegment(0),this._enableStatisticsReporter()},e.prototype._loadSegment=function(e,t){this._currentSegmentIndex=e;var i=this._mediaDataSource.segments[e],n=this._ioctl=new we.a(i,this._config,e);n.onError=this._onIOException.bind(this),n.onSeeked=this._onIOSeeked.bind(this),n.onComplete=this._onIOComplete.bind(this),n.onRedirect=this._onIORedirect.bind(this),n.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):n.onDataArrival=this._onInitChunkArrival.bind(this),n.open(t)},e.prototype.stop=function(){this._internalAbort(),this._disableStatisticsReporter()},e.prototype._internalAbort=function(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)},e.prototype.pause=function(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())},e.prototype.resume=function(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())},e.prototype.seek=function(e){if(null!=this._mediaInfo&&this._mediaInfo.isSeekable()){var t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){var i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e;else{var n=i.getNearestKeyframe(e);this._remuxer.seek(n.milliseconds),this._ioctl.seek(n.fileposition),this._pendingResolveSeekPoint=n.milliseconds}}else{var a=this._mediaInfo.segments[t];if(null==a)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{n=a.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,n.fileposition),this._pendingResolveSeekPoint=n.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}},e.prototype._searchSegmentIndexContains=function(e){for(var t=this._mediaDataSource.segments,i=t.length-1,n=0;n<t.length;n++)if(e<t[n].timestampBase){i=n-1;break}return i},e.prototype._onInitChunkArrival=function(e,t){var i=this,n=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,n=this._demuxer.parseChunks(e,t);else{var a=null;(a=A.probe(e)).match&&(this._setupFLVDemuxerRemuxer(a),n=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=be.probe(e)).match&&(this._setupTSDemuxerRemuxer(a),n=this._demuxer.parseChunks(e,t)),a.match||a.needMoreData||(a=null,r.a.e(this.TAG,"Non MPEG-TS/FLV, Unsupported media type!"),Promise.resolve().then((function(){i._internalAbort()})),this._emitter.emit(ke.a.DEMUX_ERROR,m.a.FORMAT_UNSUPPORTED,"Non MPEG-TS/FLV, Unsupported media type!"))}return n},e.prototype._setupFLVDemuxerRemuxer=function(e){this._demuxer=new A(e,this._config),this._remuxer||(this._remuxer=new Le(this._config));var t=this._mediaDataSource;null==t.duration||isNaN(t.duration)||(this._demuxer.overridedDuration=t.duration),"boolean"==typeof t.hasAudio&&(this._demuxer.overridedHasAudio=t.hasAudio),"boolean"==typeof t.hasVideo&&(this._demuxer.overridedHasVideo=t.hasVideo),this._demuxer.timestampBase=t.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._setupTSDemuxerRemuxer=function(e){var t=this._demuxer=new be(e,this._config);this._remuxer||(this._remuxer=new Le(this._config)),t.onError=this._onDemuxException.bind(this),t.onMediaInfo=this._onMediaInfo.bind(this),t.onMetaDataArrived=this._onMetaDataArrived.bind(this),t.onTimedID3Metadata=this._onTimedID3Metadata.bind(this),t.onSMPTE2038Metadata=this._onSMPTE2038Metadata.bind(this),t.onSCTE35Metadata=this._onSCTE35Metadata.bind(this),t.onPESPrivateDataDescriptor=this._onPESPrivateDataDescriptor.bind(this),t.onPESPrivateData=this._onPESPrivateData.bind(this),this._remuxer.bindDataSource(this._demuxer),this._demuxer.bindDataSource(this._ioctl),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this)},e.prototype._onMediaInfo=function(e){var t=this;null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,o.a.prototype));var i=Object.assign({},e);Object.setPrototypeOf(i,o.a.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=i,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then((function(){var e=t._pendingSeekTime;t._pendingSeekTime=null,t.seek(e)}))},e.prototype._onMetaDataArrived=function(e){this._emitter.emit(ke.a.METADATA_ARRIVED,e)},e.prototype._onScriptDataArrived=function(e){this._emitter.emit(ke.a.SCRIPTDATA_ARRIVED,e)},e.prototype._onTimedID3Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(ke.a.TIMED_ID3_METADATA_ARRIVED,e))},e.prototype._onSMPTE2038Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.dts&&(e.dts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(ke.a.SMPTE2038_METADATA_ARRIVED,e))},e.prototype._onSCTE35Metadata=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),this._emitter.emit(ke.a.SCTE35_METADATA_ARRIVED,e))},e.prototype._onPESPrivateDataDescriptor=function(e){this._emitter.emit(ke.a.PES_PRIVATE_DATA_DESCRIPTOR,e)},e.prototype._onPESPrivateData=function(e){var t=this._remuxer.getTimestampBase();null!=t&&(null!=e.pts&&(e.pts-=t),null!=e.nearest_pts&&(e.nearest_pts-=t),null!=e.dts&&(e.dts-=t),this._emitter.emit(ke.a.PES_PRIVATE_DATA_ARRIVED,e))},e.prototype._onIOSeeked=function(){this._remuxer.insertDiscontinuity()},e.prototype._onIOComplete=function(e){var t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer&&this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer&&this._remuxer.flushStashedSamples(),this._emitter.emit(ke.a.LOADING_COMPLETE),this._disableStatisticsReporter())},e.prototype._onIORedirect=function(e){var t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e},e.prototype._onIORecoveredEarlyEof=function(){this._emitter.emit(ke.a.RECOVERED_EARLY_EOF)},e.prototype._onIOException=function(e,t){r.a.e(this.TAG,"IOException: type = "+e+", code = "+t.code+", msg = "+t.msg),this._emitter.emit(ke.a.IO_ERROR,e,t),this._disableStatisticsReporter()},e.prototype._onDemuxException=function(e,t){r.a.e(this.TAG,"DemuxException: type = "+e+", info = "+t),this._emitter.emit(ke.a.DEMUX_ERROR,e,t)},e.prototype._onRemuxerInitSegmentArrival=function(e,t){this._emitter.emit(ke.a.INIT_SEGMENT,e,t)},e.prototype._onRemuxerMediaSegmentArrival=function(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(ke.a.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){var i=t.info.syncPoints,n=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,s.a.safari&&i.length>0&&i[0].originalDts===n&&(n=i[0].pts),this._emitter.emit(ke.a.RECOMMEND_SEEKPOINT,n)}},e.prototype._enableStatisticsReporter=function(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))},e.prototype._disableStatisticsReporter=function(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype._reportSegmentMediaInfo=function(e){var t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(ke.a.MEDIA_INFO,i)},e.prototype._reportStatisticsInfo=function(){var e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(ke.a.STATISTICS_INFO,e)},e}();t.a=De},function(e,t,i){"use strict";var n,a=i(0),r=function(){function e(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}return e.prototype.reset=function(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0},e.prototype.addBytes=function(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())},Object.defineProperty(e.prototype,"currentKBps",{get:function(){this.addBytes(0);var e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecondKBps",{get:function(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageKBps",{get:function(){var e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024},enumerable:!1,configurable:!0}),e}(),s=i(2),o=i(4),d=i(3),_=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),h=function(e){function t(t,i){var n=e.call(this,"fetch-stream-loader")||this;return n.TAG="FetchStreamLoader",n._seekHandler=t,n._config=i,n._needStash=!0,n._requestAbort=!1,n._abortController=null,n._contentLength=null,n._receivedLength=0,n}return _(t,e),t.isSupported=function(){try{var e=o.a.msedge&&o.a.version.minor>=15048,t=!o.a.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){var i=this;this._dataSource=e,this._range=t;var n=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(n=e.redirectedURL);var a=this._seekHandler.getConfig(n,t),r=new self.Headers;if("object"==typeof a.headers){var o=a.headers;for(var _ in o)o.hasOwnProperty(_)&&r.append(_,o[_])}var h={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(var _ in this._config.headers)r.append(_,this._config.headers[_]);!1===e.cors&&(h.mode="same-origin"),e.withCredentials&&(h.credentials="include"),e.referrerPolicy&&(h.referrerPolicy=e.referrerPolicy),self.AbortController&&(this._abortController=new self.AbortController,h.signal=this._abortController.signal),this._status=s.c.kConnecting,self.fetch(a.url,h).then((function(e){if(i._requestAbort)return i._status=s.c.kIdle,void e.body.cancel();if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==a.url&&i._onURLRedirect){var t=i._seekHandler.removeURLParameters(e.url);i._onURLRedirect(t)}var n=e.headers.get("Content-Length");return null!=n&&(i._contentLength=parseInt(n),0!==i._contentLength&&i._onContentLengthKnown&&i._onContentLengthKnown(i._contentLength)),i._pump.call(i,e.body.getReader())}if(i._status=s.c.kError,!i._onError)throw new d.d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);i._onError(s.b.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})})).catch((function(e){if(!i._abortController||!i._abortController.signal.aborted){if(i._status=s.c.kError,!i._onError)throw e;i._onError(s.b.EXCEPTION,{code:-1,msg:e.message})}}))},t.prototype.abort=function(){if(this._requestAbort=!0,(this._status!==s.c.kBuffering||!o.a.chrome)&&this._abortController)try{this._abortController.abort()}catch(e){}},t.prototype._pump=function(e){var t=this;return e.read().then((function(i){if(i.done)if(null!==t._contentLength&&t._receivedLength<t._contentLength){t._status=s.c.kError;var n=s.b.EARLY_EOF,a={code:-1,msg:"Fetch stream meet Early-EOF"};if(!t._onError)throw new d.d(a.msg);t._onError(n,a)}else t._status=s.c.kComplete,t._onComplete&&t._onComplete(t._range.from,t._range.from+t._receivedLength-1);else{if(t._abortController&&t._abortController.signal.aborted)return void(t._status=s.c.kComplete);if(!0===t._requestAbort)return t._status=s.c.kComplete,e.cancel();t._status=s.c.kBuffering;var r=i.value.buffer,o=t._range.from+t._receivedLength;t._receivedLength+=r.byteLength,t._onDataArrival&&t._onDataArrival(r,o,t._receivedLength),t._pump(e)}})).catch((function(e){if(t._abortController&&t._abortController.signal.aborted)t._status=s.c.kComplete;else if(11!==e.code||!o.a.msedge){t._status=s.c.kError;var i=0,n=null;if(19!==e.code&&"network error"!==e.message||!(null===t._contentLength||null!==t._contentLength&&t._receivedLength<t._contentLength)?(i=s.b.EXCEPTION,n={code:e.code,msg:e.message}):(i=s.b.EARLY_EOF,n={code:e.code,msg:"Fetch stream meet Early-EOF"}),!t._onError)throw new d.d(n.msg);t._onError(i,n)}}))},t}(s.a),c=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=function(e){function t(t,i){var n=e.call(this,"xhr-moz-chunked-loader")||this;return n.TAG="MozChunkedLoader",n._seekHandler=t,n._config=i,n._needStash=!0,n._xhr=null,n._requestAbort=!1,n._contentLength=null,n._receivedLength=0,n}return c(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return a.a.w("MozChunkedLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},t.prototype.open=function(e,t){this._dataSource=e,this._range=t;var i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);var n=this._seekHandler.getConfig(i,t);this._requestURL=n.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",n.url,!0),a.responseType="moz-chunked-arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onloadend=this._onLoadEnd.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof n.headers){var r=n.headers;for(var o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o])}if("object"==typeof this._config.headers){r=this._config.headers;for(var o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o,r[o])}this._status=s.c.kConnecting,a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=s.c.kComplete},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){var i=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(i)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=s.c.kError,!this._onError)throw new d.d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(s.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=s.c.kBuffering}},t.prototype._onProgress=function(e){if(this._status!==s.c.kError){null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));var t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}},t.prototype._onLoadEnd=function(e){!0!==this._requestAbort?this._status!==s.c.kError&&(this._status=s.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1},t.prototype._onXhrError=function(e){this._status=s.c.kError;var t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=s.b.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=s.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d.d(i.msg);this._onError(t,i)},t}(s.a),l=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),f=function(e){function t(t,i){var n=e.call(this,"xhr-range-loader")||this;return n.TAG="RangeLoader",n._seekHandler=t,n._config=i,n._needStash=!1,n._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],n._currentChunkSizeKB=384,n._currentSpeedNormalized=0,n._zeroSpeedChunkCount=0,n._xhr=null,n._speedSampler=new r,n._requestAbort=!1,n._waitForTotalLength=!1,n._totalLengthReceived=!1,n._currentRequestURL=null,n._currentRedirectedURL=null,n._currentRequestRange=null,n._totalLength=null,n._contentLength=null,n._receivedLength=0,n._lastTimeLoaded=0,n}return l(t,e),t.isSupported=function(){try{var e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return a.a.w("RangeLoader",e.message),!1}},t.prototype.destroy=function(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),e.prototype.destroy.call(this)},Object.defineProperty(t.prototype,"currentSpeed",{get:function(){return this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),t.prototype.open=function(e,t){this._dataSource=e,this._range=t,this._status=s.c.kConnecting;var i=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))},t.prototype._openSubRange=function(){var e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)},t.prototype._internalOpen=function(e,t){this._lastTimeLoaded=0;var i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));var n=this._seekHandler.getConfig(i,t);this._currentRequestURL=n.url;var a=this._xhr=new XMLHttpRequest;if(a.open("GET",n.url,!0),a.responseType="arraybuffer",a.onreadystatechange=this._onReadyStateChange.bind(this),a.onprogress=this._onProgress.bind(this),a.onload=this._onLoad.bind(this),a.onerror=this._onXhrError.bind(this),e.withCredentials&&(a.withCredentials=!0),"object"==typeof n.headers){var r=n.headers;for(var s in r)r.hasOwnProperty(s)&&a.setRequestHeader(s,r[s])}if("object"==typeof this._config.headers){r=this._config.headers;for(var s in r)r.hasOwnProperty(s)&&a.setRequestHeader(s,r[s])}a.send()},t.prototype.abort=function(){this._requestAbort=!0,this._internalAbort(),this._status=s.c.kComplete},t.prototype._internalAbort=function(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)},t.prototype._onReadyStateChange=function(e){var t=e.target;if(2===t.readyState){if(null!=t.responseURL){var i=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&i!==this._currentRedirectedURL&&(this._currentRedirectedURL=i,this._onURLRedirect&&this._onURLRedirect(i))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=s.c.kBuffering}else{if(this._status=s.c.kError,!this._onError)throw new d.d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(s.b.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}},t.prototype._onProgress=function(e){if(this._status!==s.c.kError){if(null===this._contentLength){var t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;var i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}var n=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(n)}},t.prototype._normalizeSpeed=function(e){var t=this._chunkSizeKBList,i=t.length-1,n=0,a=0,r=i;if(e<t[0])return t[0];for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?a=n+1:r=n-1}},t.prototype._onLoad=function(e){if(this._status!==s.c.kError)if(this._waitForTotalLength)this._waitForTotalLength=!1;else{this._lastTimeLoaded=0;var t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){var i=this._normalizeSpeed(t);this._currentSpeedNormalized!==i&&(this._currentSpeedNormalized=i,this._currentChunkSizeKB=i)}var n=e.target.response,a=this._range.from+this._receivedLength;this._receivedLength+=n.byteLength;var r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(n,a,this._receivedLength),r&&(this._status=s.c.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}},t.prototype._onXhrError=function(e){this._status=s.c.kError;var t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=s.b.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=s.b.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d.d(i.msg);this._onError(t,i)},t}(s.a),p=function(){var e=function(t,i){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(t,i)};return function(t,i){function n(){this.constructor=t}e(t,i),t.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),m=function(e){function t(){var t=e.call(this,"websocket-loader")||this;return t.TAG="WebSocketLoader",t._needStash=!0,t._ws=null,t._requestAbort=!1,t._receivedLength=0,t}return p(t,e),t.isSupported=function(){try{return void 0!==self.WebSocket}catch(e){return!1}},t.prototype.destroy=function(){this._ws&&this.abort(),e.prototype.destroy.call(this)},t.prototype.open=function(e){try{var t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=s.c.kConnecting}catch(e){this._status=s.c.kError;var i={code:e.code,msg:e.message};if(!this._onError)throw new d.d(i.msg);this._onError(s.b.EXCEPTION,i)}},t.prototype.abort=function(){var e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=s.c.kComplete},t.prototype._onWebSocketOpen=function(e){this._status=s.c.kBuffering},t.prototype._onWebSocketClose=function(e){!0!==this._requestAbort?(this._status=s.c.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1},t.prototype._onWebSocketMessage=function(e){var t=this;if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){var i=new FileReader;i.onload=function(){t._dispatchArrayBuffer(i.result)},i.readAsArrayBuffer(e.data)}else{this._status=s.c.kError;var n={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new d.d(n.msg);this._onError(s.b.EXCEPTION,n)}},t.prototype._dispatchArrayBuffer=function(e){var t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)},t.prototype._onWebSocketError=function(e){this._status=s.c.kError;var t={code:e.code,msg:e.message};if(!this._onError)throw new d.d(t.msg);this._onError(s.b.EXCEPTION,t)},t}(s.a),g=function(){function e(e){this._zeroStart=e||!1}return e.prototype.getConfig=function(e,t){var i={};if(0!==t.from||-1!==t.to){var n=void 0;n=-1!==t.to?"bytes="+t.from.toString()+"-"+t.to.toString():"bytes="+t.from.toString()+"-",i.Range=n}else this._zeroStart&&(i.Range="bytes=0-");return{url:e,headers:i}},e.prototype.removeURLParameters=function(e){return e},e}(),v=function(){function e(e,t){this._startName=e,this._endName=t}return e.prototype.getConfig=function(e,t){var i=e;if(0!==t.from||-1!==t.to){var n=!0;-1===i.indexOf("?")&&(i+="?",n=!1),n&&(i+="&"),i+=this._startName+"="+t.from.toString(),-1!==t.to&&(i+="&"+this._endName+"="+t.to.toString())}return{url:i,headers:{}}},e.prototype.removeURLParameters=function(e){var t=e.split("?")[0],i=void 0,n=e.indexOf("?");-1!==n&&(i=e.substring(n+1));var a="";if(null!=i&&i.length>0)for(var r=i.split("&"),s=0;s<r.length;s++){var o=r[s].split("="),d=s>0;o[0]!==this._startName&&o[0]!==this._endName&&(d&&(a+="&"),a+=r[s])}return 0===a.length?t:t+"?"+a},e}(),y=function(){function e(e,t,i){this.TAG="IOController",this._config=t,this._extraData=i,this._stashInitialSize=65536,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new r,this._speedNormalizeList=[32,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}return e.prototype.destroy=function(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null},e.prototype.isWorking=function(){return this._loader&&this._loader.isWorking()&&!this._paused},e.prototype.isPaused=function(){return this._paused},Object.defineProperty(e.prototype,"status",{get:function(){return this._loader.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extraData",{get:function(){return this._extraData},set:function(e){this._extraData=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDataArrival",{get:function(){return this._onDataArrival},set:function(e){this._onDataArrival=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSeeked",{get:function(){return this._onSeeked},set:function(e){this._onSeeked=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{get:function(){return this._onError},set:function(e){this._onError=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{get:function(){return this._onComplete},set:function(e){this._onComplete=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRedirect",{get:function(){return this._onRedirect},set:function(e){this._onRedirect=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onRecoveredEarlyEof",{get:function(){return this._onRecoveredEarlyEof},set:function(e){this._onRecoveredEarlyEof=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentURL",{get:function(){return this._dataSource.url},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRedirect",{get:function(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentRedirectedURL",{get:function(){return this._redirectedURL||this._dataSource.redirectedURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentSpeed",{get:function(){return this._loaderClass===f?this._loader.currentSpeed:this._speedSampler.lastSecondKBps},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loaderType",{get:function(){return this._loader.type},enumerable:!1,configurable:!0}),e.prototype._selectSeekHandler=function(){var e=this._config;if("range"===e.seekType)this._seekHandler=new g(this._config.rangeLoadZeroStart);else if("param"===e.seekType){var t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new v(t,i)}else{if("custom"!==e.seekType)throw new d.b("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new d.b("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}},e.prototype._selectLoader=function(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=m;else if(h.isSupported())this._loaderClass=h;else if(u.isSupported())this._loaderClass=u;else{if(!f.isSupported())throw new d.d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=f}},e.prototype._createLoader=function(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)},e.prototype.open=function(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))},e.prototype.abort=function(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)},e.prototype.pause=function(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)},e.prototype.resume=function(){if(this._paused){this._paused=!1;var e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}},e.prototype.seek=function(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)},e.prototype._internalSeek=function(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;var i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()},e.prototype.updateUrl=function(e){if(!e||"string"!=typeof e||0===e.length)throw new d.b("Url must be a non-empty string!");this._dataSource.url=e},e.prototype._expandBuffer=function(e){for(var t=this._stashSize;t+1048576<e;)t*=2;if((t+=1048576)!==this._bufferSize){var i=new ArrayBuffer(t);if(this._stashUsed>0){var n=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(n,0)}this._stashBuffer=i,this._bufferSize=t}},e.prototype._normalizeSpeed=function(e){var t=this._speedNormalizeList,i=t.length-1,n=0,a=0,r=i;if(e<t[0])return t[0];for(;a<=r;){if((n=a+Math.floor((r-a)/2))===i||e>=t[n]&&e<t[n+1])return t[n];t[n]<e?a=n+1:r=n-1}},e.prototype._adjustStashSize=function(e){var t=0;(t=this._config.isLive?e/8:e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e)>8192&&(t=8192);var i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t},e.prototype._dispatchChunks=function(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)},e.prototype._onURLRedirect=function(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)},e.prototype._onContentLengthKnown=function(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)},e.prototype._onLoaderChunkArrival=function(e,t,i){if(!this._onDataArrival)throw new d.a("IOController: No existing consumer (onDataArrival) callback!");if(!this._paused){this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);var n=this._speedSampler.lastSecondKBps;if(0!==n){var a=this._normalizeSpeed(n);this._speedNormalized!==a&&(this._speedNormalized=a,this._adjustStashSize(a))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize){(o=new Uint8Array(this._stashBuffer,0,this._stashSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{o=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){var r=this._stashBuffer.slice(0,this._stashUsed);if((_=this._dispatchChunks(r,this._stashByteStart))<r.byteLength){if(_>0){h=new Uint8Array(r,_);o.set(h,0),this._stashUsed=h.byteLength,this._stashByteStart+=_}}else this._stashUsed=0,this._stashByteStart+=_;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{if((_=this._dispatchChunks(e,t))<e.byteLength)(s=e.byteLength-_)>this._bufferSize&&(this._expandBuffer(s),o=new Uint8Array(this._stashBuffer,0,this._bufferSize)),o.set(new Uint8Array(e,_),0),this._stashUsed+=s,this._stashByteStart=t+_}}else if(0===this._stashUsed){var s;if((_=this._dispatchChunks(e,t))<e.byteLength)(s=e.byteLength-_)>this._bufferSize&&this._expandBuffer(s),(o=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e,_),0),this._stashUsed+=s,this._stashByteStart=t+_}else{var o,_;if(this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength),(o=new Uint8Array(this._stashBuffer,0,this._bufferSize)).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength,(_=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart))<this._stashUsed&&_>0){var h=new Uint8Array(this._stashBuffer,_);o.set(h,0)}this._stashUsed-=_,this._stashByteStart+=_}}},e.prototype._flushStashBuffer=function(e){if(this._stashUsed>0){var t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),n=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){var r=new Uint8Array(this._stashBuffer,0,this._bufferSize),s=new Uint8Array(t,i);r.set(s,0),this._stashUsed=s.byteLength,this._stashByteStart+=i}return 0}a.a.w(this.TAG,n+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,n}return 0},e.prototype._onLoaderComplete=function(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)},e.prototype._onLoaderError=function(e,t){switch(a.a.e(this.TAG,"Loader error, code = "+t.code+", msg = "+t.msg),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=s.b.UNRECOVERABLE_EARLY_EOF),e){case s.b.EARLY_EOF:if(!this._config.isLive&&this._totalLength){var i=this._currentRange.to+1;return void(i<this._totalLength&&(a.a.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(i,!1)))}e=s.b.UNRECOVERABLE_EARLY_EOF;break;case s.b.UNRECOVERABLE_EARLY_EOF:case s.b.CONNECTING_TIMEOUT:case s.b.HTTP_STATUS_CODE_INVALID:case s.b.EXCEPTION:}if(!this._onError)throw new d.d("IOException: "+t.msg);this._onError(e,t)},e}();t.a=y},function(e,t,i){"use strict";var n=function(){function e(){}return e.install=function(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])}return t},"function"!=typeof self.Promise&&i(15).polyfill()},e}();n.install(),t.a=n},function(e,t,i){function n(e){var t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var n=i(i.s=ENTRY_MODULE);return n.default||n}function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function r(e,t,n){var r={};r[n]=[];var s=t.toString(),o=s.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!o)return r;for(var d,_=o[1],h=new RegExp("(\\\\n|\\W)"+a(_)+"\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");d=h.exec(s);)"dll-reference"!==d[3]&&r[n].push(d[3]);for(h=new RegExp("\\("+a(_)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");d=h.exec(s);)e[d[2]]||(r[n].push(d[1]),e[d[2]]=i(d[1]).m),r[d[2]]=r[d[2]]||[],r[d[2]].push(d[4]);for(var c,u=Object.keys(r),l=0;l<u.length;l++)for(var f=0;f<r[u[l]].length;f++)c=r[u[l]][f],isNaN(1*c)||(r[u[l]][f]=1*r[u[l]][f]);return r}function s(e){return Object.keys(e).reduce((function(t,i){return t||e[i].length>0}),!1)}e.exports=function(e,t){t=t||{};var a={main:i.m},o=t.all?{main:Object.keys(a.main)}:function(e,t){for(var i={main:[t]},n={main:[]},a={main:{}};s(i);)for(var o=Object.keys(i),d=0;d<o.length;d++){var _=o[d],h=i[_].pop();if(a[_]=a[_]||{},!a[_][h]&&e[_][h]){a[_][h]=!0,n[_]=n[_]||[],n[_].push(h);for(var c=r(e,e[_][h],_),u=Object.keys(c),l=0;l<u.length;l++)i[u[l]]=i[u[l]]||[],i[u[l]]=i[u[l]].concat(c[u[l]])}}return n}(a,e),d="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",d=d+"var "+e+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+a[e][t].toString()})).join(",")+"});\n"})),d=d+"new (("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+a.main[e].toString()})).join(",")+"}))(self);";var _=new window.Blob([d],{type:"text/javascript"});if(t.bare)return _;var h=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(_),c=new window.Worker(h);return c.objectURL=h,c}},function(e,t,i){e.exports=i(19).default},function(e,t,i){(function(t,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,r=void 0,s=void 0,o=function(e,t){f[a]=e,f[a+1]=t,2===(a+=2)&&(s?s(p):b())},d="undefined"!=typeof window?window:void 0,_=d||{},h=_.MutationObserver||_.WebKitMutationObserver,c="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function l(){var e=setTimeout;return function(){return e(p,1)}}var f=new Array(1e3);function p(){for(var e=0;e<a;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;a=0}var m,g,v,y,b=void 0;function S(e,t){var i=this,n=new this.constructor(R);void 0===n[A]&&P(n);var a=i._state;if(a){var r=arguments[a-1];o((function(){return I(a,n,r,i._result)}))}else C(i,n,e,t);return n}function E(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return L(t,e),t}c?b=function(){return t.nextTick(p)}:h?(g=0,v=new h(p),y=document.createTextNode(""),v.observe(y,{characterData:!0}),b=function(){y.data=g=++g%2}):u?((m=new MessageChannel).port1.onmessage=p,b=function(){return m.port2.postMessage(0)}):b=void 0===d?function(){try{var e=Function("return this")().require("vertx");return void 0!==(r=e.runOnLoop||e.runOnContext)?function(){r(p)}:l()}catch(e){return l()}}():l();var A=Math.random().toString(36).substring(2);function R(){}function T(t,i,n){i.constructor===t.constructor&&n===S&&i.constructor.resolve===E?function(e,t){1===t._state?k(e,t._result):2===t._state?D(e,t._result):C(t,void 0,(function(t){return L(e,t)}),(function(t){return D(e,t)}))}(t,i):void 0===n?k(t,i):e(n)?function(e,t,i){o((function(e){var n=!1,a=function(e,t,i,n){try{e.call(t,i,n)}catch(e){return e}}(i,t,(function(i){n||(n=!0,t!==i?L(e,i):k(e,i))}),(function(t){n||(n=!0,D(e,t))}),e._label);!n&&a&&(n=!0,D(e,a))}),e)}(t,i,n):k(t,i)}function L(e,t){if(e===t)D(e,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(n=t),null===n||"object"!==a&&"function"!==a)k(e,t);else{var i=void 0;try{i=t.then}catch(t){return void D(e,t)}T(e,t,i)}var n,a}function w(e){e._onerror&&e._onerror(e._result),B(e)}function k(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&o(B,e))}function D(e,t){void 0===e._state&&(e._state=2,e._result=t,o(w,e))}function C(e,t,i,n){var a=e._subscribers,r=a.length;e._onerror=null,a[r]=t,a[r+1]=i,a[r+2]=n,0===r&&e._state&&o(B,e)}function B(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var n=void 0,a=void 0,r=e._result,s=0;s<t.length;s+=3)n=t[s],a=t[s+i],n?I(i,n,a,r):a(r);e._subscribers.length=0}}function I(t,i,n,a){var r=e(n),s=void 0,o=void 0,d=!0;if(r){try{s=n(a)}catch(e){d=!1,o=e}if(i===s)return void D(i,new TypeError("A promises callback cannot return that same promise."))}else s=a;void 0!==i._state||(r&&d?L(i,s):!1===d?D(i,o):1===t?k(i,s):2===t&&D(i,s))}var O=0;function P(e){e[A]=O++,e._state=void 0,e._result=void 0,e._subscribers=[]}var M=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[A]||P(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&k(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,n=i.resolve;if(n===E){var a=void 0,r=void 0,s=!1;try{a=e.then}catch(e){s=!0,r=e}if(a===S&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(i===x){var o=new i(R);s?D(o,r):T(o,e,a),this._willSettleAt(o,t)}else this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?D(n,i):this._result[t]=i),0===this._remaining&&k(n,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;C(e,void 0,(function(e){return i._settledAt(1,t,e)}),(function(e){return i._settledAt(2,t,e)}))},e}(),x=function(){function t(e){this[A]=O++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){L(e,t)}),(function(t){D(e,t)}))}catch(t){D(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return x.prototype.then=S,x.all=function(e){return new M(this,e).promise},x.race=function(e){var t=this;return n(e)?new t((function(i,n){for(var a=e.length,r=0;r<a;r++)t.resolve(e[r]).then(i,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},x.resolve=E,x.reject=function(e){var t=new this(R);return D(t,e),t},x._setScheduler=function(e){s=e},x._setAsap=function(e){o=e},x._asap=o,x.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=x},x.Promise=x,x},e.exports=n()}).call(this,i(16),i(17))},function(e,t){var i,n,a=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var d,_=[],h=!1,c=-1;function u(){h&&d&&(h=!1,d.length?_=d.concat(_):c=-1,_.length&&l())}function l(){if(!h){var e=o(u);h=!0;for(var t=_.length;t;){for(d=_,_=[];++c<t;)d&&d[c].run();c=-1,t=_.length}d=null,h=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];_.push(new f(e,t)),1!==_.length||h||o(l)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=p,a.addListener=p,a.once=p,a.off=p,a.removeListener=p,a.removeAllListeners=p,a.emit=p,a.prependListener=p,a.prependOnceListener=p,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";i.r(t);var n=i(9),a=i(12),r=i(10),s=i(1);t.default=function(e){var t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);function o(t,i){var n={msg:s.a.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function d(t,i){var n={msg:s.a.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(n,[i.data])}function _(){var t={msg:s.a.LOADING_COMPLETE};e.postMessage(t)}function h(){var t={msg:s.a.RECOVERED_EARLY_EOF};e.postMessage(t)}function c(t){var i={msg:s.a.MEDIA_INFO,data:t};e.postMessage(i)}function u(t){var i={msg:s.a.METADATA_ARRIVED,data:t};e.postMessage(i)}function l(t){var i={msg:s.a.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}function f(t){var i={msg:s.a.TIMED_ID3_METADATA_ARRIVED,data:t};e.postMessage(i)}function p(t){var i={msg:s.a.SMPTE2038_METADATA_ARRIVED,data:t};e.postMessage(i)}function m(t){var i={msg:s.a.SCTE35_METADATA_ARRIVED,data:t};e.postMessage(i)}function g(t){var i={msg:s.a.PES_PRIVATE_DATA_DESCRIPTOR,data:t};e.postMessage(i)}function v(t){var i={msg:s.a.PES_PRIVATE_DATA_ARRIVED,data:t};e.postMessage(i)}function y(t){var i={msg:s.a.STATISTICS_INFO,data:t};e.postMessage(i)}function b(t,i){e.postMessage({msg:s.a.IO_ERROR,data:{type:t,info:i}})}function S(t,i){e.postMessage({msg:s.a.DEMUX_ERROR,data:{type:t,info:i}})}function E(t){e.postMessage({msg:s.a.RECOMMEND_SEEKPOINT,data:t})}a.a.install(),e.addEventListener("message",(function(a){switch(a.data.cmd){case"init":(t=new r.a(a.data.param[0],a.data.param[1])).on(s.a.IO_ERROR,b.bind(this)),t.on(s.a.DEMUX_ERROR,S.bind(this)),t.on(s.a.INIT_SEGMENT,o.bind(this)),t.on(s.a.MEDIA_SEGMENT,d.bind(this)),t.on(s.a.LOADING_COMPLETE,_.bind(this)),t.on(s.a.RECOVERED_EARLY_EOF,h.bind(this)),t.on(s.a.MEDIA_INFO,c.bind(this)),t.on(s.a.METADATA_ARRIVED,u.bind(this)),t.on(s.a.SCRIPTDATA_ARRIVED,l.bind(this)),t.on(s.a.TIMED_ID3_METADATA_ARRIVED,f.bind(this)),t.on(s.a.SMPTE2038_METADATA_ARRIVED,p.bind(this)),t.on(s.a.SCTE35_METADATA_ARRIVED,m.bind(this)),t.on(s.a.PES_PRIVATE_DATA_DESCRIPTOR,g.bind(this)),t.on(s.a.PES_PRIVATE_DATA_ARRIVED,v.bind(this)),t.on(s.a.STATISTICS_INFO,y.bind(this)),t.on(s.a.RECOMMEND_SEEKPOINT,E.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(a.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":var A=a.data.param;n.a.applyConfig(A),!0===A.enableCallback?n.a.addLogListener(i):n.a.removeLogListener(i)}}))}},function(e,t,i){"use strict";i.r(t);var n=i(12),a=i(11),r={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,liveBufferLatencyChasing:!1,liveBufferLatencyMaxLatency:1.5,liveBufferLatencyMinRemain:.5,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function s(){return Object.assign({},r)}var o=function(){function e(){}return e.supportMSEH264Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},e.supportMSEH265Playback=function(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"')},e.supportNetworkStreamIO=function(){var e=new a.a({},s()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t},e.getNetworkLoaderTypeName=function(){var e=new a.a({},s()),t=e.loaderType;return e.destroy(),t},e.supportNativeMediaPlayback=function(t){null==e.videoElement&&(e.videoElement=window.document.createElement("video"));var i=e.videoElement.canPlayType(t);return"probably"===i||"maybe"==i},e.getFeatureList=function(){var t={msePlayback:!1,mseLivePlayback:!1,mseH265Playback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeMP4H265Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return t.msePlayback=e.supportMSEH264Playback(),t.networkStreamIO=e.supportNetworkStreamIO(),t.networkLoaderName=e.getNetworkLoaderTypeName(),t.mseLivePlayback=t.msePlayback&&t.networkStreamIO,t.mseH265Playback=e.supportMSEH265Playback(),t.nativeMP4H264Playback=e.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),t.nativeMP4H265Playback=e.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"'),t.nativeWebmVP8Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),t.nativeWebmVP9Playback=e.supportNativeMediaPlayback('video/webm; codecs="vp9"'),t},e}(),d=i(2),_=i(6),h=i.n(_),c=i(0),u=i(4),l={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",TIMED_ID3_METADATA_ARRIVED:"timed_id3_metadata_arrived",SMPTE2038_METADATA_ARRIVED:"smpte2038_metadata_arrived",SCTE35_METADATA_ARRIVED:"scte35_metadata_arrived",PES_PRIVATE_DATA_DESCRIPTOR:"pes_private_data_descriptor",PES_PRIVATE_DATA_ARRIVED:"pes_private_data_arrived",STATISTICS_INFO:"statistics_info"},f=i(13),p=i.n(f),m=i(9),g=i(10),v=i(1),y=i(8),b=function(){function e(e,t){if(this.TAG="Transmuxer",this._emitter=new h.a,t.enableWorker&&"undefined"!=typeof Worker)try{this._worker=p()(18),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},m.a.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:m.a.getConfig()})}catch(i){c.a.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new g.a(e,t)}else this._controller=new g.a(e,t);if(this._controller){var i=this._controller;i.on(v.a.IO_ERROR,this._onIOError.bind(this)),i.on(v.a.DEMUX_ERROR,this._onDemuxError.bind(this)),i.on(v.a.INIT_SEGMENT,this._onInitSegment.bind(this)),i.on(v.a.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),i.on(v.a.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),i.on(v.a.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),i.on(v.a.MEDIA_INFO,this._onMediaInfo.bind(this)),i.on(v.a.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),i.on(v.a.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),i.on(v.a.TIMED_ID3_METADATA_ARRIVED,this._onTimedID3MetadataArrived.bind(this)),i.on(v.a.SMPTE2038_METADATA_ARRIVED,this._onSMPTE2038MetadataArrived.bind(this)),i.on(v.a.SCTE35_METADATA_ARRIVED,this._onSCTE35MetadataArrived.bind(this)),i.on(v.a.PES_PRIVATE_DATA_DESCRIPTOR,this._onPESPrivateDataDescriptor.bind(this)),i.on(v.a.PES_PRIVATE_DATA_ARRIVED,this._onPESPrivateDataArrived.bind(this)),i.on(v.a.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),i.on(v.a.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}return e.prototype.destroy=function(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),m.a.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.hasWorker=function(){return null!=this._worker},e.prototype.open=function(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()},e.prototype.close=function(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()},e.prototype.seek=function(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)},e.prototype.pause=function(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()},e.prototype.resume=function(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()},e.prototype._onInitSegment=function(e,t){var i=this;Promise.resolve().then((function(){i._emitter.emit(v.a.INIT_SEGMENT,e,t)}))},e.prototype._onMediaSegment=function(e,t){var i=this;Promise.resolve().then((function(){i._emitter.emit(v.a.MEDIA_SEGMENT,e,t)}))},e.prototype._onLoadingComplete=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(v.a.LOADING_COMPLETE)}))},e.prototype._onRecoveredEarlyEof=function(){var e=this;Promise.resolve().then((function(){e._emitter.emit(v.a.RECOVERED_EARLY_EOF)}))},e.prototype._onMediaInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.MEDIA_INFO,e)}))},e.prototype._onMetaDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.METADATA_ARRIVED,e)}))},e.prototype._onScriptDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.SCRIPTDATA_ARRIVED,e)}))},e.prototype._onTimedID3MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.TIMED_ID3_METADATA_ARRIVED,e)}))},e.prototype._onSMPTE2038MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.SMPTE2038_METADATA_ARRIVED,e)}))},e.prototype._onSCTE35MetadataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.SCTE35_METADATA_ARRIVED,e)}))},e.prototype._onPESPrivateDataDescriptor=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.PES_PRIVATE_DATA_DESCRIPTOR,e)}))},e.prototype._onPESPrivateDataArrived=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.PES_PRIVATE_DATA_ARRIVED,e)}))},e.prototype._onStatisticsInfo=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.STATISTICS_INFO,e)}))},e.prototype._onIOError=function(e,t){var i=this;Promise.resolve().then((function(){i._emitter.emit(v.a.IO_ERROR,e,t)}))},e.prototype._onDemuxError=function(e,t){var i=this;Promise.resolve().then((function(){i._emitter.emit(v.a.DEMUX_ERROR,e,t)}))},e.prototype._onRecommendSeekpoint=function(e){var t=this;Promise.resolve().then((function(){t._emitter.emit(v.a.RECOMMEND_SEEKPOINT,e)}))},e.prototype._onLoggingConfigChanged=function(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})},e.prototype._onWorkerMessage=function(e){var t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case v.a.INIT_SEGMENT:case v.a.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case v.a.LOADING_COMPLETE:case v.a.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case v.a.MEDIA_INFO:Object.setPrototypeOf(i,y.a.prototype),this._emitter.emit(t.msg,i);break;case v.a.METADATA_ARRIVED:case v.a.SCRIPTDATA_ARRIVED:case v.a.TIMED_ID3_METADATA_ARRIVED:case v.a.SMPTE2038_METADATA_ARRIVED:case v.a.SCTE35_METADATA_ARRIVED:case v.a.PES_PRIVATE_DATA_DESCRIPTOR:case v.a.PES_PRIVATE_DATA_ARRIVED:case v.a.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case v.a.IO_ERROR:case v.a.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case v.a.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":c.a.emitter.emit("log",i.type,i.logcat)}},e}(),S={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"},E=i(7),A=i(3),R=function(){function e(e){this.TAG="MSEController",this._config=e,this._emitter=new h.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new E.a}return e.prototype.destroy=function(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaSource)throw new A.a("MediaSource has been attached to an HTMLMediaElement!");var t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL},e.prototype.detachMediaElement=function(){if(this._mediaSource){var e=this._mediaSource;for(var t in this._sourceBuffers){var i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;var n=this._sourceBuffers[t];if(n){if("closed"!==e.readyState){try{e.removeSourceBuffer(n)}catch(e){c.a.e(this.TAG,e.message)}n.removeEventListener("error",this.e.onSourceBufferError),n.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){c.a.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)},e.prototype.appendInitSegment=function(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);var i=e,n=""+i.container;i.codec&&i.codec.length>0&&(n+=";codecs="+i.codec);var a=!1;if(c.a.v(this.TAG,"Received Initialization Segment, mimeType: "+n),this._lastInitSegments[i.type]=i,n!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])c.a.v(this.TAG,"Notice: "+i.type+" mimeType changed, origin: "+this._mimeTypes[i.type]+", target: "+n);else{a=!0;try{var r=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(n);r.addEventListener("error",this.e.onSourceBufferError),r.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return c.a.e(this.TAG,e.message),void this._emitter.emit(S.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=n}t||this._pendingSegments[i.type].push(i),a||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),u.a.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())},e.prototype.appendMediaSegment=function(e){var t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();var i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()},e.prototype.seek=function(e){for(var t in this._sourceBuffers)if(this._sourceBuffers[t]){var i=this._sourceBuffers[t];if("open"===this._mediaSource.readyState)try{i.abort()}catch(e){c.a.e(this.TAG,e.message)}this._idrList.clear();var n=this._pendingSegments[t];if(n.splice(0,n.length),"closed"!==this._mediaSource.readyState){for(var a=0;a<i.buffered.length;a++){var r=i.buffered.start(a),s=i.buffered.end(a);this._pendingRemoveRanges[t].push({start:r,end:s})}if(i.updating||this._doRemoveRanges(),u.a.safari){var o=this._lastInitSegments[t];o&&(this._pendingSegments[t].push(o),i.updating||this._doAppendSegments())}}}},e.prototype.endOfStream=function(){var e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)},e.prototype.getNearestKeyframe=function(e){return this._idrList.getLastSyncPointBeforeDts(e)},e.prototype._needCleanupSourceBuffer=function(){if(!this._config.autoCleanupSourceBuffer)return!1;var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){var n=i.buffered;if(n.length>=1&&e-n.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1},e.prototype._doCleanupSourceBuffer=function(){var e=this._mediaElement.currentTime;for(var t in this._sourceBuffers){var i=this._sourceBuffers[t];if(i){for(var n=i.buffered,a=!1,r=0;r<n.length;r++){var s=n.start(r),o=n.end(r);if(s<=e&&e<o+3){if(e-s>=this._config.autoCleanupMaxBackwardDuration){a=!0;var d=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:s,end:d})}}else o<e&&(a=!0,this._pendingRemoveRanges[t].push({start:s,end:o}))}a&&!i.updating&&this._doRemoveRanges()}}},e.prototype._updateMediaSourceDuration=function(){var e=this._sourceBuffers;if(0!==this._mediaElement.readyState&&"open"===this._mediaSource.readyState&&!(e.video&&e.video.updating||e.audio&&e.audio.updating)){var t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(c.a.v(this.TAG,"Update MediaSource duration from "+t+" to "+i),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}},e.prototype._doRemoveRanges=function(){for(var e in this._pendingRemoveRanges)if(this._sourceBuffers[e]&&!this._sourceBuffers[e].updating)for(var t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];i.length&&!t.updating;){var n=i.shift();t.remove(n.start,n.end)}},e.prototype._doAppendSegments=function(){var e=this._pendingSegments;for(var t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){var i=e[t].shift();if(i.timestampOffset){var n=this._sourceBuffers[t].timestampOffset,a=i.timestampOffset/1e3;Math.abs(n-a)>.1&&(c.a.v(this.TAG,"Update MPEG audio timestampOffset from "+n+" to "+a),this._sourceBuffers[t].timestampOffset=a),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(S.BUFFER_FULL),this._isBufferFull=!0):(c.a.e(this.TAG,e.message),this._emitter.emit(S.ERROR,{code:e.code,msg:e.message}))}}},e.prototype._onSourceOpen=function(){if(c.a.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0)for(var e=this._pendingSourceBufferInit;e.length;){var t=e.shift();this.appendInitSegment(t,!0)}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(S.SOURCE_OPEN)},e.prototype._onSourceEnded=function(){c.a.v(this.TAG,"MediaSource onSourceEnded")},e.prototype._onSourceClose=function(){c.a.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))},e.prototype._hasPendingSegments=function(){var e=this._pendingSegments;return e.video.length>0||e.audio.length>0},e.prototype._hasPendingRemoveRanges=function(){var e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0},e.prototype._onSourceBufferUpdateEnd=function(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(S.UPDATE_END)},e.prototype._onSourceBufferError=function(e){c.a.e(this.TAG,"SourceBuffer Error: "+e)},e}(),T=i(5),L={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},w={NETWORK_EXCEPTION:d.b.EXCEPTION,NETWORK_STATUS_CODE_INVALID:d.b.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:d.b.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:d.b.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:T.a.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:T.a.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:T.a.CODEC_UNSUPPORTED},k=function(){function e(e,t){this.TAG="MSEPlayer",this._type="MSEPlayer",this._emitter=new h.a,this._config=s(),"object"==typeof t&&Object.assign(this._config,t);var i=e.type.toLowerCase();if("mse"!==i&&"mpegts"!==i&&"m2ts"!==i&&"flv"!==i)throw new A.b("MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;var n=u.a.chrome&&(u.a.version.major<50||50===u.a.version.major&&u.a.version.build<2661);this._alwaysSeekKeyframe=!!(n||u.a.msedge||u.a.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}return e.prototype.destroy=function(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===l.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then((function(){i._emitter.emit(l.MEDIA_INFO,i.mediaInfo)})):e===l.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then((function(){i._emitter.emit(l.STATISTICS_INFO,i.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){var t=this;if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new R(this._config),this._msectl.on(S.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(S.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(S.SOURCE_OPEN,(function(){t._mseSourceOpened=!0,t._hasPendingLoad&&(t._hasPendingLoad=!1,t.load())})),this._msectl.on(S.ERROR,(function(e){t._emitter.emit(l.ERROR,L.MEDIA_ERROR,w.MEDIA_MSE_ERROR,e)})),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)},e.prototype.load=function(){var e=this;if(!this._mediaElement)throw new A.a("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new A.a("MSEPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new b(this._mediaDataSource,this._config),this._transmuxer.on(v.a.INIT_SEGMENT,(function(t,i){e._msectl.appendInitSegment(i)})),this._transmuxer.on(v.a.MEDIA_SEGMENT,(function(t,i){if(e._msectl.appendMediaSegment(i),e._config.lazyLoad&&!e._config.isLive){var n=e._mediaElement.currentTime;i.info.endDts>=1e3*(n+e._config.lazyLoadMaxDuration)&&null==e._progressChecker&&(c.a.v(e.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),e._suspendTransmuxer())}})),this._transmuxer.on(v.a.LOADING_COMPLETE,(function(){e._msectl.endOfStream(),e._emitter.emit(l.LOADING_COMPLETE)})),this._transmuxer.on(v.a.RECOVERED_EARLY_EOF,(function(){e._emitter.emit(l.RECOVERED_EARLY_EOF)})),this._transmuxer.on(v.a.IO_ERROR,(function(t,i){e._emitter.emit(l.ERROR,L.NETWORK_ERROR,t,i)})),this._transmuxer.on(v.a.DEMUX_ERROR,(function(t,i){e._emitter.emit(l.ERROR,L.MEDIA_ERROR,t,{code:-1,msg:i})})),this._transmuxer.on(v.a.MEDIA_INFO,(function(t){e._mediaInfo=t,e._emitter.emit(l.MEDIA_INFO,Object.assign({},t))})),this._transmuxer.on(v.a.METADATA_ARRIVED,(function(t){e._emitter.emit(l.METADATA_ARRIVED,t)})),this._transmuxer.on(v.a.SCRIPTDATA_ARRIVED,(function(t){e._emitter.emit(l.SCRIPTDATA_ARRIVED,t)})),this._transmuxer.on(v.a.TIMED_ID3_METADATA_ARRIVED,(function(t){e._emitter.emit(l.TIMED_ID3_METADATA_ARRIVED,t)})),this._transmuxer.on(v.a.SMPTE2038_METADATA_ARRIVED,(function(t){e._emitter.emit(l.SMPTE2038_METADATA_ARRIVED,t)})),this._transmuxer.on(v.a.SCTE35_METADATA_ARRIVED,(function(t){e._emitter.emit(l.SCTE35_METADATA_ARRIVED,t)})),this._transmuxer.on(v.a.PES_PRIVATE_DATA_DESCRIPTOR,(function(t){e._emitter.emit(l.PES_PRIVATE_DATA_DESCRIPTOR,t)})),this._transmuxer.on(v.a.PES_PRIVATE_DATA_ARRIVED,(function(t){e._emitter.emit(l.PES_PRIVATE_DATA_ARRIVED,t)})),this._transmuxer.on(v.a.STATISTICS_INFO,(function(t){e._statisticsInfo=e._fillStatisticsInfo(t),e._emitter.emit(l.STATISTICS_INFO,Object.assign({},e._statisticsInfo))})),this._transmuxer.on(v.a.RECOMMEND_SEEKPOINT,(function(t){e._mediaElement&&!e._config.accurateSeek&&(e._requestSetTime=!0,e._mediaElement.currentTime=t/1e3)})),this._transmuxer.open()))},e.prototype.unload=function(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){return Object.assign({},this._mediaInfo)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)},enumerable:!1,configurable:!0}),e.prototype._fillStatisticsInfo=function(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var a=this._mediaElement.getVideoPlaybackQuality();i=a.totalVideoFrames,n=a.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},e.prototype._onmseUpdateEnd=function(){var e=this._mediaElement.buffered,t=this._mediaElement.currentTime;if(this._config.isLive&&this._config.liveBufferLatencyChasing&&e.length>0&&!this._mediaElement.paused){var i=e.end(e.length-1);if(i>this._config.liveBufferLatencyMaxLatency&&i-t>this._config.liveBufferLatencyMaxLatency){var n=i-this._config.liveBufferLatencyMinRemain;this.currentTime=n}}if(this._config.lazyLoad&&!this._config.isLive){for(var a=0,r=0;r<e.length;r++){var s=e.start(r),o=e.end(r);if(s<=t&&t<o){s,a=o;break}}a>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(c.a.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}},e.prototype._onmseBufferFull=function(){c.a.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()},e.prototype._suspendTransmuxer=function(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))},e.prototype._checkProgressAndResume=function(){for(var e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1,n=0;n<t.length;n++){var a=t.start(n),r=t.end(n);if(e>=a&&e<r){e>=r-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(c.a.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))},e.prototype._isTimepointBuffered=function(e){for(var t=this._mediaElement.buffered,i=0;i<t.length;i++){var n=t.start(i),a=t.end(i);if(e>=n&&e<a)return!0}return!1},e.prototype._internalSeek=function(e){var t=this._isTimepointBuffered(e),i=!1,n=0;if(e<1&&this._mediaElement.buffered.length>0){var a=this._mediaElement.buffered.start(0);(a<1&&e<a||u.a.safari)&&(i=!0,n=u.a.safari?.1:a)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=n;else if(t){if(this._alwaysSeekKeyframe){var r=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=r?r.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)},e.prototype._checkAndApplyUnbufferedSeekpoint=function(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){var e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)},e.prototype._checkAndResumeStuckPlayback=function(e){var t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){var i=t.buffered;i.length>0&&t.currentTime<i.start(0)&&(c.a.w(this.TAG,"Playback seems stuck at "+t.currentTime+", seek to "+i.start(0)),this._requestSetTime=!0,this._mediaElement.currentTime=i.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)},e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)},e.prototype._onvSeeking=function(e){var t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){var n=i.start(0);if(n<1&&t<n||u.a.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=u.a.safari?.1:n)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){var a=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=a&&(this._requestSetTime=!0,this._mediaElement.currentTime=a.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}},e.prototype._onvCanPlay=function(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)},e.prototype._onvStalled=function(e){this._checkAndResumeStuckPlayback(!0)},e.prototype._onvProgress=function(e){this._checkAndResumeStuckPlayback()},e}(),D=function(){function e(e,t){this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new h.a,this._config=s(),"object"==typeof t&&Object.assign(this._config,t);var i=e.type.toLowerCase();if("mse"===i||"mpegts"===i||"m2ts"===i||"flv"===i)throw new A.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new A.b("NativePlayer("+e.type+") doesn't support multipart playback!");this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}return e.prototype.destroy=function(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null},e.prototype.on=function(e,t){var i=this;e===l.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){i._emitter.emit(l.MEDIA_INFO,i.mediaInfo)})):e===l.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then((function(){i._emitter.emit(l.STATISTICS_INFO,i.statisticsInfo)})),this._emitter.addListener(e,t)},e.prototype.off=function(e,t){this._emitter.removeListener(e,t)},e.prototype.attachMediaElement=function(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}},e.prototype.detachMediaElement=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.load=function(){if(!this._mediaElement)throw new A.a("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)},e.prototype.unload=function(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)},e.prototype.play=function(){return this._mediaElement.play()},e.prototype.pause=function(){this._mediaElement.pause()},Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buffered",{get:function(){return this._mediaElement.buffered},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._mediaElement.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._mediaElement.volume},set:function(e){this._mediaElement.volume=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._mediaElement.muted},set:function(e){this._mediaElement.muted=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._mediaElement?this._mediaElement.currentTime:0},set:function(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mediaInfo",{get:function(){var e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statisticsInfo",{get:function(){var e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;var t=!0,i=0,n=0;if(this._mediaElement.getVideoPlaybackQuality){var a=this._mediaElement.getVideoPlaybackQuality();i=a.totalVideoFrames,n=a.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,n=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=n),e},enumerable:!1,configurable:!0}),e.prototype._onvLoadedMetadata=function(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(l.MEDIA_INFO,this.mediaInfo)},e.prototype._reportStatisticsInfo=function(){this._emitter.emit(l.STATISTICS_INFO,this.statisticsInfo)},e}();n.a.install();var C={createPlayer:function(e,t){var i=e;if(null==i||"object"!=typeof i)throw new A.b("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new A.b("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"mse":case"mpegts":case"m2ts":case"flv":return new k(i,t);default:return new D(i,t)}},isSupported:function(){return o.supportMSEH264Playback()},getFeatureList:function(){return o.getFeatureList()}};C.BaseLoader=d.a,C.LoaderStatus=d.c,C.LoaderErrors=d.b,C.Events=l,C.ErrorTypes=L,C.ErrorDetails=w,C.MSEPlayer=k,C.NativePlayer=D,C.LoggingControl=m.a,Object.defineProperty(C,"version",{enumerable:!0,get:function(){return"1.7.3"}});t.default=C}])}));
//# sourceMappingURL=mpegts.js.map

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21wZWd0cy5qcy9kaXN0L21wZWd0cy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxlQUFlLEtBQWlELG9CQUFvQixTQUEyRyxDQUFDLG9CQUFvQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELGtCQUFrQixrQkFBa0IsYUFBYSxpQ0FBaUMsY0FBYyx5QkFBeUIseUNBQXlDLHFCQUFxQixnSkFBZ0osbUJBQW1CLHlDQUF5QyxxQkFBcUIsK0dBQStHLG1CQUFtQix5Q0FBeUMscUJBQXFCLCtHQUErRyxtQkFBbUIseUNBQXlDLHFCQUFxQixtSEFBbUgsbUJBQW1CLHlDQUF5QyxxQkFBcUIsc0ZBQXNGLEdBQUcsR0FBRyxzTEFBc0wsaUJBQWlCLGFBQWEsS0FBSyx1bkJBQXVuQixpQkFBaUIsYUFBYSxzQkFBc0IsU0FBUyx5QkFBeUIsU0FBUyx5QkFBeUIsU0FBUyxHQUFHLGNBQWMsd0RBQXdELElBQUksMkxBQTJMLGNBQWMsY0FBYyw2TEFBNkwsc0NBQXNDLGdKQUFnSixrQ0FBa0MsaUVBQWlFLDJDQUEyQyxlQUFlLGtCQUFrQiwrQkFBK0IsOENBQThDLGVBQWUsb0JBQW9CLCtCQUErQix1REFBdUQsZUFBZSx1QkFBdUIsK0JBQStCLDREQUE0RCxlQUFlLGtDQUFrQyxpQkFBaUIsNkJBQTZCLCtCQUErQixxREFBcUQsZUFBZSwyQkFBMkIsaUJBQWlCLHNCQUFzQiwrQkFBK0IscURBQXFELGVBQWUsMkJBQTJCLGlCQUFpQixzQkFB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Qiw0QkFBNEIsK0JBQStCLDZDQUE2QyxlQUFlLGdDQUFnQyxpQkFBaUIsMkJBQTJCLCtCQUErQixtREFBbUQsZUFBZSwyREFBMkQsaUJBQWlCLDRFQUE0RSwrQkFBK0IsaURBQWlELGVBQWUsT0FBTyx3R0FBd0csc05BQXNOLCtCQUErQixzREFBc0QsZUFBZSxPQUFPLHFEQUFxRCw4REFBOEQsaUJBQWlCLCtDQUErQyxtREFBbUQsNENBQTRDLHVKQUF1SixrREFBa0QsK0JBQStCLDZDQUE2QywrSkFBK0osOENBQThDLDBEQUEwRCxHQUFHLEdBQUcsY0FBYyxPQUFPLDJCQUEyQixRQUFRLDhGQUE4RiwrR0FBK0csZUFBZSw4REFBOEQsMkJBQTJCLHdCQUF3QixrQ0FBa0MsMkJBQTJCLDRCQUE0Qix5TEFBeUwsNkJBQTZCLGVBQWUsRUFBRSxZQUFZLEdBQUc7QUFDanY4QyxrQyIsImZpbGUiOiJzdGF0aWMvY2h1bmtzLzgzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0cy5tcGVndHM9dCgpOmUubXBlZ3RzPXQoKX0od2luZG93LChmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD17fTtmdW5jdGlvbiBpKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgYT10W25dPXtpOm4sbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gZVtuXS5jYWxsKGEuZXhwb3J0cyxhLGEuZXhwb3J0cyxpKSxhLmw9ITAsYS5leHBvcnRzfXJldHVybiBpLm09ZSxpLmM9dCxpLmQ9ZnVuY3Rpb24oZSx0LG4pe2kubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOiEwLGdldDpufSl9LGkucj1mdW5jdGlvbihlKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWcmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6XCJNb2R1bGVcIn0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxpLnQ9ZnVuY3Rpb24oZSx0KXtpZigxJnQmJihlPWkoZSkpLDgmdClyZXR1cm4gZTtpZig0JnQmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtpZihpLnIobiksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsdmFsdWU6ZX0pLDImdCYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpZm9yKHZhciBhIGluIGUpaS5kKG4sYSxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0uYmluZChudWxsLGEpKTtyZXR1cm4gbn0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCxcImFcIix0KSx0fSxpLm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9LGkucD1cIlwiLGkoaS5zPTE0KX0oW2Z1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDYpLGE9aS5uKG4pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmU9ZnVuY3Rpb24odCxpKXt0JiYhZS5GT1JDRV9HTE9CQUxfVEFHfHwodD1lLkdMT0JBTF9UQUcpO3ZhciBuPVwiW1wiK3QrXCJdID4gXCIraTtlLkVOQUJMRV9DQUxMQkFDSyYmZS5lbWl0dGVyLmVtaXQoXCJsb2dcIixcImVycm9yXCIsbiksZS5FTkFCTEVfRVJST1ImJihjb25zb2xlLmVycm9yP2NvbnNvbGUuZXJyb3Iobik6Y29uc29sZS53YXJuP2NvbnNvbGUud2FybihuKTpjb25zb2xlLmxvZyhuKSl9LGUuaT1mdW5jdGlvbih0LGkpe3QmJiFlLkZPUkNFX0dMT0JBTF9UQUd8fCh0PWUuR0xPQkFMX1RBRyk7dmFyIG49XCJbXCIrdCtcIl0gPiBcIitpO2UuRU5BQkxFX0NBTExCQUNLJiZlLmVtaXR0ZXIuZW1pdChcImxvZ1wiLFwiaW5mb1wiLG4pLGUuRU5BQkxFX0lORk8mJihjb25zb2xlLmluZm8/Y29uc29sZS5pbmZvKG4pOmNvbnNvbGUubG9nKG4pKX0sZS53PWZ1bmN0aW9uKHQsaSl7dCYmIWUuRk9SQ0VfR0xPQkFMX1RBR3x8KHQ9ZS5HTE9CQUxfVEFHKTt2YXIgbj1cIltcIit0K1wiXSA+IFwiK2k7ZS5FTkFCTEVfQ0FMTEJBQ0smJmUuZW1pdHRlci5lbWl0KFwibG9nXCIsXCJ3YXJuXCIsbiksZS5FTkFCTEVfV0FSTiYmKGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4obik6Y29uc29sZS5sb2cobikpfSxlLmQ9ZnVuY3Rpb24odCxpKXt0JiYhZS5GT1JDRV9HTE9CQUxfVEFHfHwodD1lLkdMT0JBTF9UQUcpO3ZhciBuPVwiW1wiK3QrXCJdID4gXCIraTtlLkVOQUJMRV9DQUxMQkFDSyYmZS5lbWl0dGVyLmVtaXQoXCJsb2dcIixcImRlYnVnXCIsbiksZS5FTkFCTEVfREVCVUcmJihjb25zb2xlLmRlYnVnP2NvbnNvbGUuZGVidWcobik6Y29uc29sZS5sb2cobikpfSxlLnY9ZnVuY3Rpb24odCxpKXt0JiYhZS5GT1JDRV9HTE9CQUxfVEFHfHwodD1lLkdMT0JBTF9UQUcpO3ZhciBuPVwiW1wiK3QrXCJdID4gXCIraTtlLkVOQUJMRV9DQUxMQkFDSyYmZS5lbWl0dGVyLmVtaXQoXCJsb2dcIixcInZlcmJvc2VcIixuKSxlLkVOQUJMRV9WRVJCT1NFJiZjb25zb2xlLmxvZyhuKX0sZX0oKTtyLkdMT0JBTF9UQUc9XCJtcGVndHMuanNcIixyLkZPUkNFX0dMT0JBTF9UQUc9ITEsci5FTkFCTEVfRVJST1I9ITAsci5FTkFCTEVfSU5GTz0hMCxyLkVOQUJMRV9XQVJOPSEwLHIuRU5BQkxFX0RFQlVHPSEwLHIuRU5BQkxFX1ZFUkJPU0U9ITAsci5FTkFCTEVfQ0FMTEJBQ0s9ITEsci5lbWl0dGVyPW5ldyBhLmEsdC5hPXJ9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt0LmE9e0lPX0VSUk9SOlwiaW9fZXJyb3JcIixERU1VWF9FUlJPUjpcImRlbXV4X2Vycm9yXCIsSU5JVF9TRUdNRU5UOlwiaW5pdF9zZWdtZW50XCIsTUVESUFfU0VHTUVOVDpcIm1lZGlhX3NlZ21lbnRcIixMT0FESU5HX0NPTVBMRVRFOlwibG9hZGluZ19jb21wbGV0ZVwiLFJFQ09WRVJFRF9FQVJMWV9FT0Y6XCJyZWNvdmVyZWRfZWFybHlfZW9mXCIsTUVESUFfSU5GTzpcIm1lZGlhX2luZm9cIixNRVRBREFUQV9BUlJJVkVEOlwibWV0YWRhdGFfYXJyaXZlZFwiLFNDUklQVERBVEFfQVJSSVZFRDpcInNjcmlwdGRhdGFfYXJyaXZlZFwiLFRJTUVEX0lEM19NRVRBREFUQV9BUlJJVkVEOlwidGltZWRfaWQzX21ldGFkYXRhX2Fycml2ZWRcIixTTVBURTIwMzhfTUVUQURBVEFfQVJSSVZFRDpcInNtcHRlMjAzOF9tZXRhZGF0YV9hcnJpdmVkXCIsU0NURTM1X01FVEFEQVRBX0FSUklWRUQ6XCJzY3RlMzVfbWV0YWRhdGFfYXJyaXZlZFwiLFBFU19QUklWQVRFX0RBVEFfREVTQ1JJUFRPUjpcInBlc19wcml2YXRlX2RhdGFfZGVzY3JpcHRvclwiLFBFU19QUklWQVRFX0RBVEFfQVJSSVZFRDpcInBlc19wcml2YXRlX2RhdGFfYXJyaXZlZFwiLFNUQVRJU1RJQ1NfSU5GTzpcInN0YXRpc3RpY3NfaW5mb1wiLFJFQ09NTUVORF9TRUVLUE9JTlQ6XCJyZWNvbW1lbmRfc2Vla3BvaW50XCJ9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5kKHQsXCJjXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksaS5kKHQsXCJiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KSksaS5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSk7dmFyIG49aSgzKSxhPXtrSWRsZTowLGtDb25uZWN0aW5nOjEsa0J1ZmZlcmluZzoyLGtFcnJvcjozLGtDb21wbGV0ZTo0fSxyPXtPSzpcIk9LXCIsRVhDRVBUSU9OOlwiRXhjZXB0aW9uXCIsSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElEOlwiSHR0cFN0YXR1c0NvZGVJbnZhbGlkXCIsQ09OTkVDVElOR19USU1FT1VUOlwiQ29ubmVjdGluZ1RpbWVvdXRcIixFQVJMWV9FT0Y6XCJFYXJseUVvZlwiLFVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GOlwiVW5yZWNvdmVyYWJsZUVhcmx5RW9mXCJ9LHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX3R5cGU9ZXx8XCJ1bmRlZmluZWRcIix0aGlzLl9zdGF0dXM9YS5rSWRsZSx0aGlzLl9uZWVkU3Rhc2g9ITEsdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd249bnVsbCx0aGlzLl9vblVSTFJlZGlyZWN0PW51bGwsdGhpcy5fb25EYXRhQXJyaXZhbD1udWxsLHRoaXMuX29uRXJyb3I9bnVsbCx0aGlzLl9vbkNvbXBsZXRlPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0dXM9YS5rSWRsZSx0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bj1udWxsLHRoaXMuX29uVVJMUmVkaXJlY3Q9bnVsbCx0aGlzLl9vbkRhdGFBcnJpdmFsPW51bGwsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuX29uQ29tcGxldGU9bnVsbH0sZS5wcm90b3R5cGUuaXNXb3JraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1cz09PWEua0Nvbm5lY3Rpbmd8fHRoaXMuX3N0YXR1cz09PWEua0J1ZmZlcmluZ30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidHlwZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGF0dXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0YXR1c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJuZWVkU3Rhc2hCdWZmZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWRTdGFzaH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkNvbnRlbnRMZW5ndGhLbm93blwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uVVJMUmVkaXJlY3RcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uVVJMUmVkaXJlY3R9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vblVSTFJlZGlyZWN0PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25EYXRhQXJyaXZhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EYXRhQXJyaXZhbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uRGF0YUFycml2YWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkVycm9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkVycm9yfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25FcnJvcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ29tcGxldGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ29tcGxldGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbkNvbXBsZXRlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQpe3Rocm93IG5ldyBuLmMoXCJVbmltcGxlbWVudGVkIGFic3RyYWN0IGZ1bmN0aW9uIVwiKX0sZS5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgbi5jKFwiVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBmdW5jdGlvbiFcIil9LGV9KCl9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtpLmQodCxcImRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxpLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxpLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKSxpLmQodCxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKTt2YXIgbixhPShuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuKG49T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSl9KShlLHQpfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIGkoKXt0aGlzLmNvbnN0cnVjdG9yPWV9bihlLHQpLGUucHJvdG90eXBlPW51bGw9PT10P09iamVjdC5jcmVhdGUodCk6KGkucHJvdG90eXBlPXQucHJvdG90eXBlLG5ldyBpKX0pLHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuX21lc3NhZ2U9ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIlJ1bnRpbWVFeGNlcHRpb25cIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtZXNzYWdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZStcIjogXCIrdGhpcy5tZXNzYWdlfSxlfSgpLHM9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0KXtyZXR1cm4gZS5jYWxsKHRoaXMsdCl8fHRoaXN9cmV0dXJuIGEodCxlKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJuYW1lXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiSWxsZWdhbFN0YXRlRXhjZXB0aW9uXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0ociksbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBlLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gYSh0LGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcIm5hbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCJJbnZhbGlkQXJndW1lbnRFeGNlcHRpb25cIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSx0fShyKSxkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuY2FsbCh0aGlzLHQpfHx0aGlzfXJldHVybiBhKHQsZSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwibmFtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cIk5vdEltcGxlbWVudGVkRXhjZXB0aW9uXCJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdH0ocil9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17fTshZnVuY3Rpb24oKXt2YXIgZT1zZWxmLm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSx0PS8oZWRnZSlcXC8oW1xcdy5dKykvLmV4ZWMoZSl8fC8ob3ByKVtcXC9dKFtcXHcuXSspLy5leGVjKGUpfHwvKGNocm9tZSlbIFxcL10oW1xcdy5dKykvLmV4ZWMoZSl8fC8oaWVtb2JpbGUpW1xcL10oW1xcdy5dKykvLmV4ZWMoZSl8fC8odmVyc2lvbikoYXBwbGV3ZWJraXQpWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyhlKXx8Lyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLioodmVyc2lvbilbIFxcL10oW1xcdy5dKykuKihzYWZhcmkpWyBcXC9dKFtcXHcuXSspLy5leGVjKGUpfHwvKHdlYmtpdClbIFxcL10oW1xcdy5dKykvLmV4ZWMoZSl8fC8ob3BlcmEpKD86Lip2ZXJzaW9ufClbIFxcL10oW1xcdy5dKykvLmV4ZWMoZSl8fC8obXNpZSkgKFtcXHcuXSspLy5leGVjKGUpfHxlLmluZGV4T2YoXCJ0cmlkZW50XCIpPj0wJiYvKHJ2KSg/Ojp8ICkoW1xcdy5dKykvLmV4ZWMoZSl8fGUuaW5kZXhPZihcImNvbXBhdGlibGVcIik8MCYmLyhmaXJlZm94KVsgXFwvXShbXFx3Ll0rKS8uZXhlYyhlKXx8W10saT0vKGlwYWQpLy5leGVjKGUpfHwvKGlwb2QpLy5leGVjKGUpfHwvKHdpbmRvd3MgcGhvbmUpLy5leGVjKGUpfHwvKGlwaG9uZSkvLmV4ZWMoZSl8fC8oa2luZGxlKS8uZXhlYyhlKXx8LyhhbmRyb2lkKS8uZXhlYyhlKXx8Lyh3aW5kb3dzKS8uZXhlYyhlKXx8LyhtYWMpLy5leGVjKGUpfHwvKGxpbnV4KS8uZXhlYyhlKXx8Lyhjcm9zKS8uZXhlYyhlKXx8W10sYT17YnJvd3Nlcjp0WzVdfHx0WzNdfHx0WzFdfHxcIlwiLHZlcnNpb246dFsyXXx8dFs0XXx8XCIwXCIsbWFqb3JWZXJzaW9uOnRbNF18fHRbMl18fFwiMFwiLHBsYXRmb3JtOmlbMF18fFwiXCJ9LHI9e307aWYoYS5icm93c2VyKXtyW2EuYnJvd3Nlcl09ITA7dmFyIHM9YS5tYWpvclZlcnNpb24uc3BsaXQoXCIuXCIpO3IudmVyc2lvbj17bWFqb3I6cGFyc2VJbnQoYS5tYWpvclZlcnNpb24sMTApLHN0cmluZzphLnZlcnNpb259LHMubGVuZ3RoPjEmJihyLnZlcnNpb24ubWlub3I9cGFyc2VJbnQoc1sxXSwxMCkpLHMubGVuZ3RoPjImJihyLnZlcnNpb24uYnVpbGQ9cGFyc2VJbnQoc1syXSwxMCkpfWlmKGEucGxhdGZvcm0mJihyW2EucGxhdGZvcm1dPSEwKSwoci5jaHJvbWV8fHIub3ByfHxyLnNhZmFyaSkmJihyLndlYmtpdD0hMCksci5ydnx8ci5pZW1vYmlsZSl7ci5ydiYmZGVsZXRlIHIucnY7YS5icm93c2VyPVwibXNpZVwiLHIubXNpZT0hMH1pZihyLmVkZ2Upe2RlbGV0ZSByLmVkZ2U7YS5icm93c2VyPVwibXNlZGdlXCIsci5tc2VkZ2U9ITB9aWYoci5vcHIpe2EuYnJvd3Nlcj1cIm9wZXJhXCIsci5vcGVyYT0hMH1pZihyLnNhZmFyaSYmci5hbmRyb2lkKXthLmJyb3dzZXI9XCJhbmRyb2lkXCIsci5hbmRyb2lkPSEwfWZvcih2YXIgbyBpbiByLm5hbWU9YS5icm93c2VyLHIucGxhdGZvcm09YS5wbGF0Zm9ybSxuKW4uaGFzT3duUHJvcGVydHkobykmJmRlbGV0ZSBuW29dO09iamVjdC5hc3NpZ24obixyKX0oKSx0LmE9bn0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3QuYT17T0s6XCJPS1wiLEZPUk1BVF9FUlJPUjpcIkZvcm1hdEVycm9yXCIsRk9STUFUX1VOU1VQUE9SVEVEOlwiRm9ybWF0VW5zdXBwb3J0ZWRcIixDT0RFQ19VTlNVUFBPUlRFRDpcIkNvZGVjVW5zdXBwb3J0ZWRcIn19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbixhPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxyPWEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuYXBwbHk/YS5hcHBseTpmdW5jdGlvbihlLHQsaSl7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxpKX07bj1hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm93bktleXM/YS5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgcz1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiBvKCl7by5pbml0LmNhbGwodGhpcyl9ZS5leHBvcnRzPW8sZS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKGksbil7ZnVuY3Rpb24gYShpKXtlLnJlbW92ZUxpc3RlbmVyKHQsciksbihpKX1mdW5jdGlvbiByKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsYSksaShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfWcoZSx0LHIse29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQsaSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmZyhlLFwiZXJyb3JcIix0LGkpfShlLGEse29uY2U6ITB9KX0pKX0sby5FdmVudEVtaXR0ZXI9byxvLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxvLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxvLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZD0xMDtmdW5jdGlvbiBfKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSl9ZnVuY3Rpb24gaChlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP28uZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gYyhlLHQsaSxuKXt2YXIgYSxyLHMsbztpZihfKGkpLHZvaWQgMD09PShyPWUuX2V2ZW50cyk/KHI9ZS5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksZS5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PXIubmV3TGlzdGVuZXImJihlLmVtaXQoXCJuZXdMaXN0ZW5lclwiLHQsaS5saXN0ZW5lcj9pLmxpc3RlbmVyOmkpLHI9ZS5fZXZlbnRzKSxzPXJbdF0pLHZvaWQgMD09PXMpcz1yW3RdPWksKytlLl9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHM/cz1yW3RdPW4/W2ksc106W3MsaV06bj9zLnVuc2hpZnQoaSk6cy5wdXNoKGkpLChhPWgoZSkpPjAmJnMubGVuZ3RoPmEmJiFzLndhcm5lZCl7cy53YXJuZWQ9ITA7dmFyIGQ9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitzLmxlbmd0aCtcIiBcIitTdHJpbmcodCkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTtkLm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIixkLmVtaXR0ZXI9ZSxkLnR5cGU9dCxkLmNvdW50PXMubGVuZ3RoLG89ZCxjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihvKX1yZXR1cm4gZX1mdW5jdGlvbiB1KCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxpKXt2YXIgbj17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6ZSx0eXBlOnQsbGlzdGVuZXI6aX0sYT11LmJpbmQobik7cmV0dXJuIGEubGlzdGVuZXI9aSxuLndyYXBGbj1hLGF9ZnVuY3Rpb24gZihlLHQsaSl7dmFyIG49ZS5fZXZlbnRzO2lmKHZvaWQgMD09PW4pcmV0dXJuW107dmFyIGE9blt0XTtyZXR1cm4gdm9pZCAwPT09YT9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2k/W2EubGlzdGVuZXJ8fGFdOlthXTppP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD1uZXcgQXJyYXkoZS5sZW5ndGgpLGk9MDtpPHQubGVuZ3RoOysraSl0W2ldPWVbaV0ubGlzdGVuZXJ8fGVbaV07cmV0dXJuIHR9KGEpOm0oYSxhLmxlbmd0aCl9ZnVuY3Rpb24gcChlKXt2YXIgdD10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09dCl7dmFyIGk9dFtlXTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpKXJldHVybiAxO2lmKHZvaWQgMCE9PWkpcmV0dXJuIGkubGVuZ3RofXJldHVybiAwfWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIGk9bmV3IEFycmF5KHQpLG49MDtuPHQ7KytuKWlbbl09ZVtuXTtyZXR1cm4gaX1mdW5jdGlvbiBnKGUsdCxpLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub24pbi5vbmNlP2Uub25jZSh0LGkpOmUub24odCxpKTtlbHNle2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBlKTtlLmFkZEV2ZW50TGlzdGVuZXIodCwoZnVuY3Rpb24gYShyKXtuLm9uY2UmJmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGEpLGkocil9KSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8cyhlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7ZD1lfX0pLG8uaW5pdD1mdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuX2V2ZW50cyYmdGhpcy5fZXZlbnRzIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKSx0aGlzLl9tYXhMaXN0ZW5lcnM9dGhpcy5fbWF4TGlzdGVuZXJzfHx2b2lkIDB9LG8ucHJvdG90eXBlLnNldE1heExpc3RlbmVycz1mdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxzKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtyZXR1cm4gdGhpcy5fbWF4TGlzdGVuZXJzPWUsdGhpc30sby5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKCl7cmV0dXJuIGgodGhpcyl9LG8ucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXQucHVzaChhcmd1bWVudHNbaV0pO3ZhciBuPVwiZXJyb3JcIj09PWUsYT10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09YSluPW4mJnZvaWQgMD09PWEuZXJyb3I7ZWxzZSBpZighbilyZXR1cm4hMTtpZihuKXt2YXIgcztpZih0Lmxlbmd0aD4wJiYocz10WzBdKSxzIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgczt2YXIgbz1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKHM/XCIgKFwiK3MubWVzc2FnZStcIilcIjpcIlwiKSk7dGhyb3cgby5jb250ZXh0PXMsb312YXIgZD1hW2VdO2lmKHZvaWQgMD09PWQpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZClyKGQsdGhpcyx0KTtlbHNle3ZhciBfPWQubGVuZ3RoLGg9bShkLF8pO2ZvcihpPTA7aTxfOysraSlyKGhbaV0sdGhpcyx0KX1yZXR1cm4hMH0sby5wcm90b3R5cGUuYWRkTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyh0aGlzLGUsdCwhMSl9LG8ucHJvdG90eXBlLm9uPW8ucHJvdG90eXBlLmFkZExpc3RlbmVyLG8ucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBjKHRoaXMsZSx0LCEwKX0sby5wcm90b3R5cGUub25jZT1mdW5jdGlvbihlLHQpe3JldHVybiBfKHQpLHRoaXMub24oZSxsKHRoaXMsZSx0KSksdGhpc30sby5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBfKHQpLHRoaXMucHJlcGVuZExpc3RlbmVyKGUsbCh0aGlzLGUsdCkpLHRoaXN9LG8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7dmFyIGksbixhLHIscztpZihfKHQpLHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09KGk9bltlXSkpcmV0dXJuIHRoaXM7aWYoaT09PXR8fGkubGlzdGVuZXI9PT10KTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBuW2VdLG4ucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxpLmxpc3RlbmVyfHx0KSk7ZWxzZSBpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXtmb3IoYT0tMSxyPWkubGVuZ3RoLTE7cj49MDtyLS0paWYoaVtyXT09PXR8fGlbcl0ubGlzdGVuZXI9PT10KXtzPWlbcl0ubGlzdGVuZXIsYT1yO2JyZWFrfWlmKGE8MClyZXR1cm4gdGhpczswPT09YT9pLnNoaWZ0KCk6ZnVuY3Rpb24oZSx0KXtmb3IoO3QrMTxlLmxlbmd0aDt0KyspZVt0XT1lW3QrMV07ZS5wb3AoKX0oaSxhKSwxPT09aS5sZW5ndGgmJihuW2VdPWlbMF0pLHZvaWQgMCE9PW4ucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsZSxzfHx0KX1yZXR1cm4gdGhpc30sby5wcm90b3R5cGUub2ZmPW8ucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLG8ucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxpLG47aWYodm9pZCAwPT09KGk9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT1pLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09aVtlXSYmKDA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6ZGVsZXRlIGlbZV0pLHRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhLHI9T2JqZWN0LmtleXMoaSk7Zm9yKG49MDtuPHIubGVuZ3RoOysrbilcInJlbW92ZUxpc3RlbmVyXCIhPT0oYT1yW25dKSYmdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoYSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9aVtlXSkpdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHQpO2Vsc2UgaWYodm9pZCAwIT09dClmb3Iobj10Lmxlbmd0aC0xO24+PTA7bi0tKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0W25dKTtyZXR1cm4gdGhpc30sby5wcm90b3R5cGUubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBmKHRoaXMsZSwhMCl9LG8ucHJvdG90eXBlLnJhd0xpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gZih0aGlzLGUsITEpfSxvLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmxpc3RlbmVyQ291bnQ/ZS5saXN0ZW5lckNvdW50KHQpOnAuY2FsbChlLHQpfSxvLnByb3RvdHlwZS5saXN0ZW5lckNvdW50PXAsby5wcm90b3R5cGUuZXZlbnROYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHNDb3VudD4wP24odGhpcy5fZXZlbnRzKTpbXX19LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtpLmQodCxcImRcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKSxpLmQodCxcImJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxpLmQodCxcImFcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxpLmQodCxcImNcIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgbj1mdW5jdGlvbihlLHQsaSxuLGEpe3RoaXMuZHRzPWUsdGhpcy5wdHM9dCx0aGlzLmR1cmF0aW9uPWksdGhpcy5vcmlnaW5hbER0cz1uLHRoaXMuaXNTeW5jUG9pbnQ9YSx0aGlzLmZpbGVwb3NpdGlvbj1udWxsfSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuYmVnaW5EdHM9MCx0aGlzLmVuZER0cz0wLHRoaXMuYmVnaW5QdHM9MCx0aGlzLmVuZFB0cz0wLHRoaXMub3JpZ2luYWxCZWdpbkR0cz0wLHRoaXMub3JpZ2luYWxFbmREdHM9MCx0aGlzLnN5bmNQb2ludHM9W10sdGhpcy5maXJzdFNhbXBsZT1udWxsLHRoaXMubGFzdFNhbXBsZT1udWxsfXJldHVybiBlLnByb3RvdHlwZS5hcHBlbmRTeW5jUG9pbnQ9ZnVuY3Rpb24oZSl7ZS5pc1N5bmNQb2ludD0hMCx0aGlzLnN5bmNQb2ludHMucHVzaChlKX0sZX0oKSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMuX2xpc3Q9W119cmV0dXJuIGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fbGlzdD1bXX0sZS5wcm90b3R5cGUuYXBwZW5kQXJyYXk9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fbGlzdDswIT09ZS5sZW5ndGgmJih0Lmxlbmd0aD4wJiZlWzBdLm9yaWdpbmFsRHRzPHRbdC5sZW5ndGgtMV0ub3JpZ2luYWxEdHMmJnRoaXMuY2xlYXIoKSxBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0LGUpKX0sZS5wcm90b3R5cGUuZ2V0TGFzdFN5bmNQb2ludEJlZm9yZUR0cz1mdW5jdGlvbihlKXtpZigwPT10aGlzLl9saXN0Lmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgdD10aGlzLl9saXN0LGk9MCxuPXQubGVuZ3RoLTEsYT0wLHI9MCxzPW47Zm9yKGU8dFswXS5kdHMmJihpPTAscj1zKzEpO3I8PXM7KXtpZigoYT1yK01hdGguZmxvb3IoKHMtcikvMikpPT09bnx8ZT49dFthXS5kdHMmJmU8dFthKzFdLmR0cyl7aT1hO2JyZWFrfXRbYV0uZHRzPGU/cj1hKzE6cz1hLTF9cmV0dXJuIHRoaXMuX2xpc3RbaV19LGV9KCkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5fdHlwZT1lLHRoaXMuX2xpc3Q9W10sdGhpcy5fbGFzdEFwcGVuZExvY2F0aW9uPS0xfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJ0eXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90eXBlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImxlbmd0aFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlzdC5sZW5ndGh9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fbGlzdC5sZW5ndGh9LGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fbGlzdD1bXSx0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb249LTF9LGUucHJvdG90eXBlLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9saXN0O2lmKDA9PT10Lmxlbmd0aClyZXR1cm4tMjt2YXIgaT10Lmxlbmd0aC0xLG49MCxhPTAscj1pLHM9MDtpZihlPHRbMF0ub3JpZ2luYWxCZWdpbkR0cylyZXR1cm4gcz0tMTtmb3IoO2E8PXI7KXtpZigobj1hK01hdGguZmxvb3IoKHItYSkvMikpPT09aXx8ZT50W25dLmxhc3RTYW1wbGUub3JpZ2luYWxEdHMmJmU8dFtuKzFdLm9yaWdpbmFsQmVnaW5EdHMpe3M9bjticmVha310W25dLm9yaWdpbmFsQmVnaW5EdHM8ZT9hPW4rMTpyPW4tMX1yZXR1cm4gc30sZS5wcm90b3R5cGUuX3NlYXJjaE5lYXJlc3RTZWdtZW50QWZ0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKGUpKzF9LGUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9saXN0LGk9ZSxuPXRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbixhPTA7LTEhPT1uJiZuPHQubGVuZ3RoJiZpLm9yaWdpbmFsQmVnaW5EdHM+PXRbbl0ubGFzdFNhbXBsZS5vcmlnaW5hbER0cyYmKG49PT10Lmxlbmd0aC0xfHxuPHQubGVuZ3RoLTEmJmkub3JpZ2luYWxCZWdpbkR0czx0W24rMV0ub3JpZ2luYWxCZWdpbkR0cyk/YT1uKzE6dC5sZW5ndGg+MCYmKGE9dGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUoaS5vcmlnaW5hbEJlZ2luRHRzKSsxKSx0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb249YSx0aGlzLl9saXN0LnNwbGljZShhLDAsaSl9LGUucHJvdG90eXBlLmdldExhc3RTZWdtZW50QmVmb3JlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKGUpO3JldHVybiB0Pj0wP3RoaXMuX2xpc3RbdF06bnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdFNhbXBsZUJlZm9yZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldExhc3RTZWdtZW50QmVmb3JlKGUpO3JldHVybiBudWxsIT10P3QubGFzdFNhbXBsZTpudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0U3luY1BvaW50QmVmb3JlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShlKSxpPXRoaXMuX2xpc3RbdF0uc3luY1BvaW50czswPT09aS5sZW5ndGgmJnQ+MDspdC0tLGk9dGhpcy5fbGlzdFt0XS5zeW5jUG9pbnRzO3JldHVybiBpLmxlbmd0aD4wP2lbaS5sZW5ndGgtMV06bnVsbH0sZX0oKX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3RoaXMubWltZVR5cGU9bnVsbCx0aGlzLmR1cmF0aW9uPW51bGwsdGhpcy5oYXNBdWRpbz1udWxsLHRoaXMuaGFzVmlkZW89bnVsbCx0aGlzLmF1ZGlvQ29kZWM9bnVsbCx0aGlzLnZpZGVvQ29kZWM9bnVsbCx0aGlzLmF1ZGlvRGF0YVJhdGU9bnVsbCx0aGlzLnZpZGVvRGF0YVJhdGU9bnVsbCx0aGlzLmF1ZGlvU2FtcGxlUmF0ZT1udWxsLHRoaXMuYXVkaW9DaGFubmVsQ291bnQ9bnVsbCx0aGlzLndpZHRoPW51bGwsdGhpcy5oZWlnaHQ9bnVsbCx0aGlzLmZwcz1udWxsLHRoaXMucHJvZmlsZT1udWxsLHRoaXMubGV2ZWw9bnVsbCx0aGlzLnJlZkZyYW1lcz1udWxsLHRoaXMuY2hyb21hRm9ybWF0PW51bGwsdGhpcy5zYXJOdW09bnVsbCx0aGlzLnNhckRlbj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNlZ21lbnRzPW51bGwsdGhpcy5zZWdtZW50Q291bnQ9bnVsbCx0aGlzLmhhc0tleWZyYW1lc0luZGV4PW51bGwsdGhpcy5rZXlmcmFtZXNJbmRleD1udWxsfXJldHVybiBlLnByb3RvdHlwZS5pc0NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9ITE9PT10aGlzLmhhc0F1ZGlvfHwhMD09PXRoaXMuaGFzQXVkaW8mJm51bGwhPXRoaXMuYXVkaW9Db2RlYyYmbnVsbCE9dGhpcy5hdWRpb1NhbXBsZVJhdGUmJm51bGwhPXRoaXMuYXVkaW9DaGFubmVsQ291bnQsdD0hMT09PXRoaXMuaGFzVmlkZW98fCEwPT09dGhpcy5oYXNWaWRlbyYmbnVsbCE9dGhpcy52aWRlb0NvZGVjJiZudWxsIT10aGlzLndpZHRoJiZudWxsIT10aGlzLmhlaWdodCYmbnVsbCE9dGhpcy5mcHMmJm51bGwhPXRoaXMucHJvZmlsZSYmbnVsbCE9dGhpcy5sZXZlbCYmbnVsbCE9dGhpcy5yZWZGcmFtZXMmJm51bGwhPXRoaXMuY2hyb21hRm9ybWF0JiZudWxsIT10aGlzLnNhck51bSYmbnVsbCE9dGhpcy5zYXJEZW47cmV0dXJuIG51bGwhPXRoaXMubWltZVR5cGUmJmUmJnR9LGUucHJvdG90eXBlLmlzU2Vla2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuaGFzS2V5ZnJhbWVzSW5kZXh9LGUucHJvdG90eXBlLmdldE5lYXJlc3RLZXlmcmFtZT1mdW5jdGlvbihlKXtpZihudWxsPT10aGlzLmtleWZyYW1lc0luZGV4KXJldHVybiBudWxsO3ZhciB0PXRoaXMua2V5ZnJhbWVzSW5kZXgsaT10aGlzLl9zZWFyY2godC50aW1lcyxlKTtyZXR1cm57aW5kZXg6aSxtaWxsaXNlY29uZHM6dC50aW1lc1tpXSxmaWxlcG9zaXRpb246dC5maWxlcG9zaXRpb25zW2ldfX0sZS5wcm90b3R5cGUuX3NlYXJjaD1mdW5jdGlvbihlLHQpe3ZhciBpPTAsbj1lLmxlbmd0aC0xLGE9MCxyPTAscz1uO2Zvcih0PGVbMF0mJihpPTAscj1zKzEpO3I8PXM7KXtpZigoYT1yK01hdGguZmxvb3IoKHMtcikvMikpPT09bnx8dD49ZVthXSYmdDxlW2ErMV0pe2k9YTticmVha31lW2FdPHQ/cj1hKzE6cz1hLTF9cmV0dXJuIGl9LGV9KCk7dC5hPW59LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1pKDYpLGE9aS5uKG4pLHI9aSgwKSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJmb3JjZUdsb2JhbFRhZ1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5hLkZPUkNFX0dMT0JBTF9UQUd9LHNldDpmdW5jdGlvbih0KXtyLmEuRk9SQ0VfR0xPQkFMX1RBRz10LGUuX25vdGlmeUNoYW5nZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZ2xvYmFsVGFnXCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLmEuR0xPQkFMX1RBR30sc2V0OmZ1bmN0aW9uKHQpe3IuYS5HTE9CQUxfVEFHPXQsZS5fbm90aWZ5Q2hhbmdlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJlbmFibGVBbGxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5FTkFCTEVfVkVSQk9TRSYmci5hLkVOQUJMRV9ERUJVRyYmci5hLkVOQUJMRV9JTkZPJiZyLmEuRU5BQkxFX1dBUk4mJnIuYS5FTkFCTEVfRVJST1J9LHNldDpmdW5jdGlvbih0KXtyLmEuRU5BQkxFX1ZFUkJPU0U9dCxyLmEuRU5BQkxFX0RFQlVHPXQsci5hLkVOQUJMRV9JTkZPPXQsci5hLkVOQUJMRV9XQVJOPXQsci5hLkVOQUJMRV9FUlJPUj10LGUuX25vdGlmeUNoYW5nZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZW5hYmxlRGVidWdcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5FTkFCTEVfREVCVUd9LHNldDpmdW5jdGlvbih0KXtyLmEuRU5BQkxFX0RFQlVHPXQsZS5fbm90aWZ5Q2hhbmdlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJlbmFibGVWZXJib3NlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiByLmEuRU5BQkxFX1ZFUkJPU0V9LHNldDpmdW5jdGlvbih0KXtyLmEuRU5BQkxFX1ZFUkJPU0U9dCxlLl9ub3RpZnlDaGFuZ2UoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImVuYWJsZUluZm9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuYS5FTkFCTEVfSU5GT30sc2V0OmZ1bmN0aW9uKHQpe3IuYS5FTkFCTEVfSU5GTz10LGUuX25vdGlmeUNoYW5nZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZW5hYmxlV2FyblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5hLkVOQUJMRV9XQVJOfSxzZXQ6ZnVuY3Rpb24odCl7ci5hLkVOQUJMRV9XQVJOPXQsZS5fbm90aWZ5Q2hhbmdlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJlbmFibGVFcnJvclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5hLkVOQUJMRV9FUlJPUn0sc2V0OmZ1bmN0aW9uKHQpe3IuYS5FTkFCTEVfRVJST1I9dCxlLl9ub3RpZnlDaGFuZ2UoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLmdldENvbmZpZz1mdW5jdGlvbigpe3JldHVybntnbG9iYWxUYWc6ci5hLkdMT0JBTF9UQUcsZm9yY2VHbG9iYWxUYWc6ci5hLkZPUkNFX0dMT0JBTF9UQUcsZW5hYmxlVmVyYm9zZTpyLmEuRU5BQkxFX1ZFUkJPU0UsZW5hYmxlRGVidWc6ci5hLkVOQUJMRV9ERUJVRyxlbmFibGVJbmZvOnIuYS5FTkFCTEVfSU5GTyxlbmFibGVXYXJuOnIuYS5FTkFCTEVfV0FSTixlbmFibGVFcnJvcjpyLmEuRU5BQkxFX0VSUk9SLGVuYWJsZUNhbGxiYWNrOnIuYS5FTkFCTEVfQ0FMTEJBQ0t9fSxlLmFwcGx5Q29uZmlnPWZ1bmN0aW9uKGUpe3IuYS5HTE9CQUxfVEFHPWUuZ2xvYmFsVGFnLHIuYS5GT1JDRV9HTE9CQUxfVEFHPWUuZm9yY2VHbG9iYWxUYWcsci5hLkVOQUJMRV9WRVJCT1NFPWUuZW5hYmxlVmVyYm9zZSxyLmEuRU5BQkxFX0RFQlVHPWUuZW5hYmxlRGVidWcsci5hLkVOQUJMRV9JTkZPPWUuZW5hYmxlSW5mbyxyLmEuRU5BQkxFX1dBUk49ZS5lbmFibGVXYXJuLHIuYS5FTkFCTEVfRVJST1I9ZS5lbmFibGVFcnJvcixyLmEuRU5BQkxFX0NBTExCQUNLPWUuZW5hYmxlQ2FsbGJhY2t9LGUuX25vdGlmeUNoYW5nZT1mdW5jdGlvbigpe3ZhciB0PWUuZW1pdHRlcjtpZih0Lmxpc3RlbmVyQ291bnQoXCJjaGFuZ2VcIik+MCl7dmFyIGk9ZS5nZXRDb25maWcoKTt0LmVtaXQoXCJjaGFuZ2VcIixpKX19LGUucmVnaXN0ZXJMaXN0ZW5lcj1mdW5jdGlvbih0KXtlLmVtaXR0ZXIuYWRkTGlzdGVuZXIoXCJjaGFuZ2VcIix0KX0sZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0KXtlLmVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoXCJjaGFuZ2VcIix0KX0sZS5hZGRMb2dMaXN0ZW5lcj1mdW5jdGlvbih0KXtyLmEuZW1pdHRlci5hZGRMaXN0ZW5lcihcImxvZ1wiLHQpLHIuYS5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJsb2dcIik+MCYmKHIuYS5FTkFCTEVfQ0FMTEJBQ0s9ITAsZS5fbm90aWZ5Q2hhbmdlKCkpfSxlLnJlbW92ZUxvZ0xpc3RlbmVyPWZ1bmN0aW9uKHQpe3IuYS5lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwibG9nXCIsdCksMD09PXIuYS5lbWl0dGVyLmxpc3RlbmVyQ291bnQoXCJsb2dcIikmJihyLmEuRU5BQkxFX0NBTExCQUNLPSExLGUuX25vdGlmeUNoYW5nZSgpKX0sZX0oKTtzLmVtaXR0ZXI9bmV3IGEuYSx0LmE9c30sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO3ZhciBuPWkoNiksYT1pLm4obikscj1pKDApLHM9aSg0KSxvPWkoOCk7ZnVuY3Rpb24gZChlLHQsaSl7dmFyIG49ZTtpZih0K2k8bi5sZW5ndGgpe2Zvcig7aS0tOylpZigxMjghPSgxOTImblsrK3RdKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX12YXIgXyxoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxpPWUsbj0wLGE9ZS5sZW5ndGg7bjxhOylpZihpW25dPDEyOCl0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShpW25dKSksKytuO2Vsc2V7aWYoaVtuXTwxOTIpO2Vsc2UgaWYoaVtuXTwyMjQpe2lmKGQoaSxuLDEpKWlmKChyPSgzMSZpW25dKTw8Nnw2MyZpW24rMV0pPj0xMjgpe3QucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1JnIpKSxuKz0yO2NvbnRpbnVlfX1lbHNlIGlmKGlbbl08MjQwKXtpZihkKGksbiwyKSlpZigocj0oMTUmaVtuXSk8PDEyfCg2MyZpW24rMV0pPDw2fDYzJmlbbisyXSk+PTIwNDgmJjU1Mjk2IT0oNjM0ODgmcikpe3QucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1NTM1JnIpKSxuKz0zO2NvbnRpbnVlfX1lbHNlIGlmKGlbbl08MjQ4KXt2YXIgcjtpZihkKGksbiwzKSlpZigocj0oNyZpW25dKTw8MTh8KDYzJmlbbisxXSk8PDEyfCg2MyZpW24rMl0pPDw2fDYzJmlbbiszXSk+NjU1MzYmJnI8MTExNDExMil7ci09NjU1MzYsdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUocj4+PjEwfDU1Mjk2KSksdC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoMTAyMyZyfDU2MzIwKSksbis9NDtjb250aW51ZX19dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzMpKSwrK259cmV0dXJuIHQuam9pbihcIlwiKX0sYz1pKDMpLHU9KF89bmV3IEFycmF5QnVmZmVyKDIpLG5ldyBEYXRhVmlldyhfKS5zZXRJbnQxNigwLDI1NiwhMCksMjU2PT09bmV3IEludDE2QXJyYXkoXylbMF0pLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnBhcnNlU2NyaXB0RGF0YT1mdW5jdGlvbih0LGksbil7dmFyIGE9e307dHJ5e3ZhciBzPWUucGFyc2VWYWx1ZSh0LGksbiksbz1lLnBhcnNlVmFsdWUodCxpK3Muc2l6ZSxuLXMuc2l6ZSk7YVtzLmRhdGFdPW8uZGF0YX1jYXRjaChlKXtyLmEuZShcIkFNRlwiLGUudG9TdHJpbmcoKSl9cmV0dXJuIGF9LGUucGFyc2VPYmplY3Q9ZnVuY3Rpb24odCxpLG4pe2lmKG48Myl0aHJvdyBuZXcgYy5hKFwiRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgU2NyaXB0RGF0YU9iamVjdFwiKTt2YXIgYT1lLnBhcnNlU3RyaW5nKHQsaSxuKSxyPWUucGFyc2VWYWx1ZSh0LGkrYS5zaXplLG4tYS5zaXplKSxzPXIub2JqZWN0RW5kO3JldHVybntkYXRhOntuYW1lOmEuZGF0YSx2YWx1ZTpyLmRhdGF9LHNpemU6YS5zaXplK3Iuc2l6ZSxvYmplY3RFbmQ6c319LGUucGFyc2VWYXJpYWJsZT1mdW5jdGlvbih0LGksbil7cmV0dXJuIGUucGFyc2VPYmplY3QodCxpLG4pfSxlLnBhcnNlU3RyaW5nPWZ1bmN0aW9uKGUsdCxpKXtpZihpPDIpdGhyb3cgbmV3IGMuYShcIkRhdGEgbm90IGVub3VnaCB3aGVuIHBhcnNlIFN0cmluZ1wiKTt2YXIgbj1uZXcgRGF0YVZpZXcoZSx0LGkpLmdldFVpbnQxNigwLCF1KTtyZXR1cm57ZGF0YTpuPjA/aChuZXcgVWludDhBcnJheShlLHQrMixuKSk6XCJcIixzaXplOjIrbn19LGUucGFyc2VMb25nU3RyaW5nPWZ1bmN0aW9uKGUsdCxpKXtpZihpPDQpdGhyb3cgbmV3IGMuYShcIkRhdGEgbm90IGVub3VnaCB3aGVuIHBhcnNlIExvbmdTdHJpbmdcIik7dmFyIG49bmV3IERhdGFWaWV3KGUsdCxpKS5nZXRVaW50MzIoMCwhdSk7cmV0dXJue2RhdGE6bj4wP2gobmV3IFVpbnQ4QXJyYXkoZSx0KzQsbikpOlwiXCIsc2l6ZTo0K259fSxlLnBhcnNlRGF0ZT1mdW5jdGlvbihlLHQsaSl7aWYoaTwxMCl0aHJvdyBuZXcgYy5hKFwiRGF0YSBzaXplIGludmFsaWQgd2hlbiBwYXJzZSBEYXRlXCIpO3ZhciBuPW5ldyBEYXRhVmlldyhlLHQsaSksYT1uLmdldEZsb2F0NjQoMCwhdSkscj1uLmdldEludDE2KDgsIXUpO3JldHVybntkYXRhOm5ldyBEYXRlKGErPTYwKnIqMWUzKSxzaXplOjEwfX0sZS5wYXJzZVZhbHVlPWZ1bmN0aW9uKHQsaSxuKXtpZihuPDEpdGhyb3cgbmV3IGMuYShcIkRhdGEgbm90IGVub3VnaCB3aGVuIHBhcnNlIFZhbHVlXCIpO3ZhciBhLHM9bmV3IERhdGFWaWV3KHQsaSxuKSxvPTEsZD1zLmdldFVpbnQ4KDApLF89ITE7dHJ5e3N3aXRjaChkKXtjYXNlIDA6YT1zLmdldEZsb2F0NjQoMSwhdSksbys9ODticmVhaztjYXNlIDE6YT0hIXMuZ2V0VWludDgoMSksbys9MTticmVhaztjYXNlIDI6dmFyIGg9ZS5wYXJzZVN0cmluZyh0LGkrMSxuLTEpO2E9aC5kYXRhLG8rPWguc2l6ZTticmVhaztjYXNlIDM6YT17fTt2YXIgbD0wO2Zvcig5PT0oMTY3NzcyMTUmcy5nZXRVaW50MzIobi00LCF1KSkmJihsPTMpO288bi00Oyl7dmFyIGY9ZS5wYXJzZU9iamVjdCh0LGkrbyxuLW8tbCk7aWYoZi5vYmplY3RFbmQpYnJlYWs7YVtmLmRhdGEubmFtZV09Zi5kYXRhLnZhbHVlLG8rPWYuc2l6ZX1pZihvPD1uLTMpOT09PSgxNjc3NzIxNSZzLmdldFVpbnQzMihvLTEsIXUpKSYmKG8rPTMpO2JyZWFrO2Nhc2UgODphPXt9LG8rPTQ7bD0wO2Zvcig5PT0oMTY3NzcyMTUmcy5nZXRVaW50MzIobi00LCF1KSkmJihsPTMpO288bi04Oyl7dmFyIHA9ZS5wYXJzZVZhcmlhYmxlKHQsaStvLG4tby1sKTtpZihwLm9iamVjdEVuZClicmVhazthW3AuZGF0YS5uYW1lXT1wLmRhdGEudmFsdWUsbys9cC5zaXplfWlmKG88PW4tMyk5PT09KDE2Nzc3MjE1JnMuZ2V0VWludDMyKG8tMSwhdSkpJiYobys9Myk7YnJlYWs7Y2FzZSA5OmE9dm9pZCAwLG89MSxfPSEwO2JyZWFrO2Nhc2UgMTA6YT1bXTt2YXIgbT1zLmdldFVpbnQzMigxLCF1KTtvKz00O2Zvcih2YXIgZz0wO2c8bTtnKyspe3ZhciB2PWUucGFyc2VWYWx1ZSh0LGkrbyxuLW8pO2EucHVzaCh2LmRhdGEpLG8rPXYuc2l6ZX1icmVhaztjYXNlIDExOnZhciB5PWUucGFyc2VEYXRlKHQsaSsxLG4tMSk7YT15LmRhdGEsbys9eS5zaXplO2JyZWFrO2Nhc2UgMTI6dmFyIGI9ZS5wYXJzZVN0cmluZyh0LGkrMSxuLTEpO2E9Yi5kYXRhLG8rPWIuc2l6ZTticmVhaztkZWZhdWx0Om89bixyLmEudyhcIkFNRlwiLFwiVW5zdXBwb3J0ZWQgQU1GIHZhbHVlIHR5cGUgXCIrZCl9fWNhdGNoKGUpe3IuYS5lKFwiQU1GXCIsZS50b1N0cmluZygpKX1yZXR1cm57ZGF0YTphLHNpemU6byxvYmplY3RFbmQ6X319LGV9KCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5UQUc9XCJFeHBHb2xvbWJcIix0aGlzLl9idWZmZXI9ZSx0aGlzLl9idWZmZXJfaW5kZXg9MCx0aGlzLl90b3RhbF9ieXRlcz1lLmJ5dGVMZW5ndGgsdGhpcy5fdG90YWxfYml0cz04KmUuYnl0ZUxlbmd0aCx0aGlzLl9jdXJyZW50X3dvcmQ9MCx0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0PTB9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXI9bnVsbH0sZS5wcm90b3R5cGUuX2ZpbGxDdXJyZW50V29yZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3RvdGFsX2J5dGVzLXRoaXMuX2J1ZmZlcl9pbmRleDtpZihlPD0wKXRocm93IG5ldyBjLmEoXCJFeHBHb2xvbWI6IF9maWxsQ3VycmVudFdvcmQoKSBidXQgbm8gYnl0ZXMgYXZhaWxhYmxlXCIpO3ZhciB0PU1hdGgubWluKDQsZSksaT1uZXcgVWludDhBcnJheSg0KTtpLnNldCh0aGlzLl9idWZmZXIuc3ViYXJyYXkodGhpcy5fYnVmZmVyX2luZGV4LHRoaXMuX2J1ZmZlcl9pbmRleCt0KSksdGhpcy5fY3VycmVudF93b3JkPW5ldyBEYXRhVmlldyhpLmJ1ZmZlcikuZ2V0VWludDMyKDAsITEpLHRoaXMuX2J1ZmZlcl9pbmRleCs9dCx0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0PTgqdH0sZS5wcm90b3R5cGUucmVhZEJpdHM9ZnVuY3Rpb24oZSl7aWYoZT4zMil0aHJvdyBuZXcgYy5iKFwiRXhwR29sb21iOiByZWFkQml0cygpIGJpdHMgZXhjZWVkZWQgbWF4IDMyYml0cyFcIik7aWYoZTw9dGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCl7dmFyIHQ9dGhpcy5fY3VycmVudF93b3JkPj4+MzItZTtyZXR1cm4gdGhpcy5fY3VycmVudF93b3JkPDw9ZSx0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0LT1lLHR9dmFyIGk9dGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdD90aGlzLl9jdXJyZW50X3dvcmQ6MDtpPj4+PTMyLXRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQ7dmFyIG49ZS10aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0O3RoaXMuX2ZpbGxDdXJyZW50V29yZCgpO3ZhciBhPU1hdGgubWluKG4sdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCkscj10aGlzLl9jdXJyZW50X3dvcmQ+Pj4zMi1hO3JldHVybiB0aGlzLl9jdXJyZW50X3dvcmQ8PD1hLHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQtPWEsaT1pPDxhfHJ9LGUucHJvdG90eXBlLnJlYWRCb29sPWZ1bmN0aW9uKCl7cmV0dXJuIDE9PT10aGlzLnJlYWRCaXRzKDEpfSxlLnByb3RvdHlwZS5yZWFkQnl0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRCaXRzKDgpfSxlLnByb3RvdHlwZS5fc2tpcExlYWRpbmdaZXJvPWZ1bmN0aW9uKCl7dmFyIGU7Zm9yKGU9MDtlPHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQ7ZSsrKWlmKDAhPSh0aGlzLl9jdXJyZW50X3dvcmQmMjE0NzQ4MzY0OD4+PmUpKXJldHVybiB0aGlzLl9jdXJyZW50X3dvcmQ8PD1lLHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQtPWUsZTtyZXR1cm4gdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCksZSt0aGlzLl9za2lwTGVhZGluZ1plcm8oKX0sZS5wcm90b3R5cGUucmVhZFVFRz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3NraXBMZWFkaW5nWmVybygpO3JldHVybiB0aGlzLnJlYWRCaXRzKGUrMSktMX0sZS5wcm90b3R5cGUucmVhZFNFRz1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFVFRygpO3JldHVybiAxJmU/ZSsxPj4+MTotMSooZT4+PjEpfSxlfSgpLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLl9lYnNwMnJic3A9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsaT10LmJ5dGVMZW5ndGgsbj1uZXcgVWludDhBcnJheShpKSxhPTAscj0wO3I8aTtyKyspcj49MiYmMz09PXRbcl0mJjA9PT10W3ItMV0mJjA9PT10W3ItMl18fChuW2FdPXRbcl0sYSsrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobi5idWZmZXIsMCxhKX0sZS5wYXJzZVNQUz1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5zdWJhcnJheSgxLDQpLG49XCJhdmMxLlwiLGE9MDthPDM7YSsrKXt2YXIgcj1pW2FdLnRvU3RyaW5nKDE2KTtyLmxlbmd0aDwyJiYocj1cIjBcIityKSxuKz1yfXZhciBzPWUuX2Vic3AycmJzcCh0KSxvPW5ldyBmKHMpO28ucmVhZEJ5dGUoKTt2YXIgZD1vLnJlYWRCeXRlKCk7by5yZWFkQnl0ZSgpO3ZhciBfPW8ucmVhZEJ5dGUoKTtvLnJlYWRVRUcoKTt2YXIgaD1lLmdldFByb2ZpbGVTdHJpbmcoZCksYz1lLmdldExldmVsU3RyaW5nKF8pLHU9MSxsPTQyMCxwPTgsbT04O2lmKCgxMDA9PT1kfHwxMTA9PT1kfHwxMjI9PT1kfHwyNDQ9PT1kfHw0ND09PWR8fDgzPT09ZHx8ODY9PT1kfHwxMTg9PT1kfHwxMjg9PT1kfHwxMzg9PT1kfHwxNDQ9PT1kKSYmKDM9PT0odT1vLnJlYWRVRUcoKSkmJm8ucmVhZEJpdHMoMSksdTw9MyYmKGw9WzAsNDIwLDQyMiw0NDRdW3VdKSxwPW8ucmVhZFVFRygpKzgsbT1vLnJlYWRVRUcoKSs4LG8ucmVhZEJpdHMoMSksby5yZWFkQm9vbCgpKSlmb3IodmFyIGc9MyE9PXU/ODoxMix2PTA7djxnO3YrKylvLnJlYWRCb29sKCkmJih2PDY/ZS5fc2tpcFNjYWxpbmdMaXN0KG8sMTYpOmUuX3NraXBTY2FsaW5nTGlzdChvLDY0KSk7by5yZWFkVUVHKCk7dmFyIHk9by5yZWFkVUVHKCk7aWYoMD09PXkpby5yZWFkVUVHKCk7ZWxzZSBpZigxPT09eSl7by5yZWFkQml0cygxKSxvLnJlYWRTRUcoKSxvLnJlYWRTRUcoKTt2YXIgYj1vLnJlYWRVRUcoKTtmb3Iodj0wO3Y8Yjt2Kyspby5yZWFkU0VHKCl9dmFyIFM9by5yZWFkVUVHKCk7by5yZWFkQml0cygxKTt2YXIgRT1vLnJlYWRVRUcoKSxBPW8ucmVhZFVFRygpLFI9by5yZWFkQml0cygxKTswPT09UiYmby5yZWFkQml0cygxKSxvLnJlYWRCaXRzKDEpO3ZhciBUPTAsTD0wLHc9MCxrPTA7by5yZWFkQm9vbCgpJiYoVD1vLnJlYWRVRUcoKSxMPW8ucmVhZFVFRygpLHc9by5yZWFkVUVHKCksaz1vLnJlYWRVRUcoKSk7dmFyIEQ9MSxDPTEsQj0wLEk9ITAsTz0wLFA9MDtpZihvLnJlYWRCb29sKCkpe2lmKG8ucmVhZEJvb2woKSl7dmFyIE09by5yZWFkQnl0ZSgpO00+MCYmTTwxNj8oRD1bMSwxMiwxMCwxNiw0MCwyNCwyMCwzMiw4MCwxOCwxNSw2NCwxNjAsNCwzLDJdW00tMV0sQz1bMSwxMSwxMSwxMSwzMywxMSwxMSwxMSwzMywxMSwxMSwzMyw5OSwzLDIsMV1bTS0xXSk6MjU1PT09TSYmKEQ9by5yZWFkQnl0ZSgpPDw4fG8ucmVhZEJ5dGUoKSxDPW8ucmVhZEJ5dGUoKTw8OHxvLnJlYWRCeXRlKCkpfWlmKG8ucmVhZEJvb2woKSYmby5yZWFkQm9vbCgpLG8ucmVhZEJvb2woKSYmKG8ucmVhZEJpdHMoNCksby5yZWFkQm9vbCgpJiZvLnJlYWRCaXRzKDI0KSksby5yZWFkQm9vbCgpJiYoby5yZWFkVUVHKCksby5yZWFkVUVHKCkpLG8ucmVhZEJvb2woKSl7dmFyIHg9by5yZWFkQml0cygzMiksVT1vLnJlYWRCaXRzKDMyKTtJPW8ucmVhZEJvb2woKSxCPShPPVUpLyhQPTIqeCl9fXZhciBOPTE7MT09PUQmJjE9PT1DfHwoTj1EL0MpO3ZhciBHPTAsVj0wOzA9PT11PyhHPTEsVj0yLVIpOihHPTM9PT11PzE6MixWPSgxPT09dT8yOjEpKigyLVIpKTt2YXIgRj0xNiooRSsxKSxqPTE2KihBKzEpKigyLVIpO0YtPShUK0wpKkcsai09KHcraykqVjt2YXIgej1NYXRoLmNlaWwoRipOKTtyZXR1cm4gby5kZXN0cm95KCksbz1udWxsLHtjb2RlY19taW1ldHlwZTpuLHByb2ZpbGVfaWRjOmQsbGV2ZWxfaWRjOl8scHJvZmlsZV9zdHJpbmc6aCxsZXZlbF9zdHJpbmc6YyxjaHJvbWFfZm9ybWF0X2lkYzp1LGJpdF9kZXB0aDpwLGJpdF9kZXB0aF9sdW1hOnAsYml0X2RlcHRoX2Nocm9tYTptLHJlZl9mcmFtZXM6UyxjaHJvbWFfZm9ybWF0OmwsY2hyb21hX2Zvcm1hdF9zdHJpbmc6ZS5nZXRDaHJvbWFGb3JtYXRTdHJpbmcobCksZnJhbWVfcmF0ZTp7Zml4ZWQ6SSxmcHM6QixmcHNfZGVuOlAsZnBzX251bTpPfSxzYXJfcmF0aW86e3dpZHRoOkQsaGVpZ2h0OkN9LGNvZGVjX3NpemU6e3dpZHRoOkYsaGVpZ2h0Omp9LHByZXNlbnRfc2l6ZTp7d2lkdGg6eixoZWlnaHQ6an19fSxlLl9za2lwU2NhbGluZ0xpc3Q9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9OCxuPTgsYT0wO2E8dDthKyspMCE9PW4mJihuPShpK2UucmVhZFNFRygpKzI1NiklMjU2KSxpPTA9PT1uP2k6bn0sZS5nZXRQcm9maWxlU3RyaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDY2OnJldHVyblwiQmFzZWxpbmVcIjtjYXNlIDc3OnJldHVyblwiTWFpblwiO2Nhc2UgODg6cmV0dXJuXCJFeHRlbmRlZFwiO2Nhc2UgMTAwOnJldHVyblwiSGlnaFwiO2Nhc2UgMTEwOnJldHVyblwiSGlnaDEwXCI7Y2FzZSAxMjI6cmV0dXJuXCJIaWdoNDIyXCI7Y2FzZSAyNDQ6cmV0dXJuXCJIaWdoNDQ0XCI7ZGVmYXVsdDpyZXR1cm5cIlVua25vd25cIn19LGUuZ2V0TGV2ZWxTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuKGUvMTApLnRvRml4ZWQoMSl9LGUuZ2V0Q2hyb21hRm9ybWF0U3RyaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDQyMDpyZXR1cm5cIjQ6MjowXCI7Y2FzZSA0MjI6cmV0dXJuXCI0OjI6MlwiO2Nhc2UgNDQ0OnJldHVyblwiNDo0OjRcIjtkZWZhdWx0OnJldHVyblwiVW5rbm93blwifX0sZX0oKSxtPWkoNSksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUuX2Vic3AycmJzcD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxpPXQuYnl0ZUxlbmd0aCxuPW5ldyBVaW50OEFycmF5KGkpLGE9MCxyPTA7cjxpO3IrKylyPj0yJiYzPT09dFtyXSYmMD09PXRbci0xXSYmMD09PXRbci0yXXx8KG5bYV09dFtyXSxhKyspO3JldHVybiBuZXcgVWludDhBcnJheShuLmJ1ZmZlciwwLGEpfSxlLnBhcnNlVlBTPWZ1bmN0aW9uKHQpe3ZhciBpPWUuX2Vic3AycmJzcCh0KSxuPW5ldyBmKGkpO24ucmVhZEJ5dGUoKSxuLnJlYWRCeXRlKCk7bi5yZWFkQml0cyg0KTtuLnJlYWRCaXRzKDIpO24ucmVhZEJpdHMoNik7cmV0dXJue251bV90ZW1wb3JhbF9sYXllcnM6bi5yZWFkQml0cygzKSsxLHRlbXBvcmFsX2lkX25lc3RlZDpuLnJlYWRCb29sKCl9fSxlLnBhcnNlU1BTPWZ1bmN0aW9uKHQpe3ZhciBpPWUuX2Vic3AycmJzcCh0KSxuPW5ldyBmKGkpO24ucmVhZEJ5dGUoKSxuLnJlYWRCeXRlKCk7Zm9yKHZhciBhPTAscj0wLHM9MCxvPTAsZD0obi5yZWFkQml0cyg0KSxuLnJlYWRCaXRzKDMpKSxfPShuLnJlYWRCb29sKCksbi5yZWFkQml0cygyKSksaD1uLnJlYWRCb29sKCksYz1uLnJlYWRCaXRzKDUpLHU9bi5yZWFkQnl0ZSgpLGw9bi5yZWFkQnl0ZSgpLHA9bi5yZWFkQnl0ZSgpLG09bi5yZWFkQnl0ZSgpLGc9bi5yZWFkQnl0ZSgpLHY9bi5yZWFkQnl0ZSgpLHk9bi5yZWFkQnl0ZSgpLGI9bi5yZWFkQnl0ZSgpLFM9bi5yZWFkQnl0ZSgpLEU9bi5yZWFkQnl0ZSgpLEE9bi5yZWFkQnl0ZSgpLFI9W10sVD1bXSxMPTA7TDxkO0wrKylSLnB1c2gobi5yZWFkQm9vbCgpKSxULnB1c2gobi5yZWFkQm9vbCgpKTtpZihkPjApZm9yKEw9ZDtMPDg7TCsrKW4ucmVhZEJpdHMoMik7Zm9yKEw9MDtMPGQ7TCsrKVJbTF0mJihuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpLG4ucmVhZEJ5dGUoKSxuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpLG4ucmVhZEJ5dGUoKSxuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpLG4ucmVhZEJ5dGUoKSxuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpKSxUW0xdJiZuLnJlYWRCeXRlKCk7bi5yZWFkVUVHKCk7dmFyIHc9bi5yZWFkVUVHKCk7Mz09dyYmbi5yZWFkQml0cygxKTt2YXIgaz1uLnJlYWRVRUcoKSxEPW4ucmVhZFVFRygpO24ucmVhZEJvb2woKSYmKGErPW4ucmVhZFVFRygpLHIrPW4ucmVhZFVFRygpLHMrPW4ucmVhZFVFRygpLG8rPW4ucmVhZFVFRygpKTt2YXIgQz1uLnJlYWRVRUcoKSxCPW4ucmVhZFVFRygpLEk9bi5yZWFkVUVHKCk7Zm9yKEw9bi5yZWFkQm9vbCgpPzA6ZDtMPD1kO0wrKyluLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKTtuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSxuLnJlYWRVRUcoKTtpZihuLnJlYWRCb29sKCkmJm4ucmVhZEJvb2woKSlmb3IodmFyIE89MDtPPDQ7TysrKWZvcih2YXIgUD0wO1A8KDM9PT1PPzI6Nik7UCsrKXtpZihuLnJlYWRCb29sKCkpe3ZhciBNPU1hdGgubWluKDY0LDE8PDQrKE88PDEpKTtPPjEmJm4ucmVhZFNFRygpO2ZvcihMPTA7TDxNO0wrKyluLnJlYWRTRUcoKX1lbHNlIG4ucmVhZFVFRygpfW4ucmVhZEJvb2woKSxuLnJlYWRCb29sKCk7bi5yZWFkQm9vbCgpJiYobi5yZWFkQnl0ZSgpLG4ucmVhZFVFRygpLG4ucmVhZFVFRygpLG4ucmVhZEJvb2woKSk7dmFyIHg9bi5yZWFkVUVHKCksVT0wO2ZvcihMPTA7TDx4O0wrKyl7dmFyIE49ITE7aWYoMCE9PUwmJihOPW4ucmVhZEJvb2woKSksTil7TD09PXgmJm4ucmVhZFVFRygpLG4ucmVhZEJvb2woKSxuLnJlYWRVRUcoKTtmb3IodmFyIEc9MCxWPTA7Vjw9VTtWKyspe3ZhciBGPW4ucmVhZEJvb2woKSxqPSExO0Z8fChqPW4ucmVhZEJvb2woKSksKEZ8fGopJiZHKyt9VT1HfWVsc2V7dmFyIHo9bi5yZWFkVUVHKCksSD1uLnJlYWRVRUcoKTtVPXorSDtmb3IoVj0wO1Y8ejtWKyspbi5yZWFkVUVHKCksbi5yZWFkQm9vbCgpO2ZvcihWPTA7VjxIO1YrKyluLnJlYWRVRUcoKSxuLnJlYWRCb29sKCl9fWlmKG4ucmVhZEJvb2woKSl7dmFyIHE9bi5yZWFkVUVHKCk7Zm9yKEw9MDtMPHE7TCsrKXtmb3IoVj0wO1Y8SSs0O1YrKyluLnJlYWRCaXRzKDEpO24ucmVhZEJpdHMoMSl9fXZhciBLPTAsVz0xLFg9MSxZPSExLEo9MSxaPTE7bi5yZWFkQm9vbCgpLG4ucmVhZEJvb2woKTtpZihuLnJlYWRCb29sKCkpe2lmKG4ucmVhZEJvb2woKSl7dmFyIFE9bi5yZWFkQnl0ZSgpO1E+MCYmUTw9MTY/KFc9WzEsMTIsMTAsMTYsNDAsMjQsMjAsMzIsODAsMTgsMTUsNjQsMTYwLDQsMywyXVtRLTFdLFg9WzEsMTEsMTEsMTEsMzMsMTEsMTEsMTEsMzMsMTEsMTEsMzMsOTksMywyLDFdW1EtMV0pOjI1NT09PVEmJihXPW4ucmVhZEJpdHMoMTYpLFg9bi5yZWFkQml0cygxNikpfWlmKG4ucmVhZEJvb2woKSYmbi5yZWFkQm9vbCgpLG4ucmVhZEJvb2woKSluLnJlYWRCaXRzKDMpLG4ucmVhZEJvb2woKSxuLnJlYWRCb29sKCkmJihuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpLG4ucmVhZEJ5dGUoKSk7bi5yZWFkQm9vbCgpJiYobi5yZWFkVUVHKCksbi5yZWFkVUVHKCkpO24ucmVhZEJvb2woKSxuLnJlYWRCb29sKCksbi5yZWFkQm9vbCgpO2lmKG4ucmVhZEJvb2woKSYmKG4ucmVhZFVFRygpLG4ucmVhZFVFRygpLG4ucmVhZFVFRygpLG4ucmVhZFVFRygpKSxuLnJlYWRCb29sKCkpaWYoSj1uLnJlYWRCaXRzKDMyKSxaPW4ucmVhZEJpdHMoMzIpLG4ucmVhZEJvb2woKSlpZihuLnJlYWRVRUcoKSxuLnJlYWRCb29sKCkpe3ZhciAkPSExLGVlPSExLHRlPSExO2lmKCQ9bi5yZWFkQm9vbCgpLGVlPW4ucmVhZEJvb2woKSwkfHxlZSl7KHRlPW4ucmVhZEJvb2woKSkmJihuLnJlYWRCeXRlKCksbi5yZWFkQml0cyg1KSxuLnJlYWRCb29sKCksbi5yZWFkQml0cyg1KSk7bi5yZWFkQml0cyg0KSxuLnJlYWRCaXRzKDQpO3RlJiZuLnJlYWRCaXRzKDQpLG4ucmVhZEJpdHMoNSksbi5yZWFkQml0cyg1KSxuLnJlYWRCaXRzKDUpfWZvcihMPTA7TDw9ZDtMKyspe3ZhciBpZT1uLnJlYWRCb29sKCk7WT1pZTt2YXIgbmU9ITEsYWU9MTtpZXx8KG5lPW4ucmVhZEJvb2woKSk7dmFyIHJlPSExO2lmKG5lP24ucmVhZFNFRygpOnJlPW4ucmVhZEJvb2woKSxyZXx8KGFlPW4ucmVhZFVFRygpKzEpLCQpZm9yKFY9MDtWPGFlO1YrKyluLnJlYWRVRUcoKSxuLnJlYWRVRUcoKSx0ZSYmKG4ucmVhZFVFRygpLG4ucmVhZFVFRygpKTtpZihlZSlmb3IoVj0wO1Y8YWU7VisrKW4ucmVhZFVFRygpLG4ucmVhZFVFRygpLHRlJiYobi5yZWFkVUVHKCksbi5yZWFkVUVHKCkpfX1pZihuLnJlYWRCb29sKCkpe24ucmVhZEJvb2woKSxuLnJlYWRCb29sKCksbi5yZWFkQm9vbCgpO0s9bi5yZWFkVUVHKCk7bi5yZWFkVUVHKCksbi5yZWFkVUVHKCksbi5yZWFkVUVHKCksbi5yZWFkVUVHKCl9fW4ucmVhZEJvb2woKTt2YXIgc2U9XCJodmMxLlwiK2MrXCIuMS5MXCIrQStcIi5CMFwiLG9lPWstKGErcikqKDE9PT13fHwyPT09dz8yOjEpLGRlPUQtKHMrbykqKDE9PT13PzI6MSksX2U9MTtyZXR1cm4gMSE9PVcmJjEhPT1YJiYoX2U9Vy9YKSxuLmRlc3Ryb3koKSxuPW51bGwse2NvZGVjX21pbWV0eXBlOnNlLGxldmVsX3N0cmluZzplLmdldExldmVsU3RyaW5nKEEpLHByb2ZpbGVfaWRjOmMsYml0X2RlcHRoOkMrOCxyZWZfZnJhbWVzOjEsY2hyb21hX2Zvcm1hdDp3LGNocm9tYV9mb3JtYXRfc3RyaW5nOmUuZ2V0Q2hyb21hRm9ybWF0U3RyaW5nKHcpLGdlbmVyYWxfbGV2ZWxfaWRjOkEsZ2VuZXJhbF9wcm9maWxlX3NwYWNlOl8sZ2VuZXJhbF90aWVyX2ZsYWc6aCxnZW5lcmFsX3Byb2ZpbGVfaWRjOmMsZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfMTp1LGdlbmVyYWxfcHJvZmlsZV9jb21wYXRpYmlsaXR5X2ZsYWdzXzI6bCxnZW5lcmFsX3Byb2ZpbGVfY29tcGF0aWJpbGl0eV9mbGFnc18zOnAsZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfNDptLGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfMTpnLGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfMjp2LGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfMzp5LGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfNDpiLGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfNTpTLGdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfNjpFLG1pbl9zcGF0aWFsX3NlZ21lbnRhdGlvbl9pZGM6Syxjb25zdGFudF9mcmFtZV9yYXRlOjAsY2hyb21hX2Zvcm1hdF9pZGM6dyxiaXRfZGVwdGhfbHVtYV9taW51czg6QyxiaXRfZGVwdGhfY2hyb21hX21pbnVzODpCLGZyYW1lX3JhdGU6e2ZpeGVkOlksZnBzOlovSixmcHNfZGVuOkosZnBzX251bTpafSxzYXJfcmF0aW86e3dpZHRoOlcsaGVpZ2h0Olh9LGNvZGVjX3NpemU6e3dpZHRoOm9lLGhlaWdodDpkZX0scHJlc2VudF9zaXplOnt3aWR0aDpvZSpfZSxoZWlnaHQ6ZGV9fX0sZS5wYXJzZVBQUz1mdW5jdGlvbih0KXt2YXIgaT1lLl9lYnNwMnJic3AodCksbj1uZXcgZihpKTtuLnJlYWRCeXRlKCksbi5yZWFkQnl0ZSgpO24ucmVhZFVFRygpLG4ucmVhZFVFRygpLG4ucmVhZEJvb2woKSxuLnJlYWRCb29sKCksbi5yZWFkQml0cygzKSxuLnJlYWRCb29sKCksbi5yZWFkQm9vbCgpLG4ucmVhZFVFRygpLG4ucmVhZFVFRygpLG4ucmVhZFNFRygpLG4ucmVhZEJvb2woKSxuLnJlYWRCb29sKCk7aWYobi5yZWFkQm9vbCgpKW4ucmVhZFVFRygpO24ucmVhZFNFRygpLG4ucmVhZFNFRygpLG4ucmVhZEJvb2woKSxuLnJlYWRCb29sKCksbi5yZWFkQm9vbCgpLG4ucmVhZEJvb2woKTt2YXIgYT1uLnJlYWRCb29sKCkscj1uLnJlYWRCb29sKCkscz0xO3JldHVybiByJiZhP3M9MDpyP3M9MzphJiYocz0yKSx7cGFyYWxsZWxpc21UeXBlOnN9fSxlLmdldENocm9tYUZvcm1hdFN0cmluZz1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSAwOnJldHVyblwiNDowOjBcIjtjYXNlIDE6cmV0dXJuXCI0OjI6MFwiO2Nhc2UgMjpyZXR1cm5cIjQ6MjoyXCI7Y2FzZSAzOnJldHVyblwiNDo0OjRcIjtkZWZhdWx0OnJldHVyblwiVW5rbm93blwifX0sZS5nZXRQcm9maWxlU3RyaW5nPWZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuXCJNYWluXCI7Y2FzZSAyOnJldHVyblwiTWFpbjEwXCI7Y2FzZSAzOnJldHVyblwiTWFpblNQXCI7Y2FzZSA0OnJldHVyblwiUmV4dFwiO2Nhc2UgOTpyZXR1cm5cIlNDQ1wiO2RlZmF1bHQ6cmV0dXJuXCJVbmtub3duXCJ9fSxlLmdldExldmVsU3RyaW5nPWZ1bmN0aW9uKGUpe3JldHVybihlLzMwKS50b0ZpeGVkKDEpfSxlfSgpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuIGUuYnl0ZU9mZnNldCUyPT0wJiZlLmJ5dGVMZW5ndGglMj09MH1mdW5jdGlvbiB5KGUpe3JldHVybiBlLmJ5dGVPZmZzZXQlND09MCYmZS5ieXRlTGVuZ3RoJTQ9PTB9ZnVuY3Rpb24gYihlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0hPT10W2ldKXJldHVybiExO3JldHVybiEwfXZhciBTPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuYnl0ZUxlbmd0aD09PXQuYnl0ZUxlbmd0aCYmKHkoZSkmJnkodCk/ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYihuZXcgVWludDMyQXJyYXkoZS5idWZmZXIsZS5ieXRlT2Zmc2V0LGUuYnl0ZUxlbmd0aC80KSxuZXcgVWludDMyQXJyYXkodC5idWZmZXIsdC5ieXRlT2Zmc2V0LHQuYnl0ZUxlbmd0aC80KSl9KGUsdCk6dihlKSYmdih0KT9mdW5jdGlvbihlLHQpe3JldHVybiBiKG5ldyBVaW50MTZBcnJheShlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoLzIpLG5ldyBVaW50MTZBcnJheSh0LmJ1ZmZlcix0LmJ5dGVPZmZzZXQsdC5ieXRlTGVuZ3RoLzIpKX0oZSx0KTpmdW5jdGlvbihlLHQpe3JldHVybiBiKGUsdCl9KGUsdCkpfTt2YXIgRSxBPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuVEFHPVwiRkxWRGVtdXhlclwiLHRoaXMuX2NvbmZpZz10LHRoaXMuX29uRXJyb3I9bnVsbCx0aGlzLl9vbk1lZGlhSW5mbz1udWxsLHRoaXMuX29uTWV0YURhdGFBcnJpdmVkPW51bGwsdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZD1udWxsLHRoaXMuX29uVHJhY2tNZXRhZGF0YT1udWxsLHRoaXMuX29uRGF0YUF2YWlsYWJsZT1udWxsLHRoaXMuX2RhdGFPZmZzZXQ9ZS5kYXRhT2Zmc2V0LHRoaXMuX2ZpcnN0UGFyc2U9ITAsdGhpcy5fZGlzcGF0Y2g9ITEsdGhpcy5faGFzQXVkaW89ZS5oYXNBdWRpb1RyYWNrLHRoaXMuX2hhc1ZpZGVvPWUuaGFzVmlkZW9UcmFjayx0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQ9ITEsdGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkPSExLHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZD0hMSx0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ9ITEsdGhpcy5fbWVkaWFJbmZvPW5ldyBvLmEsdGhpcy5fbWVkaWFJbmZvLmhhc0F1ZGlvPXRoaXMuX2hhc0F1ZGlvLHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbz10aGlzLl9oYXNWaWRlbyx0aGlzLl9tZXRhZGF0YT1udWxsLHRoaXMuX2F1ZGlvTWV0YWRhdGE9bnVsbCx0aGlzLl92aWRlb01ldGFkYXRhPW51bGwsdGhpcy5fbmFsdUxlbmd0aFNpemU9NCx0aGlzLl90aW1lc3RhbXBCYXNlPTAsdGhpcy5fdGltZXNjYWxlPTFlMyx0aGlzLl9kdXJhdGlvbj0wLHRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkPSExLHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZT17Zml4ZWQ6ITAsZnBzOjIzLjk3NixmcHNfbnVtOjIzOTc2LGZwc19kZW46MWUzfSx0aGlzLl9mbHZTb3VuZFJhdGVUYWJsZT1bNTUwMCwxMTAyNSwyMjA1MCw0NDEwMCw0OGUzXSx0aGlzLl9tcGVnU2FtcGxpbmdSYXRlcz1bOTZlMyw4ODIwMCw2NGUzLDQ4ZTMsNDQxMDAsMzJlMywyNGUzLDIyMDUwLDE2ZTMsMTJlMywxMTAyNSw4ZTMsNzM1MF0sdGhpcy5fbXBlZ0F1ZGlvVjEwU2FtcGxlUmF0ZVRhYmxlPVs0NDEwMCw0OGUzLDMyZTMsMF0sdGhpcy5fbXBlZ0F1ZGlvVjIwU2FtcGxlUmF0ZVRhYmxlPVsyMjA1MCwyNGUzLDE2ZTMsMF0sdGhpcy5fbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlPVsxMTAyNSwxMmUzLDhlMywwXSx0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZT1bMCwzMiw2NCw5NiwxMjgsMTYwLDE5MiwyMjQsMjU2LDI4OCwzMjAsMzUyLDM4NCw0MTYsNDQ4LC0xXSx0aGlzLl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZT1bMCwzMiw0OCw1Niw2NCw4MCw5NiwxMTIsMTI4LDE2MCwxOTIsMjI0LDI1NiwzMjAsMzg0LC0xXSx0aGlzLl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZT1bMCwzMiw0MCw0OCw1Niw2NCw4MCw5NiwxMTIsMTI4LDE2MCwxOTIsMjI0LDI1NiwzMjAsLTFdLHRoaXMuX3ZpZGVvVHJhY2s9e3R5cGU6XCJ2aWRlb1wiLGlkOjEsc2VxdWVuY2VOdW1iZXI6MCxzYW1wbGVzOltdLGxlbmd0aDowfSx0aGlzLl9hdWRpb1RyYWNrPXt0eXBlOlwiYXVkaW9cIixpZDoyLHNlcXVlbmNlTnVtYmVyOjAsc2FtcGxlczpbXSxsZW5ndGg6MH0sdGhpcy5fbGl0dGxlRW5kaWFuPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDIpO3JldHVybiBuZXcgRGF0YVZpZXcoZSkuc2V0SW50MTYoMCwyNTYsITApLDI1Nj09PW5ldyBJbnQxNkFycmF5KGUpWzBdfSgpfXJldHVybiBlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFJbmZvPW51bGwsdGhpcy5fbWV0YWRhdGE9bnVsbCx0aGlzLl9hdWRpb01ldGFkYXRhPW51bGwsdGhpcy5fdmlkZW9NZXRhZGF0YT1udWxsLHRoaXMuX3ZpZGVvVHJhY2s9bnVsbCx0aGlzLl9hdWRpb1RyYWNrPW51bGwsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuX29uTWVkaWFJbmZvPW51bGwsdGhpcy5fb25NZXRhRGF0YUFycml2ZWQ9bnVsbCx0aGlzLl9vblNjcmlwdERhdGFBcnJpdmVkPW51bGwsdGhpcy5fb25UcmFja01ldGFkYXRhPW51bGwsdGhpcy5fb25EYXRhQXZhaWxhYmxlPW51bGx9LGUucHJvYmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFVpbnQ4QXJyYXkoZSk7aWYodC5ieXRlTGVuZ3RoPDkpcmV0dXJue25lZWRNb3JlRGF0YTohMH07dmFyIGk9e21hdGNoOiExfTtpZig3MCE9PXRbMF18fDc2IT09dFsxXXx8ODYhPT10WzJdfHwxIT09dFszXSlyZXR1cm4gaTt2YXIgbixhLHI9KDQmdFs0XSk+Pj4yIT0wLHM9MCE9KDEmdFs0XSksbz0obj10KVthPTVdPDwyNHxuW2ErMV08PDE2fG5bYSsyXTw8OHxuW2ErM107cmV0dXJuIG88OT9pOnttYXRjaDohMCxjb25zdW1lZDpvLGRhdGFPZmZzZXQ6byxoYXNBdWRpb1RyYWNrOnIsaGFzVmlkZW9UcmFjazpzfX0sZS5wcm90b3R5cGUuYmluZERhdGFTb3VyY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUub25EYXRhQXJyaXZhbD10aGlzLnBhcnNlQ2h1bmtzLmJpbmQodGhpcyksdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25UcmFja01ldGFkYXRhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblRyYWNrTWV0YWRhdGF9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vblRyYWNrTWV0YWRhdGE9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbk1lZGlhSW5mb1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25NZWRpYUluZm99LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbk1lZGlhSW5mbz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uTWV0YURhdGFBcnJpdmVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uTWV0YURhdGFBcnJpdmVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TY3JpcHREYXRhQXJyaXZlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uU2NyaXB0RGF0YUFycml2ZWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkVycm9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkVycm9yfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25FcnJvcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uRGF0YUF2YWlsYWJsZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25EYXRhQXZhaWxhYmxlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25EYXRhQXZhaWxhYmxlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidGltZXN0YW1wQmFzZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZXN0YW1wQmFzZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3RpbWVzdGFtcEJhc2U9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvdmVycmlkZWREdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZD0hMCx0aGlzLl9kdXJhdGlvbj1lLHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm92ZXJyaWRlZEhhc0F1ZGlvXCIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQ9ITAsdGhpcy5faGFzQXVkaW89ZSx0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW89ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvdmVycmlkZWRIYXNWaWRlb1wiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkPSEwLHRoaXMuX2hhc1ZpZGVvPWUsdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVzZXRNZWRpYUluZm89ZnVuY3Rpb24oKXt0aGlzLl9tZWRpYUluZm89bmV3IG8uYX0sZS5wcm90b3R5cGUuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNBdWRpbyYmdGhpcy5faGFzVmlkZW8/dGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkJiZ0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ6dGhpcy5faGFzQXVkaW8mJiF0aGlzLl9oYXNWaWRlbz90aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ6ISh0aGlzLl9oYXNBdWRpb3x8IXRoaXMuX2hhc1ZpZGVvKSYmdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkfSxlLnByb3RvdHlwZS5wYXJzZUNodW5rcz1mdW5jdGlvbih0LGkpe2lmKCEodGhpcy5fb25FcnJvciYmdGhpcy5fb25NZWRpYUluZm8mJnRoaXMuX29uVHJhY2tNZXRhZGF0YSYmdGhpcy5fb25EYXRhQXZhaWxhYmxlKSl0aHJvdyBuZXcgYy5hKFwiRmx2OiBvbkVycm9yICYgb25NZWRpYUluZm8gJiBvblRyYWNrTWV0YWRhdGEgJiBvbkRhdGFBdmFpbGFibGUgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpZWRcIik7dmFyIG49MCxhPXRoaXMuX2xpdHRsZUVuZGlhbjtpZigwPT09aSl7aWYoISh0LmJ5dGVMZW5ndGg+MTMpKXJldHVybiAwO249ZS5wcm9iZSh0KS5kYXRhT2Zmc2V0fXRoaXMuX2ZpcnN0UGFyc2UmJih0aGlzLl9maXJzdFBhcnNlPSExLGkrbiE9PXRoaXMuX2RhdGFPZmZzZXQmJnIuYS53KHRoaXMuVEFHLFwiRmlyc3QgdGltZSBwYXJzaW5nIGJ1dCBjaHVuayBieXRlU3RhcnQgaW52YWxpZCFcIiksMCE9PShzPW5ldyBEYXRhVmlldyh0LG4pKS5nZXRVaW50MzIoMCwhYSkmJnIuYS53KHRoaXMuVEFHLFwiUHJldlRhZ1NpemUwICE9PSAwICEhIVwiKSxuKz00KTtmb3IoO248dC5ieXRlTGVuZ3RoOyl7dGhpcy5fZGlzcGF0Y2g9ITA7dmFyIHM9bmV3IERhdGFWaWV3KHQsbik7aWYobisxMSs0PnQuYnl0ZUxlbmd0aClicmVhazt2YXIgbz1zLmdldFVpbnQ4KDApLGQ9MTY3NzcyMTUmcy5nZXRVaW50MzIoMCwhYSk7aWYobisxMStkKzQ+dC5ieXRlTGVuZ3RoKWJyZWFrO2lmKDg9PT1vfHw5PT09b3x8MTg9PT1vKXt2YXIgXz1zLmdldFVpbnQ4KDQpLGg9cy5nZXRVaW50OCg1KSx1PXMuZ2V0VWludDgoNil8aDw8OHxfPDwxNnxzLmdldFVpbnQ4KDcpPDwyNDswIT09KDE2Nzc3MjE1JnMuZ2V0VWludDMyKDcsIWEpKSYmci5hLncodGhpcy5UQUcsXCJNZWV0IHRhZyB3aGljaCBoYXMgU3RyZWFtSUQgIT0gMCFcIik7dmFyIGw9bisxMTtzd2l0Y2gobyl7Y2FzZSA4OnRoaXMuX3BhcnNlQXVkaW9EYXRhKHQsbCxkLHUpO2JyZWFrO2Nhc2UgOTp0aGlzLl9wYXJzZVZpZGVvRGF0YSh0LGwsZCx1LGkrbik7YnJlYWs7Y2FzZSAxODp0aGlzLl9wYXJzZVNjcmlwdERhdGEodCxsLGQpfXZhciBmPXMuZ2V0VWludDMyKDExK2QsIWEpO2YhPT0xMStkJiZyLmEudyh0aGlzLlRBRyxcIkludmFsaWQgUHJldlRhZ1NpemUgXCIrZiksbis9MTErZCs0fWVsc2Ugci5hLncodGhpcy5UQUcsXCJVbnN1cHBvcnRlZCB0YWcgdHlwZSBcIitvK1wiLCBza2lwcGVkXCIpLG4rPTExK2QrNH1yZXR1cm4gdGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkmJnRoaXMuX2Rpc3BhdGNoJiYodGhpcy5fYXVkaW9UcmFjay5sZW5ndGh8fHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSYmdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssdGhpcy5fdmlkZW9UcmFjayksbn0sZS5wcm90b3R5cGUuX3BhcnNlU2NyaXB0RGF0YT1mdW5jdGlvbihlLHQsaSl7dmFyIG49bC5wYXJzZVNjcmlwdERhdGEoZSx0LGkpO2lmKG4uaGFzT3duUHJvcGVydHkoXCJvbk1ldGFEYXRhXCIpKXtpZihudWxsPT1uLm9uTWV0YURhdGF8fFwib2JqZWN0XCIhPXR5cGVvZiBuLm9uTWV0YURhdGEpcmV0dXJuIHZvaWQgci5hLncodGhpcy5UQUcsXCJJbnZhbGlkIG9uTWV0YURhdGEgc3RydWN0dXJlIVwiKTt0aGlzLl9tZXRhZGF0YSYmci5hLncodGhpcy5UQUcsXCJGb3VuZCBhbm90aGVyIG9uTWV0YURhdGEgdGFnIVwiKSx0aGlzLl9tZXRhZGF0YT1uO3ZhciBhPXRoaXMuX21ldGFkYXRhLm9uTWV0YURhdGE7aWYodGhpcy5fb25NZXRhRGF0YUFycml2ZWQmJnRoaXMuX29uTWV0YURhdGFBcnJpdmVkKE9iamVjdC5hc3NpZ24oe30sYSkpLFwiYm9vbGVhblwiPT10eXBlb2YgYS5oYXNBdWRpbyYmITE9PT10aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQmJih0aGlzLl9oYXNBdWRpbz1hLmhhc0F1ZGlvLHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbz10aGlzLl9oYXNBdWRpbyksXCJib29sZWFuXCI9PXR5cGVvZiBhLmhhc1ZpZGVvJiYhMT09PXRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCYmKHRoaXMuX2hhc1ZpZGVvPWEuaGFzVmlkZW8sdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvPXRoaXMuX2hhc1ZpZGVvKSxcIm51bWJlclwiPT10eXBlb2YgYS5hdWRpb2RhdGFyYXRlJiYodGhpcy5fbWVkaWFJbmZvLmF1ZGlvRGF0YVJhdGU9YS5hdWRpb2RhdGFyYXRlKSxcIm51bWJlclwiPT10eXBlb2YgYS52aWRlb2RhdGFyYXRlJiYodGhpcy5fbWVkaWFJbmZvLnZpZGVvRGF0YVJhdGU9YS52aWRlb2RhdGFyYXRlKSxcIm51bWJlclwiPT10eXBlb2YgYS53aWR0aCYmKHRoaXMuX21lZGlhSW5mby53aWR0aD1hLndpZHRoKSxcIm51bWJlclwiPT10eXBlb2YgYS5oZWlnaHQmJih0aGlzLl9tZWRpYUluZm8uaGVpZ2h0PWEuaGVpZ2h0KSxcIm51bWJlclwiPT10eXBlb2YgYS5kdXJhdGlvbil7aWYoIXRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkKXt2YXIgcz1NYXRoLmZsb29yKGEuZHVyYXRpb24qdGhpcy5fdGltZXNjYWxlKTt0aGlzLl9kdXJhdGlvbj1zLHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbj1zfX1lbHNlIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbj0wO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBhLmZyYW1lcmF0ZSl7dmFyIG89TWF0aC5mbG9vcigxZTMqYS5mcmFtZXJhdGUpO2lmKG8+MCl7dmFyIGQ9by8xZTM7dGhpcy5fcmVmZXJlbmNlRnJhbWVSYXRlLmZpeGVkPSEwLHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHM9ZCx0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX251bT1vLHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHNfZGVuPTFlMyx0aGlzLl9tZWRpYUluZm8uZnBzPWR9fWlmKFwib2JqZWN0XCI9PXR5cGVvZiBhLmtleWZyYW1lcyl7dGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4PSEwO3ZhciBfPWEua2V5ZnJhbWVzO3RoaXMuX21lZGlhSW5mby5rZXlmcmFtZXNJbmRleD10aGlzLl9wYXJzZUtleWZyYW1lc0luZGV4KF8pLGEua2V5ZnJhbWVzPW51bGx9ZWxzZSB0aGlzLl9tZWRpYUluZm8uaGFzS2V5ZnJhbWVzSW5kZXg9ITE7dGhpcy5fZGlzcGF0Y2g9ITEsdGhpcy5fbWVkaWFJbmZvLm1ldGFkYXRhPWEsci5hLnYodGhpcy5UQUcsXCJQYXJzZWQgb25NZXRhRGF0YVwiKSx0aGlzLl9tZWRpYUluZm8uaXNDb21wbGV0ZSgpJiZ0aGlzLl9vbk1lZGlhSW5mbyh0aGlzLl9tZWRpYUluZm8pfU9iamVjdC5rZXlzKG4pLmxlbmd0aD4wJiZ0aGlzLl9vblNjcmlwdERhdGFBcnJpdmVkJiZ0aGlzLl9vblNjcmlwdERhdGFBcnJpdmVkKE9iamVjdC5hc3NpZ24oe30sbikpfSxlLnByb3RvdHlwZS5fcGFyc2VLZXlmcmFtZXNJbmRleD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10saT1bXSxuPTE7bjxlLnRpbWVzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMuX3RpbWVzdGFtcEJhc2UrTWF0aC5mbG9vcigxZTMqZS50aW1lc1tuXSk7dC5wdXNoKGEpLGkucHVzaChlLmZpbGVwb3NpdGlvbnNbbl0pfXJldHVybnt0aW1lczp0LGZpbGVwb3NpdGlvbnM6aX19LGUucHJvdG90eXBlLl9wYXJzZUF1ZGlvRGF0YT1mdW5jdGlvbihlLHQsaSxuKXtpZihpPD0xKXIuYS53KHRoaXMuVEFHLFwiRmx2OiBJbnZhbGlkIGF1ZGlvIHBhY2tldCwgbWlzc2luZyBTb3VuZERhdGEgcGF5bG9hZCFcIik7ZWxzZSBpZighMCE9PXRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZHx8ITEhPT10aGlzLl9oYXNBdWRpbyl7dGhpcy5fbGl0dGxlRW5kaWFuO3ZhciBhPW5ldyBEYXRhVmlldyhlLHQsaSkuZ2V0VWludDgoMCkscz1hPj4+NDtpZigyPT09c3x8MTA9PT1zKXt2YXIgbz0wLGQ9KDEyJmEpPj4+MjtpZihkPj0wJiZkPD00KXtvPXRoaXMuX2ZsdlNvdW5kUmF0ZVRhYmxlW2RdO3ZhciBfPTEmYSxoPXRoaXMuX2F1ZGlvTWV0YWRhdGEsYz10aGlzLl9hdWRpb1RyYWNrO2lmKGh8fCghMT09PXRoaXMuX2hhc0F1ZGlvJiYhMT09PXRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCYmKHRoaXMuX2hhc0F1ZGlvPSEwLHRoaXMuX21lZGlhSW5mby5oYXNBdWRpbz0hMCksKGg9dGhpcy5fYXVkaW9NZXRhZGF0YT17fSkudHlwZT1cImF1ZGlvXCIsaC5pZD1jLmlkLGgudGltZXNjYWxlPXRoaXMuX3RpbWVzY2FsZSxoLmR1cmF0aW9uPXRoaXMuX2R1cmF0aW9uLGguYXVkaW9TYW1wbGVSYXRlPW8saC5jaGFubmVsQ291bnQ9MD09PV8/MToyKSwxMD09PXMpe3ZhciB1PXRoaXMuX3BhcnNlQUFDQXVkaW9EYXRhKGUsdCsxLGktMSk7aWYobnVsbD09dSlyZXR1cm47aWYoMD09PXUucGFja2V0VHlwZSl7aWYoaC5jb25maWcpe2lmKFModS5kYXRhLmNvbmZpZyxoLmNvbmZpZykpcmV0dXJuO3IuYS53KHRoaXMuVEFHLFwiQXVkaW9TcGVjaWZpY0NvbmZpZyBoYXMgYmVlbiBjaGFuZ2VkLCByZS1nZW5lcmF0ZSBpbml0aWFsaXphdGlvbiBzZWdtZW50XCIpfXZhciBsPXUuZGF0YTtoLmF1ZGlvU2FtcGxlUmF0ZT1sLnNhbXBsaW5nUmF0ZSxoLmNoYW5uZWxDb3VudD1sLmNoYW5uZWxDb3VudCxoLmNvZGVjPWwuY29kZWMsaC5vcmlnaW5hbENvZGVjPWwub3JpZ2luYWxDb2RlYyxoLmNvbmZpZz1sLmNvbmZpZyxoLnJlZlNhbXBsZUR1cmF0aW9uPTEwMjQvaC5hdWRpb1NhbXBsZVJhdGUqaC50aW1lc2NhbGUsci5hLnYodGhpcy5UQUcsXCJQYXJzZWQgQXVkaW9TcGVjaWZpY0NvbmZpZ1wiKSx0aGlzLl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQoKT90aGlzLl9kaXNwYXRjaCYmKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RofHx0aGlzLl92aWRlb1RyYWNrLmxlbmd0aCkmJnRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLHRoaXMuX3ZpZGVvVHJhY2spOnRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZD0hMCx0aGlzLl9kaXNwYXRjaD0hMSx0aGlzLl9vblRyYWNrTWV0YWRhdGEoXCJhdWRpb1wiLGgpLChnPXRoaXMuX21lZGlhSW5mbykuYXVkaW9Db2RlYz1oLm9yaWdpbmFsQ29kZWMsZy5hdWRpb1NhbXBsZVJhdGU9aC5hdWRpb1NhbXBsZVJhdGUsZy5hdWRpb0NoYW5uZWxDb3VudD1oLmNoYW5uZWxDb3VudCxnLmhhc1ZpZGVvP251bGwhPWcudmlkZW9Db2RlYyYmKGcubWltZVR5cGU9J3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInK2cudmlkZW9Db2RlYytcIixcIitnLmF1ZGlvQ29kZWMrJ1wiJyk6Zy5taW1lVHlwZT0ndmlkZW8veC1mbHY7IGNvZGVjcz1cIicrZy5hdWRpb0NvZGVjKydcIicsZy5pc0NvbXBsZXRlKCkmJnRoaXMuX29uTWVkaWFJbmZvKGcpfWVsc2UgaWYoMT09PXUucGFja2V0VHlwZSl7dmFyIGY9dGhpcy5fdGltZXN0YW1wQmFzZStuLHA9e3VuaXQ6dS5kYXRhLGxlbmd0aDp1LmRhdGEuYnl0ZUxlbmd0aCxkdHM6ZixwdHM6Zn07Yy5zYW1wbGVzLnB1c2gocCksYy5sZW5ndGgrPXUuZGF0YS5sZW5ndGh9ZWxzZSByLmEuZSh0aGlzLlRBRyxcIkZsdjogVW5zdXBwb3J0ZWQgQUFDIGRhdGEgdHlwZSBcIit1LnBhY2tldFR5cGUpfWVsc2UgaWYoMj09PXMpe2lmKCFoLmNvZGVjKXt2YXIgZztpZihudWxsPT0obD10aGlzLl9wYXJzZU1QM0F1ZGlvRGF0YShlLHQrMSxpLTEsITApKSlyZXR1cm47aC5hdWRpb1NhbXBsZVJhdGU9bC5zYW1wbGluZ1JhdGUsaC5jaGFubmVsQ291bnQ9bC5jaGFubmVsQ291bnQsaC5jb2RlYz1sLmNvZGVjLGgub3JpZ2luYWxDb2RlYz1sLm9yaWdpbmFsQ29kZWMsaC5yZWZTYW1wbGVEdXJhdGlvbj0xMTUyL2guYXVkaW9TYW1wbGVSYXRlKmgudGltZXNjYWxlLHIuYS52KHRoaXMuVEFHLFwiUGFyc2VkIE1QRUcgQXVkaW8gRnJhbWUgSGVhZGVyXCIpLHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZD0hMCx0aGlzLl9vblRyYWNrTWV0YWRhdGEoXCJhdWRpb1wiLGgpLChnPXRoaXMuX21lZGlhSW5mbykuYXVkaW9Db2RlYz1oLmNvZGVjLGcuYXVkaW9TYW1wbGVSYXRlPWguYXVkaW9TYW1wbGVSYXRlLGcuYXVkaW9DaGFubmVsQ291bnQ9aC5jaGFubmVsQ291bnQsZy5hdWRpb0RhdGFSYXRlPWwuYml0UmF0ZSxnLmhhc1ZpZGVvP251bGwhPWcudmlkZW9Db2RlYyYmKGcubWltZVR5cGU9J3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInK2cudmlkZW9Db2RlYytcIixcIitnLmF1ZGlvQ29kZWMrJ1wiJyk6Zy5taW1lVHlwZT0ndmlkZW8veC1mbHY7IGNvZGVjcz1cIicrZy5hdWRpb0NvZGVjKydcIicsZy5pc0NvbXBsZXRlKCkmJnRoaXMuX29uTWVkaWFJbmZvKGcpfXZhciB2PXRoaXMuX3BhcnNlTVAzQXVkaW9EYXRhKGUsdCsxLGktMSwhMSk7aWYobnVsbD09dilyZXR1cm47Zj10aGlzLl90aW1lc3RhbXBCYXNlK247dmFyIHk9e3VuaXQ6dixsZW5ndGg6di5ieXRlTGVuZ3RoLGR0czpmLHB0czpmfTtjLnNhbXBsZXMucHVzaCh5KSxjLmxlbmd0aCs9di5sZW5ndGh9fWVsc2UgdGhpcy5fb25FcnJvcihtLmEuRk9STUFUX0VSUk9SLFwiRmx2OiBJbnZhbGlkIGF1ZGlvIHNhbXBsZSByYXRlIGlkeDogXCIrZCl9ZWxzZSB0aGlzLl9vbkVycm9yKG0uYS5DT0RFQ19VTlNVUFBPUlRFRCxcIkZsdjogVW5zdXBwb3J0ZWQgYXVkaW8gY29kZWMgaWR4OiBcIitzKX19LGUucHJvdG90eXBlLl9wYXJzZUFBQ0F1ZGlvRGF0YT1mdW5jdGlvbihlLHQsaSl7aWYoIShpPD0xKSl7dmFyIG49e30sYT1uZXcgVWludDhBcnJheShlLHQsaSk7cmV0dXJuIG4ucGFja2V0VHlwZT1hWzBdLDA9PT1hWzBdP24uZGF0YT10aGlzLl9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWcoZSx0KzEsaS0xKTpuLmRhdGE9YS5zdWJhcnJheSgxKSxufXIuYS53KHRoaXMuVEFHLFwiRmx2OiBJbnZhbGlkIEFBQyBwYWNrZXQsIG1pc3NpbmcgQUFDUGFja2V0VHlwZSBvci9hbmQgRGF0YSFcIil9LGUucHJvdG90eXBlLl9wYXJzZUFBQ0F1ZGlvU3BlY2lmaWNDb25maWc9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLGEscj1uZXcgVWludDhBcnJheShlLHQsaSkscz1udWxsLG89MCxkPW51bGw7aWYobz1uPXJbMF0+Pj4zLChhPSg3JnJbMF0pPDwxfHJbMV0+Pj43KTwwfHxhPj10aGlzLl9tcGVnU2FtcGxpbmdSYXRlcy5sZW5ndGgpdGhpcy5fb25FcnJvcihtLmEuRk9STUFUX0VSUk9SLFwiRmx2OiBBQUMgaW52YWxpZCBzYW1wbGluZyBmcmVxdWVuY3kgaW5kZXghXCIpO2Vsc2V7dmFyIF89dGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXNbYV0saD0oMTIwJnJbMV0pPj4+MztpZighKGg8MHx8aD49OCkpezU9PT1vJiYoZD0oNyZyWzFdKTw8MXxyWzJdPj4+NywoMTI0JnJbMl0pPj4+Mik7dmFyIGM9c2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7cmV0dXJuLTEhPT1jLmluZGV4T2YoXCJmaXJlZm94XCIpP2E+PTY/KG89NSxzPW5ldyBBcnJheSg0KSxkPWEtMyk6KG89MixzPW5ldyBBcnJheSgyKSxkPWEpOi0xIT09Yy5pbmRleE9mKFwiYW5kcm9pZFwiKT8obz0yLHM9bmV3IEFycmF5KDIpLGQ9YSk6KG89NSxkPWEscz1uZXcgQXJyYXkoNCksYT49Nj9kPWEtMzoxPT09aCYmKG89MixzPW5ldyBBcnJheSgyKSxkPWEpKSxzWzBdPW88PDMsc1swXXw9KDE1JmEpPj4+MSxzWzFdPSgxNSZhKTw8NyxzWzFdfD0oMTUmaCk8PDMsNT09PW8mJihzWzFdfD0oMTUmZCk+Pj4xLHNbMl09KDEmZCk8PDcsc1syXXw9OCxzWzNdPTApLHtjb25maWc6cyxzYW1wbGluZ1JhdGU6XyxjaGFubmVsQ291bnQ6aCxjb2RlYzpcIm1wNGEuNDAuXCIrbyxvcmlnaW5hbENvZGVjOlwibXA0YS40MC5cIitufX10aGlzLl9vbkVycm9yKG0uYS5GT1JNQVRfRVJST1IsXCJGbHY6IEFBQyBpbnZhbGlkIGNoYW5uZWwgY29uZmlndXJhdGlvblwiKX19LGUucHJvdG90eXBlLl9wYXJzZU1QM0F1ZGlvRGF0YT1mdW5jdGlvbihlLHQsaSxuKXtpZighKGk8NCkpe3RoaXMuX2xpdHRsZUVuZGlhbjt2YXIgYT1uZXcgVWludDhBcnJheShlLHQsaSkscz1udWxsO2lmKG4pe2lmKDI1NSE9PWFbMF0pcmV0dXJuO3ZhciBvPWFbMV0+Pj4zJjMsZD0oNiZhWzFdKT4+MSxfPSgyNDAmYVsyXSk+Pj40LGg9KDEyJmFbMl0pPj4+MixjPTMhPT0oYVszXT4+PjYmMyk/MjoxLHU9MCxsPTA7c3dpdGNoKG8pe2Nhc2UgMDp1PXRoaXMuX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZVtoXTticmVhaztjYXNlIDI6dT10aGlzLl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGVbaF07YnJlYWs7Y2FzZSAzOnU9dGhpcy5fbXBlZ0F1ZGlvVjEwU2FtcGxlUmF0ZVRhYmxlW2hdfXN3aXRjaChkKXtjYXNlIDE6MzQsXzx0aGlzLl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZS5sZW5ndGgmJihsPXRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlW19dKTticmVhaztjYXNlIDI6MzMsXzx0aGlzLl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZS5sZW5ndGgmJihsPXRoaXMuX21wZWdBdWRpb0wyQml0UmF0ZVRhYmxlW19dKTticmVhaztjYXNlIDM6MzIsXzx0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZS5sZW5ndGgmJihsPXRoaXMuX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlW19dKX1zPXtiaXRSYXRlOmwsc2FtcGxpbmdSYXRlOnUsY2hhbm5lbENvdW50OmMsY29kZWM6XCJtcDNcIixvcmlnaW5hbENvZGVjOlwibXAzXCJ9fWVsc2Ugcz1hO3JldHVybiBzfXIuYS53KHRoaXMuVEFHLFwiRmx2OiBJbnZhbGlkIE1QMyBwYWNrZXQsIGhlYWRlciBtaXNzaW5nIVwiKX0sZS5wcm90b3R5cGUuX3BhcnNlVmlkZW9EYXRhPWZ1bmN0aW9uKGUsdCxpLG4sYSl7aWYoaTw9MSlyLmEudyh0aGlzLlRBRyxcIkZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQsIG1pc3NpbmcgVmlkZW9EYXRhIHBheWxvYWQhXCIpO2Vsc2UgaWYoITAhPT10aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWR8fCExIT09dGhpcy5faGFzVmlkZW8pe3ZhciBzPW5ldyBVaW50OEFycmF5KGUsdCxpKVswXSxvPSgxMTImcyk+Pj40O2lmKDAhPSgxMjgmcykpe3ZhciBkPTE1JnMsXz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuZXcgVWludDhBcnJheShlLHQsaSkuc2xpY2UoMSw1KSk7aWYoXCJodmMxXCIhPT1fKXJldHVybiB2b2lkIHRoaXMuX29uRXJyb3IobS5hLkNPREVDX1VOU1VQUE9SVEVELFwiRmx2OiBVbnN1cHBvcnRlZCBjb2RlYyBpbiB2aWRlbyBmcmFtZTogXCIrXyk7dGhpcy5fcGFyc2VFbmhhbmNlZEhFVkNWaWRlb1BhY2tldChlLHQrNSxpLTUsbixhLG8sZCl9ZWxzZXt2YXIgaD0xNSZzO2lmKDc9PT1oKXRoaXMuX3BhcnNlQVZDVmlkZW9QYWNrZXQoZSx0KzEsaS0xLG4sYSxvKTtlbHNle2lmKDEyIT09aClyZXR1cm4gdm9pZCB0aGlzLl9vbkVycm9yKG0uYS5DT0RFQ19VTlNVUFBPUlRFRCxcIkZsdjogVW5zdXBwb3J0ZWQgY29kZWMgaW4gdmlkZW8gZnJhbWU6IFwiK2gpO3RoaXMuX3BhcnNlSEVWQ1ZpZGVvUGFja2V0KGUsdCsxLGktMSxuLGEsbyl9fX19LGUucHJvdG90eXBlLl9wYXJzZUFWQ1ZpZGVvUGFja2V0PWZ1bmN0aW9uKGUsdCxpLG4sYSxzKXtpZihpPDQpci5hLncodGhpcy5UQUcsXCJGbHY6IEludmFsaWQgQVZDIHBhY2tldCwgbWlzc2luZyBBVkNQYWNrZXRUeXBlIG9yL2FuZCBDb21wb3NpdGlvblRpbWVcIik7ZWxzZXt2YXIgbz10aGlzLl9saXR0bGVFbmRpYW4sZD1uZXcgRGF0YVZpZXcoZSx0LGkpLF89ZC5nZXRVaW50OCgwKSxoPSgxNjc3NzIxNSZkLmdldFVpbnQzMigwLCFvKSk8PDg+Pjg7aWYoMD09PV8pdGhpcy5fcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChlLHQrNCxpLTQpO2Vsc2UgaWYoMT09PV8pdGhpcy5fcGFyc2VBVkNWaWRlb0RhdGEoZSx0KzQsaS00LG4sYSxzLGgpO2Vsc2UgaWYoMiE9PV8pcmV0dXJuIHZvaWQgdGhpcy5fb25FcnJvcihtLmEuRk9STUFUX0VSUk9SLFwiRmx2OiBJbnZhbGlkIHZpZGVvIHBhY2tldCB0eXBlIFwiK18pfX0sZS5wcm90b3R5cGUuX3BhcnNlSEVWQ1ZpZGVvUGFja2V0PWZ1bmN0aW9uKGUsdCxpLG4sYSxzKXtpZihpPDQpci5hLncodGhpcy5UQUcsXCJGbHY6IEludmFsaWQgSEVWQyBwYWNrZXQsIG1pc3NpbmcgSEVWQ1BhY2tldFR5cGUgb3IvYW5kIENvbXBvc2l0aW9uVGltZVwiKTtlbHNle3ZhciBvPXRoaXMuX2xpdHRsZUVuZGlhbixkPW5ldyBEYXRhVmlldyhlLHQsaSksXz1kLmdldFVpbnQ4KDApLGg9KDE2Nzc3MjE1JmQuZ2V0VWludDMyKDAsIW8pKTw8OD4+ODtpZigwPT09Xyl0aGlzLl9wYXJzZUhFVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChlLHQrNCxpLTQpO2Vsc2UgaWYoMT09PV8pdGhpcy5fcGFyc2VIRVZDVmlkZW9EYXRhKGUsdCs0LGktNCxuLGEscyxoKTtlbHNlIGlmKDIhPT1fKXJldHVybiB2b2lkIHRoaXMuX29uRXJyb3IobS5hLkZPUk1BVF9FUlJPUixcIkZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQgdHlwZSBcIitfKX19LGUucHJvdG90eXBlLl9wYXJzZUVuaGFuY2VkSEVWQ1ZpZGVvUGFja2V0PWZ1bmN0aW9uKGUsdCxpLG4sYSxzLG8pe2lmKGk8NClyLmEudyh0aGlzLlRBRyxcIkZsdjogSW52YWxpZCBIRVZDIHBhY2tldCwgbWlzc2luZyBIRVZDUGFja2V0VHlwZSBvci9hbmQgQ29tcG9zaXRpb25UaW1lXCIpO2Vsc2V7dmFyIGQ9dGhpcy5fbGl0dGxlRW5kaWFuLF89bmV3IERhdGFWaWV3KGUsdCxpKTtpZigwPT09byl0aGlzLl9wYXJzZUhFVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChlLHQsaSk7ZWxzZSBpZigxPT09byl7dmFyIGg9KDQyOTQ5NjcwNDAmXy5nZXRVaW50MzIoMCwhZCkpPj44O3RoaXMuX3BhcnNlSEVWQ1ZpZGVvRGF0YShlLHQrMyxpLTMsbixhLHMsaCl9ZWxzZSBpZigzPT09byl0aGlzLl9wYXJzZUhFVkNWaWRlb0RhdGEoZSx0LGksbixhLHMsMCk7ZWxzZSBpZigyIT09bylyZXR1cm4gdm9pZCB0aGlzLl9vbkVycm9yKG0uYS5GT1JNQVRfRVJST1IsXCJGbHY6IEludmFsaWQgdmlkZW8gcGFja2V0IHR5cGUgXCIrbyl9fSxlLnByb3RvdHlwZS5fcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZD1mdW5jdGlvbihlLHQsaSl7aWYoaTw3KXIuYS53KHRoaXMuVEFHLFwiRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkLCBsYWNrIG9mIGRhdGEhXCIpO2Vsc2V7dmFyIG49dGhpcy5fdmlkZW9NZXRhZGF0YSxhPXRoaXMuX3ZpZGVvVHJhY2sscz10aGlzLl9saXR0bGVFbmRpYW4sbz1uZXcgRGF0YVZpZXcoZSx0LGkpO2lmKG4pe2lmKHZvaWQgMCE9PW4uYXZjYyl7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoZSx0LGkpO2lmKFMoZCxuLmF2Y2MpKXJldHVybjtyLmEudyh0aGlzLlRBRyxcIkFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIGhhcyBiZWVuIGNoYW5nZWQsIHJlLWdlbmVyYXRlIGluaXRpYWxpemF0aW9uIHNlZ21lbnRcIil9fWVsc2UhMT09PXRoaXMuX2hhc1ZpZGVvJiYhMT09PXRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCYmKHRoaXMuX2hhc1ZpZGVvPSEwLHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbz0hMCksKG49dGhpcy5fdmlkZW9NZXRhZGF0YT17fSkudHlwZT1cInZpZGVvXCIsbi5pZD1hLmlkLG4udGltZXNjYWxlPXRoaXMuX3RpbWVzY2FsZSxuLmR1cmF0aW9uPXRoaXMuX2R1cmF0aW9uO3ZhciBfPW8uZ2V0VWludDgoMCksaD1vLmdldFVpbnQ4KDEpO28uZ2V0VWludDgoMiksby5nZXRVaW50OCgzKTtpZigxPT09XyYmMCE9PWgpaWYodGhpcy5fbmFsdUxlbmd0aFNpemU9MSsoMyZvLmdldFVpbnQ4KDQpKSwzPT09dGhpcy5fbmFsdUxlbmd0aFNpemV8fDQ9PT10aGlzLl9uYWx1TGVuZ3RoU2l6ZSl7dmFyIGM9MzEmby5nZXRVaW50OCg1KTtpZigwIT09Yyl7Yz4xJiZyLmEudyh0aGlzLlRBRyxcIkZsdjogU3RyYW5nZSBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogU1BTIENvdW50ID0gXCIrYyk7Zm9yKHZhciB1PTYsbD0wO2w8YztsKyspe3ZhciBmPW8uZ2V0VWludDE2KHUsIXMpO2lmKHUrPTIsMCE9PWYpe3ZhciBnPW5ldyBVaW50OEFycmF5KGUsdCt1LGYpO3UrPWY7dmFyIHY9cC5wYXJzZVNQUyhnKTtpZigwPT09bCl7bi5jb2RlY1dpZHRoPXYuY29kZWNfc2l6ZS53aWR0aCxuLmNvZGVjSGVpZ2h0PXYuY29kZWNfc2l6ZS5oZWlnaHQsbi5wcmVzZW50V2lkdGg9di5wcmVzZW50X3NpemUud2lkdGgsbi5wcmVzZW50SGVpZ2h0PXYucHJlc2VudF9zaXplLmhlaWdodCxuLnByb2ZpbGU9di5wcm9maWxlX3N0cmluZyxuLmxldmVsPXYubGV2ZWxfc3RyaW5nLG4uYml0RGVwdGg9di5iaXRfZGVwdGgsbi5jaHJvbWFGb3JtYXQ9di5jaHJvbWFfZm9ybWF0LG4uc2FyUmF0aW89di5zYXJfcmF0aW8sbi5mcmFtZVJhdGU9di5mcmFtZV9yYXRlLCExIT09di5mcmFtZV9yYXRlLmZpeGVkJiYwIT09di5mcmFtZV9yYXRlLmZwc19udW0mJjAhPT12LmZyYW1lX3JhdGUuZnBzX2Rlbnx8KG4uZnJhbWVSYXRlPXRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZSk7dmFyIHk9bi5mcmFtZVJhdGUuZnBzX2RlbixiPW4uZnJhbWVSYXRlLmZwc19udW07bi5yZWZTYW1wbGVEdXJhdGlvbj1uLnRpbWVzY2FsZSooeS9iKTtmb3IodmFyIEU9Zy5zdWJhcnJheSgxLDQpLEE9XCJhdmMxLlwiLFI9MDtSPDM7UisrKXt2YXIgVD1FW1JdLnRvU3RyaW5nKDE2KTtULmxlbmd0aDwyJiYoVD1cIjBcIitUKSxBKz1UfW4uY29kZWM9QTt2YXIgTD10aGlzLl9tZWRpYUluZm87TC53aWR0aD1uLmNvZGVjV2lkdGgsTC5oZWlnaHQ9bi5jb2RlY0hlaWdodCxMLmZwcz1uLmZyYW1lUmF0ZS5mcHMsTC5wcm9maWxlPW4ucHJvZmlsZSxMLmxldmVsPW4ubGV2ZWwsTC5yZWZGcmFtZXM9di5yZWZfZnJhbWVzLEwuY2hyb21hRm9ybWF0PXYuY2hyb21hX2Zvcm1hdF9zdHJpbmcsTC5zYXJOdW09bi5zYXJSYXRpby53aWR0aCxMLnNhckRlbj1uLnNhclJhdGlvLmhlaWdodCxMLnZpZGVvQ29kZWM9QSxMLmhhc0F1ZGlvP251bGwhPUwuYXVkaW9Db2RlYyYmKEwubWltZVR5cGU9J3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInK0wudmlkZW9Db2RlYytcIixcIitMLmF1ZGlvQ29kZWMrJ1wiJyk6TC5taW1lVHlwZT0ndmlkZW8veC1mbHY7IGNvZGVjcz1cIicrTC52aWRlb0NvZGVjKydcIicsTC5pc0NvbXBsZXRlKCkmJnRoaXMuX29uTWVkaWFJbmZvKEwpfX19dmFyIHc9by5nZXRVaW50OCh1KTtpZigwIT09dyl7dz4xJiZyLmEudyh0aGlzLlRBRyxcIkZsdjogU3RyYW5nZSBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogUFBTIENvdW50ID0gXCIrdyksdSsrO2ZvcihsPTA7bDx3O2wrKyl7Zj1vLmdldFVpbnQxNih1LCFzKTt1Kz0yLDAhPT1mJiYodSs9Zil9bi5hdmNjPW5ldyBVaW50OEFycmF5KGkpLG4uYXZjYy5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LGkpLDApLHIuYS52KHRoaXMuVEFHLFwiUGFyc2VkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkXCIpLHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpP3RoaXMuX2Rpc3BhdGNoJiYodGhpcy5fYXVkaW9UcmFjay5sZW5ndGh8fHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSYmdGhpcy5fb25EYXRhQXZhaWxhYmxlKHRoaXMuX2F1ZGlvVHJhY2ssdGhpcy5fdmlkZW9UcmFjayk6dGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkPSEwLHRoaXMuX2Rpc3BhdGNoPSExLHRoaXMuX29uVHJhY2tNZXRhZGF0YShcInZpZGVvXCIsbil9ZWxzZSB0aGlzLl9vbkVycm9yKG0uYS5GT1JNQVRfRVJST1IsXCJGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IE5vIFBQU1wiKX1lbHNlIHRoaXMuX29uRXJyb3IobS5hLkZPUk1BVF9FUlJPUixcIkZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZDogTm8gU1BTXCIpfWVsc2UgdGhpcy5fb25FcnJvcihtLmEuRk9STUFUX0VSUk9SLFwiRmx2OiBTdHJhbmdlIE5hbHVMZW5ndGhTaXplTWludXNPbmU6IFwiKyh0aGlzLl9uYWx1TGVuZ3RoU2l6ZS0xKSk7ZWxzZSB0aGlzLl9vbkVycm9yKG0uYS5GT1JNQVRfRVJST1IsXCJGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmRcIil9fSxlLnByb3RvdHlwZS5fcGFyc2VIRVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ9ZnVuY3Rpb24oZSx0LGkpe2lmKGk8MjIpci5hLncodGhpcy5UQUcsXCJGbHY6IEludmFsaWQgSEVWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkLCBsYWNrIG9mIGRhdGEhXCIpO2Vsc2V7dmFyIG49dGhpcy5fdmlkZW9NZXRhZGF0YSxhPXRoaXMuX3ZpZGVvVHJhY2sscz10aGlzLl9saXR0bGVFbmRpYW4sbz1uZXcgRGF0YVZpZXcoZSx0LGkpO2lmKG4pe2lmKHZvaWQgMCE9PW4uaHZjYyl7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoZSx0LGkpO2lmKFMoZCxuLmh2Y2MpKXJldHVybjtyLmEudyh0aGlzLlRBRyxcIkhFVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCBoYXMgYmVlbiBjaGFuZ2VkLCByZS1nZW5lcmF0ZSBpbml0aWFsaXphdGlvbiBzZWdtZW50XCIpfX1lbHNlITE9PT10aGlzLl9oYXNWaWRlbyYmITE9PT10aGlzLl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQmJih0aGlzLl9oYXNWaWRlbz0hMCx0aGlzLl9tZWRpYUluZm8uaGFzVmlkZW89ITApLChuPXRoaXMuX3ZpZGVvTWV0YWRhdGE9e30pLnR5cGU9XCJ2aWRlb1wiLG4uaWQ9YS5pZCxuLnRpbWVzY2FsZT10aGlzLl90aW1lc2NhbGUsbi5kdXJhdGlvbj10aGlzLl9kdXJhdGlvbjt2YXIgXz1vLmdldFVpbnQ4KDApLGg9MzEmby5nZXRVaW50OCgxKTtpZigxPT09XyYmMCE9PWgpaWYodGhpcy5fbmFsdUxlbmd0aFNpemU9MSsoMyZvLmdldFVpbnQ4KDIxKSksMz09PXRoaXMuX25hbHVMZW5ndGhTaXplfHw0PT09dGhpcy5fbmFsdUxlbmd0aFNpemUpe2Zvcih2YXIgYz1vLmdldFVpbnQ4KDIyKSx1PTAsbD0yMzt1PGM7dSsrKXt2YXIgZj02MyZvLmdldFVpbnQ4KGwrMCkscD1vLmdldFVpbnQxNihsKzEsIXMpO2wrPTM7Zm9yKHZhciB2PTA7djxwO3YrKyl7dmFyIHk9by5nZXRVaW50MTYobCswLCFzKTtpZigwPT09dilpZigzMz09PWYpe2wrPTI7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoZSx0K2wseSksRT1nLnBhcnNlU1BTKGIpO24uY29kZWNXaWR0aD1FLmNvZGVjX3NpemUud2lkdGgsbi5jb2RlY0hlaWdodD1FLmNvZGVjX3NpemUuaGVpZ2h0LG4ucHJlc2VudFdpZHRoPUUucHJlc2VudF9zaXplLndpZHRoLG4ucHJlc2VudEhlaWdodD1FLnByZXNlbnRfc2l6ZS5oZWlnaHQsbi5wcm9maWxlPUUucHJvZmlsZV9zdHJpbmcsbi5sZXZlbD1FLmxldmVsX3N0cmluZyxuLmJpdERlcHRoPUUuYml0X2RlcHRoLG4uY2hyb21hRm9ybWF0PUUuY2hyb21hX2Zvcm1hdCxuLnNhclJhdGlvPUUuc2FyX3JhdGlvLG4uZnJhbWVSYXRlPUUuZnJhbWVfcmF0ZSwhMSE9PUUuZnJhbWVfcmF0ZS5maXhlZCYmMCE9PUUuZnJhbWVfcmF0ZS5mcHNfbnVtJiYwIT09RS5mcmFtZV9yYXRlLmZwc19kZW58fChuLmZyYW1lUmF0ZT10aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUpO3ZhciBBPW4uZnJhbWVSYXRlLmZwc19kZW4sUj1uLmZyYW1lUmF0ZS5mcHNfbnVtO24ucmVmU2FtcGxlRHVyYXRpb249bi50aW1lc2NhbGUqKEEvUiksbi5jb2RlYz1FLmNvZGVjX21pbWV0eXBlO3ZhciBUPXRoaXMuX21lZGlhSW5mbztULndpZHRoPW4uY29kZWNXaWR0aCxULmhlaWdodD1uLmNvZGVjSGVpZ2h0LFQuZnBzPW4uZnJhbWVSYXRlLmZwcyxULnByb2ZpbGU9bi5wcm9maWxlLFQubGV2ZWw9bi5sZXZlbCxULnJlZkZyYW1lcz1FLnJlZl9mcmFtZXMsVC5jaHJvbWFGb3JtYXQ9RS5jaHJvbWFfZm9ybWF0X3N0cmluZyxULnNhck51bT1uLnNhclJhdGlvLndpZHRoLFQuc2FyRGVuPW4uc2FyUmF0aW8uaGVpZ2h0LFQudmlkZW9Db2RlYz1FLmNvZGVjX21pbWV0eXBlLFQuaGFzQXVkaW8/bnVsbCE9VC5hdWRpb0NvZGVjJiYoVC5taW1lVHlwZT0ndmlkZW8veC1mbHY7IGNvZGVjcz1cIicrVC52aWRlb0NvZGVjK1wiLFwiK1QuYXVkaW9Db2RlYysnXCInKTpULm1pbWVUeXBlPSd2aWRlby94LWZsdjsgY29kZWNzPVwiJytULnZpZGVvQ29kZWMrJ1wiJyxULmlzQ29tcGxldGUoKSYmdGhpcy5fb25NZWRpYUluZm8oVCksbCs9eX1lbHNlIGwrPTIreTtlbHNlIGwrPTIreX19bi5odmNjPW5ldyBVaW50OEFycmF5KGkpLG4uaHZjYy5zZXQobmV3IFVpbnQ4QXJyYXkoZSx0LGkpLDApLHIuYS52KHRoaXMuVEFHLFwiUGFyc2VkIEhFVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZFwiKSx0aGlzLl9pc0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQoKT90aGlzLl9kaXNwYXRjaCYmKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RofHx0aGlzLl92aWRlb1RyYWNrLmxlbmd0aCkmJnRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLHRoaXMuX3ZpZGVvVHJhY2spOnRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZD0hMCx0aGlzLl9kaXNwYXRjaD0hMSx0aGlzLl9vblRyYWNrTWV0YWRhdGEoXCJ2aWRlb1wiLG4pfWVsc2UgdGhpcy5fb25FcnJvcihtLmEuRk9STUFUX0VSUk9SLFwiRmx2OiBTdHJhbmdlIE5hbHVMZW5ndGhTaXplTWludXNPbmU6IFwiKyh0aGlzLl9uYWx1TGVuZ3RoU2l6ZS0xKSk7ZWxzZSB0aGlzLl9vbkVycm9yKG0uYS5GT1JNQVRfRVJST1IsXCJGbHY6IEludmFsaWQgSEVWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkXCIpfX0sZS5wcm90b3R5cGUuX3BhcnNlQVZDVmlkZW9EYXRhPWZ1bmN0aW9uKGUsdCxpLG4sYSxzLG8pe2Zvcih2YXIgZD10aGlzLl9saXR0bGVFbmRpYW4sXz1uZXcgRGF0YVZpZXcoZSx0LGkpLGg9W10sYz0wLHU9MCxsPXRoaXMuX25hbHVMZW5ndGhTaXplLGY9dGhpcy5fdGltZXN0YW1wQmFzZStuLHA9MT09PXM7dTxpOyl7aWYodSs0Pj1pKXtyLmEudyh0aGlzLlRBRyxcIk1hbGZvcm1lZCBOYWx1IG5lYXIgdGltZXN0YW1wIFwiK2YrXCIsIG9mZnNldCA9IFwiK3UrXCIsIGRhdGFTaXplID0gXCIraSk7YnJlYWt9dmFyIG09Xy5nZXRVaW50MzIodSwhZCk7aWYoMz09PWwmJihtPj4+PTgpLG0+aS1sKXJldHVybiB2b2lkIHIuYS53KHRoaXMuVEFHLFwiTWFsZm9ybWVkIE5hbHVzIG5lYXIgdGltZXN0YW1wIFwiK2YrXCIsIE5hbHVTaXplID4gRGF0YVNpemUhXCIpO3ZhciBnPTMxJl8uZ2V0VWludDgodStsKTs1PT09ZyYmKHA9ITApO3ZhciB2PW5ldyBVaW50OEFycmF5KGUsdCt1LGwrbSkseT17dHlwZTpnLGRhdGE6dn07aC5wdXNoKHkpLGMrPXYuYnl0ZUxlbmd0aCx1Kz1sK219aWYoaC5sZW5ndGgpe3ZhciBiPXRoaXMuX3ZpZGVvVHJhY2ssUz17dW5pdHM6aCxsZW5ndGg6Yyxpc0tleWZyYW1lOnAsZHRzOmYsY3RzOm8scHRzOmYrb307cCYmKFMuZmlsZXBvc2l0aW9uPWEpLGIuc2FtcGxlcy5wdXNoKFMpLGIubGVuZ3RoKz1jfX0sZS5wcm90b3R5cGUuX3BhcnNlSEVWQ1ZpZGVvRGF0YT1mdW5jdGlvbihlLHQsaSxuLGEscyxvKXtmb3IodmFyIGQ9dGhpcy5fbGl0dGxlRW5kaWFuLF89bmV3IERhdGFWaWV3KGUsdCxpKSxoPVtdLGM9MCx1PTAsbD10aGlzLl9uYWx1TGVuZ3RoU2l6ZSxmPXRoaXMuX3RpbWVzdGFtcEJhc2UrbixwPTE9PT1zO3U8aTspe2lmKHUrND49aSl7ci5hLncodGhpcy5UQUcsXCJNYWxmb3JtZWQgTmFsdSBuZWFyIHRpbWVzdGFtcCBcIitmK1wiLCBvZmZzZXQgPSBcIit1K1wiLCBkYXRhU2l6ZSA9IFwiK2kpO2JyZWFrfXZhciBtPV8uZ2V0VWludDMyKHUsIWQpO2lmKDM9PT1sJiYobT4+Pj04KSxtPmktbClyZXR1cm4gdm9pZCByLmEudyh0aGlzLlRBRyxcIk1hbGZvcm1lZCBOYWx1cyBuZWFyIHRpbWVzdGFtcCBcIitmK1wiLCBOYWx1U2l6ZSA+IERhdGFTaXplIVwiKTt2YXIgZz0zMSZfLmdldFVpbnQ4KHUrbCk7MTkhPT1nJiYyMCE9PWd8fChwPSEwKTt2YXIgdj1uZXcgVWludDhBcnJheShlLHQrdSxsK20pLHk9e3R5cGU6ZyxkYXRhOnZ9O2gucHVzaCh5KSxjKz12LmJ5dGVMZW5ndGgsdSs9bCttfWlmKGgubGVuZ3RoKXt2YXIgYj10aGlzLl92aWRlb1RyYWNrLFM9e3VuaXRzOmgsbGVuZ3RoOmMsaXNLZXlmcmFtZTpwLGR0czpmLGN0czpvLHB0czpmK299O3AmJihTLmZpbGVwb3NpdGlvbj1hKSxiLnNhbXBsZXMucHVzaChTKSxiLmxlbmd0aCs9Y319LGV9KCksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLm9uRXJyb3I9bnVsbCx0aGlzLm9uTWVkaWFJbmZvPW51bGwsdGhpcy5vbk1ldGFEYXRhQXJyaXZlZD1udWxsLHRoaXMub25UcmFja01ldGFkYXRhPW51bGwsdGhpcy5vbkRhdGFBdmFpbGFibGU9bnVsbCx0aGlzLm9uVGltZWRJRDNNZXRhZGF0YT1udWxsLHRoaXMub25TTVBURTIwMzhNZXRhZGF0YT1udWxsLHRoaXMub25TQ1RFMzVNZXRhZGF0YT1udWxsLHRoaXMub25QRVNQcml2YXRlRGF0YT1udWxsLHRoaXMub25QRVNQcml2YXRlRGF0YURlc2NyaXB0b3I9bnVsbH0sZX0oKSxUPWZ1bmN0aW9uKCl7dGhpcy5wcm9ncmFtX3BtdF9waWQ9e319OyFmdW5jdGlvbihlKXtlW2Uua01QRUcxQXVkaW89M109XCJrTVBFRzFBdWRpb1wiLGVbZS5rTVBFRzJBdWRpbz00XT1cImtNUEVHMkF1ZGlvXCIsZVtlLmtQRVNQcml2YXRlRGF0YT02XT1cImtQRVNQcml2YXRlRGF0YVwiLGVbZS5rQURUU0FBQz0xNV09XCJrQURUU0FBQ1wiLGVbZS5rTE9BU0FBQz0xN109XCJrTE9BU0FBQ1wiLGVbZS5rQUMzPTEyOV09XCJrQUMzXCIsZVtlLmtJRDM9MjFdPVwia0lEM1wiLGVbZS5rU0NURTM1PTEzNF09XCJrU0NURTM1XCIsZVtlLmtIMjY0PTI3XT1cImtIMjY0XCIsZVtlLmtIMjY1PTM2XT1cImtIMjY1XCJ9KEV8fChFPXt9KSk7dmFyIEwsdz1mdW5jdGlvbigpe3RoaXMucGlkX3N0cmVhbV90eXBlPXt9LHRoaXMuY29tbW9uX3BpZHM9e2gyNjQ6dm9pZCAwLGgyNjU6dm9pZCAwLGFkdHNfYWFjOnZvaWQgMCxsb2FzX2FhYzp2b2lkIDAsb3B1czp2b2lkIDAsYWMzOnZvaWQgMCxtcDM6dm9pZCAwfSx0aGlzLnBlc19wcml2YXRlX2RhdGFfcGlkcz17fSx0aGlzLnRpbWVkX2lkM19waWRzPXt9LHRoaXMuc2N0ZV8zNV9waWRzPXt9LHRoaXMuc21wdGUyMDM4X3BpZHM9e319LGs9ZnVuY3Rpb24oKXt9LEQ9ZnVuY3Rpb24oKXt9LEM9ZnVuY3Rpb24oKXt0aGlzLnNsaWNlcz1bXSx0aGlzLnRvdGFsX2xlbmd0aD0wLHRoaXMuZXhwZWN0ZWRfbGVuZ3RoPTAsdGhpcy5maWxlX3Bvc2l0aW9uPTB9OyFmdW5jdGlvbihlKXtlW2Uua1Vuc3BlY2lmaWVkPTBdPVwia1Vuc3BlY2lmaWVkXCIsZVtlLmtTbGljZU5vbklEUj0xXT1cImtTbGljZU5vbklEUlwiLGVbZS5rU2xpY2VEUEE9Ml09XCJrU2xpY2VEUEFcIixlW2Uua1NsaWNlRFBCPTNdPVwia1NsaWNlRFBCXCIsZVtlLmtTbGljZURQQz00XT1cImtTbGljZURQQ1wiLGVbZS5rU2xpY2VJRFI9NV09XCJrU2xpY2VJRFJcIixlW2Uua1NsaWNlU0VJPTZdPVwia1NsaWNlU0VJXCIsZVtlLmtTbGljZVNQUz03XT1cImtTbGljZVNQU1wiLGVbZS5rU2xpY2VQUFM9OF09XCJrU2xpY2VQUFNcIixlW2Uua1NsaWNlQVVEPTldPVwia1NsaWNlQVVEXCIsZVtlLmtFbmRPZlNlcXVlbmNlPTEwXT1cImtFbmRPZlNlcXVlbmNlXCIsZVtlLmtFbmRPZlN0cmVhbT0xMV09XCJrRW5kT2ZTdHJlYW1cIixlW2Uua0ZpbGxlcj0xMl09XCJrRmlsbGVyXCIsZVtlLmtTUFNFeHQ9MTNdPVwia1NQU0V4dFwiLGVbZS5rUmVzZXJ2ZWQwPTE0XT1cImtSZXNlcnZlZDBcIn0oTHx8KEw9e30pKTt2YXIgQixJLE89ZnVuY3Rpb24oKXt9LFA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5kYXRhLmJ5dGVMZW5ndGg7dGhpcy50eXBlPWUudHlwZSx0aGlzLmRhdGE9bmV3IFVpbnQ4QXJyYXkoNCt0KSxuZXcgRGF0YVZpZXcodGhpcy5kYXRhLmJ1ZmZlcikuc2V0VWludDMyKDAsdCksdGhpcy5kYXRhLnNldChlLmRhdGEsNCl9LE09ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVEFHPVwiSDI2NEFubmV4QlBhcnNlclwiLHRoaXMuY3VycmVudF9zdGFydGNvZGVfb2Zmc2V0Xz0wLHRoaXMuZW9mX2ZsYWdfPSExLHRoaXMuZGF0YV89ZSx0aGlzLmN1cnJlbnRfc3RhcnRjb2RlX29mZnNldF89dGhpcy5maW5kTmV4dFN0YXJ0Q29kZU9mZnNldCgwKSx0aGlzLmVvZl9mbGFnXyYmci5hLmUodGhpcy5UQUcsXCJDb3VsZCBub3QgZmluZCBIMjY0IHN0YXJ0Y29kZSB1bnRpbCBwYXlsb2FkIGVuZCFcIil9cmV0dXJuIGUucHJvdG90eXBlLmZpbmROZXh0U3RhcnRDb2RlT2Zmc2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLGk9dGhpcy5kYXRhXzs7KXtpZih0KzM+PWkuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5lb2ZfZmxhZ189ITAsaS5ieXRlTGVuZ3RoO3ZhciBuPWlbdCswXTw8MjR8aVt0KzFdPDwxNnxpW3QrMl08PDh8aVt0KzNdLGE9aVt0KzBdPDwxNnxpW3QrMV08PDh8aVt0KzJdO2lmKDE9PT1ufHwxPT09YSlyZXR1cm4gdDt0Kyt9fSxlLnByb3RvdHlwZS5yZWFkTmV4dE5hbHVQYXlsb2FkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZGF0YV8sdD1udWxsO251bGw9PXQmJiF0aGlzLmVvZl9mbGFnXzspe3ZhciBpPXRoaXMuY3VycmVudF9zdGFydGNvZGVfb2Zmc2V0XyxuPTMxJmVbaSs9MT09PShlW2ldPDwyNHxlW2krMV08PDE2fGVbaSsyXTw8OHxlW2krM10pPzQ6M10sYT0oMTI4JmVbaV0pPj4+NyxyPXRoaXMuZmluZE5leHRTdGFydENvZGVPZmZzZXQoaSk7aWYodGhpcy5jdXJyZW50X3N0YXJ0Y29kZV9vZmZzZXRfPXIsIShuPj1MLmtSZXNlcnZlZDApJiYwPT09YSl7dmFyIHM9ZS5zdWJhcnJheShpLHIpOyh0PW5ldyBPKS50eXBlPW4sdC5kYXRhPXN9fXJldHVybiB0fSxlfSgpLHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxpKXt2YXIgbj04K2UuYnl0ZUxlbmd0aCsxKzIrdC5ieXRlTGVuZ3RoLGE9ITE7NjYhPT1lWzNdJiY3NyE9PWVbM10mJjg4IT09ZVszXSYmKGE9ITAsbis9NCk7dmFyIHI9dGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KG4pO3JbMF09MSxyWzFdPWVbMV0sclsyXT1lWzJdLHJbM109ZVszXSxyWzRdPTI1NSxyWzVdPTIyNTt2YXIgcz1lLmJ5dGVMZW5ndGg7cls2XT1zPj4+OCxyWzddPTI1NSZzO3ZhciBvPTg7ci5zZXQoZSw4KSxyW28rPXNdPTE7dmFyIGQ9dC5ieXRlTGVuZ3RoO3JbbysxXT1kPj4+OCxyW28rMl09MjU1JmQsci5zZXQodCxvKzMpLG8rPTMrZCxhJiYocltvXT0yNTJ8aS5jaHJvbWFfZm9ybWF0X2lkYyxyW28rMV09MjQ4fGkuYml0X2RlcHRoX2x1bWEtOCxyW28rMl09MjQ4fGkuYml0X2RlcHRoX2Nocm9tYS04LHJbbyszXT0wLG8rPTQpfXJldHVybiBlLnByb3RvdHlwZS5nZXREYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX0sZX0oKTshZnVuY3Rpb24oZSl7ZVtlLmtOdWxsPTBdPVwia051bGxcIixlW2Uua0FBQ01haW49MV09XCJrQUFDTWFpblwiLGVbZS5rQUFDX0xDPTJdPVwia0FBQ19MQ1wiLGVbZS5rQUFDX1NTUj0zXT1cImtBQUNfU1NSXCIsZVtlLmtBQUNfTFRQPTRdPVwia0FBQ19MVFBcIixlW2Uua0FBQ19TQlI9NV09XCJrQUFDX1NCUlwiLGVbZS5rQUFDX1NjYWxhYmxlPTZdPVwia0FBQ19TY2FsYWJsZVwiLGVbZS5rTGF5ZXIxPTMyXT1cImtMYXllcjFcIixlW2Uua0xheWVyMj0zM109XCJrTGF5ZXIyXCIsZVtlLmtMYXllcjM9MzRdPVwia0xheWVyM1wifShCfHwoQj17fSkpLGZ1bmN0aW9uKGUpe2VbZS5rOTYwMDBIej0wXT1cIms5NjAwMEh6XCIsZVtlLms4ODIwMEh6PTFdPVwiazg4MjAwSHpcIixlW2UuazY0MDAwSHo9Ml09XCJrNjQwMDBIelwiLGVbZS5rNDgwMDBIej0zXT1cIms0ODAwMEh6XCIsZVtlLms0NDEwMEh6PTRdPVwiazQ0MTAwSHpcIixlW2UuazMyMDAwSHo9NV09XCJrMzIwMDBIelwiLGVbZS5rMjQwMDBIej02XT1cImsyNDAwMEh6XCIsZVtlLmsyMjA1MEh6PTddPVwiazIyMDUwSHpcIixlW2UuazE2MDAwSHo9OF09XCJrMTYwMDBIelwiLGVbZS5rMTIwMDBIej05XT1cImsxMjAwMEh6XCIsZVtlLmsxMTAyNUh6PTEwXT1cImsxMTAyNUh6XCIsZVtlLms4MDAwSHo9MTFdPVwiazgwMDBIelwiLGVbZS5rNzM1MEh6PTEyXT1cIms3MzUwSHpcIn0oSXx8KEk9e30pKTt2YXIgVSxOLEc9Wzk2ZTMsODgyMDAsNjRlMyw0OGUzLDQ0MTAwLDMyZTMsMjRlMywyMjA1MCwxNmUzLDEyZTMsMTEwMjUsOGUzLDczNTBdLFY9KFU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4oVT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX1VKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooaS5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IGkpfSksRj1mdW5jdGlvbigpe30saj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7cmV0dXJuIG51bGwhPT1lJiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc31yZXR1cm4gVih0LGUpLHR9KEYpLHo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVEFHPVwiQUFDQURUU1BhcnNlclwiLHRoaXMuZGF0YV89ZSx0aGlzLmN1cnJlbnRfc3luY3dvcmRfb2Zmc2V0Xz10aGlzLmZpbmROZXh0U3luY3dvcmRPZmZzZXQoMCksdGhpcy5lb2ZfZmxhZ18mJnIuYS5lKHRoaXMuVEFHLFwiQ291bGQgbm90IGZvdW5kIEFEVFMgc3luY3dvcmQgdW50aWwgcGF5bG9hZCBlbmRcIil9cmV0dXJuIGUucHJvdG90eXBlLmZpbmROZXh0U3luY3dvcmRPZmZzZXQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUsaT10aGlzLmRhdGFfOzspe2lmKHQrNz49aS5ieXRlTGVuZ3RoKXJldHVybiB0aGlzLmVvZl9mbGFnXz0hMCxpLmJ5dGVMZW5ndGg7aWYoNDA5NT09PShpW3QrMF08PDh8aVt0KzFdKT4+PjQpcmV0dXJuIHQ7dCsrfX0sZS5wcm90b3R5cGUucmVhZE5leHRBQUNGcmFtZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmRhdGFfLHQ9bnVsbDtudWxsPT10JiYhdGhpcy5lb2ZfZmxhZ187KXt2YXIgaT10aGlzLmN1cnJlbnRfc3luY3dvcmRfb2Zmc2V0XyxuPSg4JmVbaSsxXSk+Pj4zLGE9KDYmZVtpKzFdKT4+PjEscj0xJmVbaSsxXSxzPSgxOTImZVtpKzJdKT4+PjYsbz0oNjAmZVtpKzJdKT4+PjIsZD0oMSZlW2krMl0pPDwyfCgxOTImZVtpKzNdKT4+PjYsXz0oMyZlW2krM10pPDwxMXxlW2krNF08PDN8KDIyNCZlW2krNV0pPj4+NTtlW2krNl07aWYoaStfPnRoaXMuZGF0YV8uYnl0ZUxlbmd0aCl7dGhpcy5lb2ZfZmxhZ189ITAsdGhpcy5oYXNfbGFzdF9pbmNvbXBsZXRlX2RhdGE9ITA7YnJlYWt9dmFyIGg9MT09PXI/Nzo5LGM9Xy1oO2krPWg7dmFyIHU9dGhpcy5maW5kTmV4dFN5bmN3b3JkT2Zmc2V0KGkrYyk7aWYodGhpcy5jdXJyZW50X3N5bmN3b3JkX29mZnNldF89dSwoMD09PW58fDE9PT1uKSYmMD09PWEpe3ZhciBsPWUuc3ViYXJyYXkoaSxpK2MpOyh0PW5ldyBGKS5hdWRpb19vYmplY3RfdHlwZT1zKzEsdC5zYW1wbGluZ19mcmVxX2luZGV4PW8sdC5zYW1wbGluZ19mcmVxdWVuY3k9R1tvXSx0LmNoYW5uZWxfY29uZmlnPWQsdC5kYXRhPWx9fXJldHVybiB0fSxlLnByb3RvdHlwZS5oYXNJbmNvbXBsZXRlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc19sYXN0X2luY29tcGxldGVfZGF0YX0sZS5wcm90b3R5cGUuZ2V0SW5jb21wbGV0ZURhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNfbGFzdF9pbmNvbXBsZXRlX2RhdGE/dGhpcy5kYXRhXy5zdWJhcnJheSh0aGlzLmN1cnJlbnRfc3luY3dvcmRfb2Zmc2V0Xyk6bnVsbH0sZX0oKSxIPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLlRBRz1cIkFBQ0xPQVNQYXJzZXJcIix0aGlzLmRhdGFfPWUsdGhpcy5jdXJyZW50X3N5bmN3b3JkX29mZnNldF89dGhpcy5maW5kTmV4dFN5bmN3b3JkT2Zmc2V0KDApLHRoaXMuZW9mX2ZsYWdfJiZyLmEuZSh0aGlzLlRBRyxcIkNvdWxkIG5vdCBmb3VuZCBMT0FTIHN5bmN3b3JkIHVudGlsIHBheWxvYWQgZW5kXCIpfXJldHVybiBlLnByb3RvdHlwZS5maW5kTmV4dFN5bmN3b3JkT2Zmc2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLGk9dGhpcy5kYXRhXzs7KXtpZih0KzE+PWkuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5lb2ZfZmxhZ189ITAsaS5ieXRlTGVuZ3RoO2lmKDY5NT09PShpW3QrMF08PDN8aVt0KzFdPj4+NSkpcmV0dXJuIHQ7dCsrfX0sZS5wcm90b3R5cGUuZ2V0TEFUTVZhbHVlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnJlYWRCaXRzKDIpLGk9MCxuPTA7bjw9dDtuKyspaTw8PTgsaXw9ZS5yZWFkQnl0ZSgpO3JldHVybiBpfSxlLnByb3RvdHlwZS5yZWFkTmV4dEFBQ0ZyYW1lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmRhdGFfLGk9bnVsbDtudWxsPT1pJiYhdGhpcy5lb2ZfZmxhZ187KXt2YXIgbj10aGlzLmN1cnJlbnRfc3luY3dvcmRfb2Zmc2V0XyxhPSgzMSZ0W24rMV0pPDw4fHRbbisyXTtpZihuKzMrYT49dGhpcy5kYXRhXy5ieXRlTGVuZ3RoKXt0aGlzLmVvZl9mbGFnXz0hMCx0aGlzLmhhc19sYXN0X2luY29tcGxldGVfZGF0YT0hMDticmVha312YXIgcz1uZXcgZih0LnN1YmFycmF5KG4rMyxuKzMrYSkpLG89bnVsbDtpZihzLnJlYWRCb29sKCkpe2lmKG51bGw9PWUpe3IuYS53KHRoaXMuVEFHLFwiU3RyZWFtTXV4Q29uZmlnIE1pc3NpbmdcIiksdGhpcy5jdXJyZW50X3N5bmN3b3JkX29mZnNldF89dGhpcy5maW5kTmV4dFN5bmN3b3JkT2Zmc2V0KG4rMythKSxzLmRlc3Ryb3koKTtjb250aW51ZX1vPWV9ZWxzZXt2YXIgZD1zLnJlYWRCb29sKCk7aWYoZCYmcy5yZWFkQm9vbCgpKXtyLmEuZSh0aGlzLlRBRyxcImF1ZGlvTXV4VmVyc2lvbkEgaXMgTm90IFN1cHBvcnRlZFwiKSxzLmRlc3Ryb3koKTticmVha31pZihkJiZ0aGlzLmdldExBVE1WYWx1ZShzKSwhcy5yZWFkQm9vbCgpKXtyLmEuZSh0aGlzLlRBRyxcImFsbFN0cmVhbXNTYW1lVGltZUZyYW1pbmcgemVybyBpcyBOb3QgU3VwcG9ydGVkXCIpLHMuZGVzdHJveSgpO2JyZWFrfWlmKDAhPT1zLnJlYWRCaXRzKDYpKXtyLmEuZSh0aGlzLlRBRyxcIm1vcmUgdGhhbiAyIG51bVN1YkZyYW1lcyBOb3QgU3VwcG9ydGVkXCIpLHMuZGVzdHJveSgpO2JyZWFrfWlmKDAhPT1zLnJlYWRCaXRzKDQpKXtyLmEuZSh0aGlzLlRBRyxcIm1vcmUgdGhhbiAyIG51bVByb2dyYW0gTm90IFN1cHBvcnRlZFwiKSxzLmRlc3Ryb3koKTticmVha31pZigwIT09cy5yZWFkQml0cygzKSl7ci5hLmUodGhpcy5UQUcsXCJtb3JlIHRoYW4gMiBudW1MYXllciBOb3QgU3VwcG9ydGVkXCIpLHMuZGVzdHJveSgpO2JyZWFrfXZhciBfPWQ/dGhpcy5nZXRMQVRNVmFsdWUocyk6MCxoPXMucmVhZEJpdHMoNSk7Xy09NTt2YXIgYz1zLnJlYWRCaXRzKDQpO18tPTQ7dmFyIHU9cy5yZWFkQml0cyg0KTtfLT00LHMucmVhZEJpdHMoMyksKF8tPTMpPjAmJnMucmVhZEJpdHMoXyk7dmFyIGw9cy5yZWFkQml0cygzKTtpZigwIT09bCl7ci5hLmUodGhpcy5UQUcsXCJmcmFtZUxlbmd0aFR5cGUgPSBcIitsK1wiLiBPbmx5IGZyYW1lTGVuZ3RoVHlwZSA9IDAgU3VwcG9ydGVkXCIpLHMuZGVzdHJveSgpO2JyZWFrfXMucmVhZEJ5dGUoKTt2YXIgcD1zLnJlYWRCb29sKCk7aWYocClpZihkKXRoaXMuZ2V0TEFUTVZhbHVlKHMpO2Vsc2V7Zm9yKHZhciBtPTA7Oyl7bTw8PTg7dmFyIGc9cy5yZWFkQm9vbCgpO2lmKG0rPXMucmVhZEJ5dGUoKSwhZylicmVha31jb25zb2xlLmxvZyhtKX1zLnJlYWRCb29sKCkmJnMucmVhZEJ5dGUoKSwobz1uZXcgaikuYXVkaW9fb2JqZWN0X3R5cGU9aCxvLnNhbXBsaW5nX2ZyZXFfaW5kZXg9YyxvLnNhbXBsaW5nX2ZyZXF1ZW5jeT1HW28uc2FtcGxpbmdfZnJlcV9pbmRleF0sby5jaGFubmVsX2NvbmZpZz11LG8ub3RoZXJfZGF0YV9wcmVzZW50PXB9Zm9yKHZhciB2PTA7Oyl7dmFyIHk9cy5yZWFkQnl0ZSgpO2lmKHYrPXksMjU1IT09eSlicmVha31mb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkodiksUz0wO1M8djtTKyspYltTXT1zLnJlYWRCeXRlKCk7KGk9bmV3IGopLmF1ZGlvX29iamVjdF90eXBlPW8uYXVkaW9fb2JqZWN0X3R5cGUsaS5zYW1wbGluZ19mcmVxX2luZGV4PW8uc2FtcGxpbmdfZnJlcV9pbmRleCxpLnNhbXBsaW5nX2ZyZXF1ZW5jeT1HW28uc2FtcGxpbmdfZnJlcV9pbmRleF0saS5jaGFubmVsX2NvbmZpZz1vLmNoYW5uZWxfY29uZmlnLGkub3RoZXJfZGF0YV9wcmVzZW50PW8ub3RoZXJfZGF0YV9wcmVzZW50LGkuZGF0YT1iLHRoaXMuY3VycmVudF9zeW5jd29yZF9vZmZzZXRfPXRoaXMuZmluZE5leHRTeW5jd29yZE9mZnNldChuKzMrYSl9cmV0dXJuIGl9LGUucHJvdG90eXBlLmhhc0luY29tcGxldGVEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzX2xhc3RfaW5jb21wbGV0ZV9kYXRhfSxlLnByb3RvdHlwZS5nZXRJbmNvbXBsZXRlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc19sYXN0X2luY29tcGxldGVfZGF0YT90aGlzLmRhdGFfLnN1YmFycmF5KHRoaXMuY3VycmVudF9zeW5jd29yZF9vZmZzZXRfKTpudWxsfSxlfSgpLHE9ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbCxpPWUuYXVkaW9fb2JqZWN0X3R5cGUsbj1lLmF1ZGlvX29iamVjdF90eXBlLGE9ZS5zYW1wbGluZ19mcmVxX2luZGV4LHI9ZS5jaGFubmVsX2NvbmZpZyxzPTAsbz1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7LTEhPT1vLmluZGV4T2YoXCJmaXJlZm94XCIpP2E+PTY/KG49NSx0PW5ldyBBcnJheSg0KSxzPWEtMyk6KG49Mix0PW5ldyBBcnJheSgyKSxzPWEpOi0xIT09by5pbmRleE9mKFwiYW5kcm9pZFwiKT8obj0yLHQ9bmV3IEFycmF5KDIpLHM9YSk6KG49NSxzPWEsdD1uZXcgQXJyYXkoNCksYT49Nj9zPWEtMzoxPT09ciYmKG49Mix0PW5ldyBBcnJheSgyKSxzPWEpKSx0WzBdPW48PDMsdFswXXw9KDE1JmEpPj4+MSx0WzFdPSgxNSZhKTw8Nyx0WzFdfD0oMTUmcik8PDMsNT09PW4mJih0WzFdfD0oMTUmcyk+Pj4xLHRbMl09KDEmcyk8PDcsdFsyXXw9OCx0WzNdPTApLHRoaXMuY29uZmlnPXQsdGhpcy5zYW1wbGluZ19yYXRlPUdbYV0sdGhpcy5jaGFubmVsX2NvdW50PXIsdGhpcy5jb2RlY19taW1ldHlwZT1cIm1wNGEuNDAuXCIrbix0aGlzLm9yaWdpbmFsX2NvZGVjX21pbWV0eXBlPVwibXA0YS40MC5cIitpfSxLPWZ1bmN0aW9uKCl7fSxXPWZ1bmN0aW9uKCl7fTshZnVuY3Rpb24oZSl7ZVtlLmtTcGxpY2VOdWxsPTBdPVwia1NwbGljZU51bGxcIixlW2Uua1NwbGljZVNjaGVkdWxlPTRdPVwia1NwbGljZVNjaGVkdWxlXCIsZVtlLmtTcGxpY2VJbnNlcnQ9NV09XCJrU3BsaWNlSW5zZXJ0XCIsZVtlLmtUaW1lU2lnbmFsPTZdPVwia1RpbWVTaWduYWxcIixlW2Uua0JhbmR3aWR0aFJlc2VydmF0aW9uPTddPVwia0JhbmR3aWR0aFJlc2VydmF0aW9uXCIsZVtlLmtQcml2YXRlQ29tbWFuZD0yNTVdPVwia1ByaXZhdGVDb21tYW5kXCJ9KE58fChOPXt9KSk7dmFyIFgsWT1mdW5jdGlvbihlKXt2YXIgdD1lLnJlYWRCb29sKCk7cmV0dXJuIHQ/KGUucmVhZEJpdHMoNikse3RpbWVfc3BlY2lmaWVkX2ZsYWc6dCxwdHNfdGltZTo0KmUucmVhZEJpdHMoMzEpK2UucmVhZEJpdHMoMil9KTooZS5yZWFkQml0cyg3KSx7dGltZV9zcGVjaWZpZWRfZmxhZzp0fSl9LEo9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZWFkQm9vbCgpO3JldHVybiBlLnJlYWRCaXRzKDYpLHthdXRvX3JldHVybjp0LGR1cmF0aW9uOjQqZS5yZWFkQml0cygzMSkrZS5yZWFkQml0cygyKX19LFo9ZnVuY3Rpb24oZSx0KXt2YXIgaT10LnJlYWRCaXRzKDgpO3JldHVybiBlP3tjb21wb25lbnRfdGFnOml9Ontjb21wb25lbnRfdGFnOmksc3BsaWNlX3RpbWU6WSh0KX19LFE9ZnVuY3Rpb24oZSl7cmV0dXJue2NvbXBvbmVudF90YWc6ZS5yZWFkQml0cyg4KSx1dGNfc3BsaWNlX3RpbWU6ZS5yZWFkQml0cygzMil9fSwkPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVhZEJpdHMoMzIpLGk9ZS5yZWFkQm9vbCgpO2UucmVhZEJpdHMoNyk7dmFyIG49e3NwbGljZV9ldmVudF9pZDp0LHNwbGljZV9ldmVudF9jYW5jZWxfaW5kaWNhdG9yOml9O2lmKGkpcmV0dXJuIG47aWYobi5vdXRfb2ZfbmV0d29ya19pbmRpY2F0b3I9ZS5yZWFkQm9vbCgpLG4ucHJvZ3JhbV9zcGxpY2VfZmxhZz1lLnJlYWRCb29sKCksbi5kdXJhdGlvbl9mbGFnPWUucmVhZEJvb2woKSxlLnJlYWRCaXRzKDUpLG4ucHJvZ3JhbV9zcGxpY2VfZmxhZyluLnV0Y19zcGxpY2VfdGltZT1lLnJlYWRCaXRzKDMyKTtlbHNle24uY29tcG9uZW50X2NvdW50PWUucmVhZEJpdHMoOCksbi5jb21wb25lbnRzPVtdO2Zvcih2YXIgYT0wO2E8bi5jb21wb25lbnRfY291bnQ7YSsrKW4uY29tcG9uZW50cy5wdXNoKFEoZSkpfXJldHVybiBuLmR1cmF0aW9uX2ZsYWcmJihuLmJyZWFrX2R1cmF0aW9uPUooZSkpLG4udW5pcXVlX3Byb2dyYW1faWQ9ZS5yZWFkQml0cygxNiksbi5hdmFpbF9udW09ZS5yZWFkQml0cyg4KSxuLmF2YWlsc19leHBlY3RlZD1lLnJlYWRCaXRzKDgpLG59LGVlPWZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybntkZXNjcmlwdG9yX3RhZzplLGRlc2NyaXB0b3JfbGVuZ3RoOnQsaWRlbnRpZmllcjppLHByb3ZpZGVyX2F2YWlsX2lkOm4ucmVhZEJpdHMoMzIpfX0sdGU9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9bi5yZWFkQml0cyg4KSxyPW4ucmVhZEJpdHMoMyk7bi5yZWFkQml0cyg1KTtmb3IodmFyIHM9XCJcIixvPTA7bzxyO28rKylzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4ucmVhZEJpdHMoOCkpO3JldHVybntkZXNjcmlwdG9yX3RhZzplLGRlc2NyaXB0b3JfbGVuZ3RoOnQsaWRlbnRpZmllcjppLHByZXJvbGw6YSxkdG1mX2NvdW50OnIsRFRNRl9jaGFyOnN9fSxpZT1mdW5jdGlvbihlKXt2YXIgdD1lLnJlYWRCaXRzKDgpO3JldHVybiBlLnJlYWRCaXRzKDcpLHtjb21wb25lbnRfdGFnOnQscHRzX29mZnNldDo0KmUucmVhZEJpdHMoMzEpK2UucmVhZEJpdHMoMil9fSxuZT1mdW5jdGlvbihlLHQsaSxuKXt2YXIgYT1uLnJlYWRCaXRzKDMyKSxyPW4ucmVhZEJvb2woKTtuLnJlYWRCaXRzKDcpO3ZhciBzPXtkZXNjcmlwdG9yX3RhZzplLGRlc2NyaXB0b3JfbGVuZ3RoOnQsaWRlbnRpZmllcjppLHNlZ21lbnRhdGlvbl9ldmVudF9pZDphLHNlZ21lbnRhdGlvbl9ldmVudF9jYW5jZWxfaW5kaWNhdG9yOnJ9O2lmKHIpcmV0dXJuIHM7aWYocy5wcm9ncmFtX3NlZ21lbnRhdGlvbl9mbGFnPW4ucmVhZEJvb2woKSxzLnNlZ21lbnRhdGlvbl9kdXJhdGlvbl9mbGFnPW4ucmVhZEJvb2woKSxzLmRlbGl2ZXJ5X25vdF9yZXN0cmljdGVkX2ZsYWc9bi5yZWFkQm9vbCgpLHMuZGVsaXZlcnlfbm90X3Jlc3RyaWN0ZWRfZmxhZz9uLnJlYWRCaXRzKDUpOihzLndlYl9kZWxpdmVyeV9hbGxvd2VkX2ZsYWc9bi5yZWFkQm9vbCgpLHMubm9fcmVnaW9uYWxfYmxhY2tvdXRfZmxhZz1uLnJlYWRCb29sKCkscy5hcmNoaXZlX2FsbG93ZWRfZmxhZz1uLnJlYWRCb29sKCkscy5kZXZpY2VfcmVzdHJpY3Rpb25zPW4ucmVhZEJpdHMoMikpLCFzLnByb2dyYW1fc2VnbWVudGF0aW9uX2ZsYWcpe3MuY29tcG9uZW50X2NvdW50PW4ucmVhZEJpdHMoOCkscy5jb21wb25lbnRzPVtdO2Zvcih2YXIgbz0wO288cy5jb21wb25lbnRfY291bnQ7bysrKXMuY29tcG9uZW50cy5wdXNoKGllKG4pKX1zLnNlZ21lbnRhdGlvbl9kdXJhdGlvbl9mbGFnJiYocy5zZWdtZW50YXRpb25fZHVyYXRpb249bi5yZWFkQml0cyg0MCkpLHMuc2VnbWVudGF0aW9uX3VwaWRfdHlwZT1uLnJlYWRCaXRzKDgpLHMuc2VnbWVudGF0aW9uX3VwaWRfbGVuZ3RoPW4ucmVhZEJpdHMoOCk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkocy5zZWdtZW50YXRpb25fdXBpZF9sZW5ndGgpO2ZvcihvPTA7bzxzLnNlZ21lbnRhdGlvbl91cGlkX2xlbmd0aDtvKyspZFtvXT1uLnJlYWRCaXRzKDgpO3JldHVybiBzLnNlZ21lbnRhdGlvbl91cGlkPWQuYnVmZmVyLHMuc2VnbWVudGF0aW9uX3R5cGVfaWQ9bi5yZWFkQml0cyg4KSxzLnNlZ21lbnRfbnVtPW4ucmVhZEJpdHMoOCkscy5zZWdtZW50c19leHBlY3RlZD1uLnJlYWRCaXRzKDgpLDUyIT09cy5zZWdtZW50YXRpb25fdHlwZV9pZCYmNTQhPT1zLnNlZ21lbnRhdGlvbl90eXBlX2lkJiY1NiE9PXMuc2VnbWVudGF0aW9uX3R5cGVfaWQmJjU4IT09cy5zZWdtZW50YXRpb25fdHlwZV9pZHx8KHMuc3ViX3NlZ21lbnRfbnVtPW4ucmVhZEJpdHMoOCkscy5zdWJfc2VnbWVudHNfZXhwZWN0ZWQ9bi5yZWFkQml0cyg4KSksc30sYWU9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJue2Rlc2NyaXB0b3JfdGFnOmUsZGVzY3JpcHRvcl9sZW5ndGg6dCxpZGVudGlmaWVyOmksVEFJX3NlY29uZHM6bi5yZWFkQml0cyg0OCksVEFJX25zOm4ucmVhZEJpdHMoMzIpLFVUQ19vZmZzZXQ6bi5yZWFkQml0cygxNil9fSxyZT1mdW5jdGlvbihlKXtyZXR1cm57Y29tcG9uZW50X3RhZzplLnJlYWRCaXRzKDgpLElTT19jb2RlOlN0cmluZy5mcm9tQ2hhckNvZGUoZS5yZWFkQml0cyg4KSxlLnJlYWRCaXRzKDgpLGUucmVhZEJpdHMoOCkpLEJpdF9TdHJlYW1fTW9kZTplLnJlYWRCaXRzKDMpLE51bV9DaGFubmVsczplLnJlYWRCaXRzKDQpLEZ1bGxfU3J2Y19BdWRpbzplLnJlYWRCb29sKCl9fSxzZT1mdW5jdGlvbihlLHQsaSxuKXtmb3IodmFyIGE9bi5yZWFkQml0cyg0KSxyPVtdLHM9MDtzPGE7cysrKXIucHVzaChyZShuKSk7cmV0dXJue2Rlc2NyaXB0b3JfdGFnOmUsZGVzY3JpcHRvcl9sZW5ndGg6dCxpZGVudGlmaWVyOmksYXVkaW9fY291bnQ6YSxjb21wb25lbnRzOnJ9fSxvZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgZihlKSxpPXQucmVhZEJpdHMoOCksbj10LnJlYWRCb29sKCksYT10LnJlYWRCb29sKCk7dC5yZWFkQml0cygyKTt2YXIgcj10LnJlYWRCaXRzKDEyKSxzPXQucmVhZEJpdHMoOCksbz10LnJlYWRCb29sKCksZD10LnJlYWRCaXRzKDYpLF89NCp0LnJlYWRCaXRzKDMxKSt0LnJlYWRCaXRzKDIpLGg9dC5yZWFkQml0cyg4KSxjPXQucmVhZEJpdHMoMTIpLHU9dC5yZWFkQml0cygxMiksbD10LnJlYWRCaXRzKDgpLHA9bnVsbDtsPT09Ti5rU3BsaWNlTnVsbD9wPXt9Omw9PT1OLmtTcGxpY2VTY2hlZHVsZT9wPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLnJlYWRCaXRzKDgpLGk9W10sbj0wO248dDtuKyspaS5wdXNoKCQoZSkpO3JldHVybntzcGxpY2VfY291bnQ6dCxldmVudHM6aX19KHQpOmw9PT1OLmtTcGxpY2VJbnNlcnQ/cD1mdW5jdGlvbihlKXt2YXIgdD1lLnJlYWRCaXRzKDMyKSxpPWUucmVhZEJvb2woKTtlLnJlYWRCaXRzKDcpO3ZhciBuPXtzcGxpY2VfZXZlbnRfaWQ6dCxzcGxpY2VfZXZlbnRfY2FuY2VsX2luZGljYXRvcjppfTtpZihpKXJldHVybiBuO2lmKG4ub3V0X29mX25ldHdvcmtfaW5kaWNhdG9yPWUucmVhZEJvb2woKSxuLnByb2dyYW1fc3BsaWNlX2ZsYWc9ZS5yZWFkQm9vbCgpLG4uZHVyYXRpb25fZmxhZz1lLnJlYWRCb29sKCksbi5zcGxpY2VfaW1tZWRpYXRlX2ZsYWc9ZS5yZWFkQm9vbCgpLGUucmVhZEJpdHMoNCksbi5wcm9ncmFtX3NwbGljZV9mbGFnJiYhbi5zcGxpY2VfaW1tZWRpYXRlX2ZsYWcmJihuLnNwbGljZV90aW1lPVkoZSkpLCFuLnByb2dyYW1fc3BsaWNlX2ZsYWcpe24uY29tcG9uZW50X2NvdW50PWUucmVhZEJpdHMoOCksbi5jb21wb25lbnRzPVtdO2Zvcih2YXIgYT0wO2E8bi5jb21wb25lbnRfY291bnQ7YSsrKW4uY29tcG9uZW50cy5wdXNoKFoobi5zcGxpY2VfaW1tZWRpYXRlX2ZsYWcsZSkpfXJldHVybiBuLmR1cmF0aW9uX2ZsYWcmJihuLmJyZWFrX2R1cmF0aW9uPUooZSkpLG4udW5pcXVlX3Byb2dyYW1faWQ9ZS5yZWFkQml0cygxNiksbi5hdmFpbF9udW09ZS5yZWFkQml0cyg4KSxuLmF2YWlsc19leHBlY3RlZD1lLnJlYWRCaXRzKDgpLG59KHQpOmw9PT1OLmtUaW1lU2lnbmFsP3A9ZnVuY3Rpb24oZSl7cmV0dXJue3NwbGljZV90aW1lOlkoZSl9fSh0KTpsPT09Ti5rQmFuZHdpZHRoUmVzZXJ2YXRpb24/cD17fTpsPT09Ti5rUHJpdmF0ZUNvbW1hbmQ/cD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1TdHJpbmcuZnJvbUNoYXJDb2RlKHQucmVhZEJpdHMoOCksdC5yZWFkQml0cyg4KSx0LnJlYWRCaXRzKDgpLHQucmVhZEJpdHMoOCkpLG49bmV3IFVpbnQ4QXJyYXkoZS00KSxhPTA7YTxlLTQ7YSsrKW5bYV09dC5yZWFkQml0cyg4KTtyZXR1cm57aWRlbnRpZmllcjppLHByaXZhdGVfZGF0YTpuLmJ1ZmZlcn19KHUsdCk6dC5yZWFkQml0cyg4KnUpO2Zvcih2YXIgbT1bXSxnPXQucmVhZEJpdHMoMTYpLHY9MDt2PGc7KXt2YXIgeT10LnJlYWRCaXRzKDgpLGI9dC5yZWFkQml0cyg4KSxTPVN0cmluZy5mcm9tQ2hhckNvZGUodC5yZWFkQml0cyg4KSx0LnJlYWRCaXRzKDgpLHQucmVhZEJpdHMoOCksdC5yZWFkQml0cyg4KSk7MD09PXk/bS5wdXNoKGVlKHksYixTLHQpKToxPT09eT9tLnB1c2godGUoeSxiLFMsdCkpOjI9PT15P20ucHVzaChuZSh5LGIsUyx0KSk6Mz09PXk/bS5wdXNoKGFlKHksYixTLHQpKTo0PT09eT9tLnB1c2goc2UoeSxiLFMsdCkpOnQucmVhZEJpdHMoOCooYi00KSksdis9MitifXZhciBFPXt0YWJsZV9pZDppLHNlY3Rpb25fc3ludGF4X2luZGljYXRvcjpuLHByaXZhdGVfaW5kaWNhdG9yOmEsc2VjdGlvbl9sZW5ndGg6cixwcm90b2NvbF92ZXJzaW9uOnMsZW5jcnlwdGVkX3BhY2tldDpvLGVuY3J5cHRpb25fYWxnb3JpdGhtOmQscHRzX2FkanVzdG1lbnQ6Xyxjd19pbmRleDpoLHRpZXI6YyxzcGxpY2VfY29tbWFuZF9sZW5ndGg6dSxzcGxpY2VfY29tbWFuZF90eXBlOmwsc3BsaWNlX2NvbW1hbmQ6cCxkZXNjcmlwdG9yX2xvb3BfbGVuZ3RoOmcsc3BsaWNlX2Rlc2NyaXB0b3JzOm0sRV9DUkMzMjpvP3QucmVhZEJpdHMoMzIpOnZvaWQgMCxDUkMzMjp0LnJlYWRCaXRzKDMyKX07aWYobD09PU4ua1NwbGljZUluc2VydCl7dmFyIEE9cDtpZihBLnNwbGljZV9ldmVudF9jYW5jZWxfaW5kaWNhdG9yKXJldHVybntzcGxpY2VfY29tbWFuZF90eXBlOmwsZGV0YWlsOkUsZGF0YTplfTtpZihBLnByb2dyYW1fc3BsaWNlX2ZsYWcmJiFBLnNwbGljZV9pbW1lZGlhdGVfZmxhZyl7dmFyIFI9QS5kdXJhdGlvbl9mbGFnP0EuYnJlYWtfZHVyYXRpb24uYXV0b19yZXR1cm46dm9pZCAwLFQ9QS5kdXJhdGlvbl9mbGFnP0EuYnJlYWtfZHVyYXRpb24uZHVyYXRpb24vOTA6dm9pZCAwO3JldHVybiBBLnNwbGljZV90aW1lLnRpbWVfc3BlY2lmaWVkX2ZsYWc/e3NwbGljZV9jb21tYW5kX3R5cGU6bCxwdHM6KF8rQS5zcGxpY2VfdGltZS5wdHNfdGltZSklTWF0aC5wb3coMiwzMyksYXV0b19yZXR1cm46UixkdXJhaXRvbjpULGRldGFpbDpFLGRhdGE6ZX06e3NwbGljZV9jb21tYW5kX3R5cGU6bCxhdXRvX3JldHVybjpSLGR1cmFpdG9uOlQsZGV0YWlsOkUsZGF0YTplfX1yZXR1cm57c3BsaWNlX2NvbW1hbmRfdHlwZTpsLGF1dG9fcmV0dXJuOlI9QS5kdXJhdGlvbl9mbGFnP0EuYnJlYWtfZHVyYXRpb24uYXV0b19yZXR1cm46dm9pZCAwLGR1cmFpdG9uOlQ9QS5kdXJhdGlvbl9mbGFnP0EuYnJlYWtfZHVyYXRpb24uZHVyYXRpb24vOTA6dm9pZCAwLGRldGFpbDpFLGRhdGE6ZX19aWYobD09PU4ua1RpbWVTaWduYWwpe3ZhciBMPXA7cmV0dXJuIEwuc3BsaWNlX3RpbWUudGltZV9zcGVjaWZpZWRfZmxhZz97c3BsaWNlX2NvbW1hbmRfdHlwZTpsLHB0czooXytMLnNwbGljZV90aW1lLnB0c190aW1lKSVNYXRoLnBvdygyLDMzKSxkZXRhaWw6RSxkYXRhOmV9OntzcGxpY2VfY29tbWFuZF90eXBlOmwsZGV0YWlsOkUsZGF0YTplfX1yZXR1cm57c3BsaWNlX2NvbW1hbmRfdHlwZTpsLGRldGFpbDpFLGRhdGE6ZX19OyFmdW5jdGlvbihlKXtlW2Uua1NsaWNlSURSX1dfUkFETD0xOV09XCJrU2xpY2VJRFJfV19SQURMXCIsZVtlLmtTbGljZUlEUl9OX0xQPTIwXT1cImtTbGljZUlEUl9OX0xQXCIsZVtlLmtTbGljZUNSQV9OVVQ9MjFdPVwia1NsaWNlQ1JBX05VVFwiLGVbZS5rU2xpY2VWUFM9MzJdPVwia1NsaWNlVlBTXCIsZVtlLmtTbGljZVNQUz0zM109XCJrU2xpY2VTUFNcIixlW2Uua1NsaWNlUFBTPTM0XT1cImtTbGljZVBQU1wiLGVbZS5rU2xpY2VBVUQ9MzVdPVwia1NsaWNlQVVEXCJ9KFh8fChYPXt9KSk7dmFyIGRlPWZ1bmN0aW9uKCl7fSxfZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEuYnl0ZUxlbmd0aDt0aGlzLnR5cGU9ZS50eXBlLHRoaXMuZGF0YT1uZXcgVWludDhBcnJheSg0K3QpLG5ldyBEYXRhVmlldyh0aGlzLmRhdGEuYnVmZmVyKS5zZXRVaW50MzIoMCx0KSx0aGlzLmRhdGEuc2V0KGUuZGF0YSw0KX0saGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVEFHPVwiSDI2NUFubmV4QlBhcnNlclwiLHRoaXMuY3VycmVudF9zdGFydGNvZGVfb2Zmc2V0Xz0wLHRoaXMuZW9mX2ZsYWdfPSExLHRoaXMuZGF0YV89ZSx0aGlzLmN1cnJlbnRfc3RhcnRjb2RlX29mZnNldF89dGhpcy5maW5kTmV4dFN0YXJ0Q29kZU9mZnNldCgwKSx0aGlzLmVvZl9mbGFnXyYmci5hLmUodGhpcy5UQUcsXCJDb3VsZCBub3QgZmluZCBIMjY1IHN0YXJ0Y29kZSB1bnRpbCBwYXlsb2FkIGVuZCFcIil9cmV0dXJuIGUucHJvdG90eXBlLmZpbmROZXh0U3RhcnRDb2RlT2Zmc2V0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1lLGk9dGhpcy5kYXRhXzs7KXtpZih0KzM+PWkuYnl0ZUxlbmd0aClyZXR1cm4gdGhpcy5lb2ZfZmxhZ189ITAsaS5ieXRlTGVuZ3RoO3ZhciBuPWlbdCswXTw8MjR8aVt0KzFdPDwxNnxpW3QrMl08PDh8aVt0KzNdLGE9aVt0KzBdPDwxNnxpW3QrMV08PDh8aVt0KzJdO2lmKDE9PT1ufHwxPT09YSlyZXR1cm4gdDt0Kyt9fSxlLnByb3RvdHlwZS5yZWFkTmV4dE5hbHVQYXlsb2FkPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZGF0YV8sdD1udWxsO251bGw9PXQmJiF0aGlzLmVvZl9mbGFnXzspe3ZhciBpPXRoaXMuY3VycmVudF9zdGFydGNvZGVfb2Zmc2V0XyxuPWVbaSs9MT09PShlW2ldPDwyNHxlW2krMV08PDE2fGVbaSsyXTw8OHxlW2krM10pPzQ6M10+PjEmNjMsYT0oMTI4JmVbaV0pPj4+NyxyPXRoaXMuZmluZE5leHRTdGFydENvZGVPZmZzZXQoaSk7aWYodGhpcy5jdXJyZW50X3N0YXJ0Y29kZV9vZmZzZXRfPXIsMD09PWEpe3ZhciBzPWUuc3ViYXJyYXkoaSxyKTsodD1uZXcgZGUpLnR5cGU9bix0LmRhdGE9c319cmV0dXJuIHR9LGV9KCksY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxpLG4pe3ZhciBhPTIzKyg1K2UuYnl0ZUxlbmd0aCkrKDUrdC5ieXRlTGVuZ3RoKSsoNStpLmJ5dGVMZW5ndGgpLHI9dGhpcy5kYXRhPW5ldyBVaW50OEFycmF5KGEpO3JbMF09MSxyWzFdPSgzJm4uZ2VuZXJhbF9wcm9maWxlX3NwYWNlKTw8Nnwobi5nZW5lcmFsX3RpZXJfZmxhZz8xOjApPDw1fDMxJm4uZ2VuZXJhbF9wcm9maWxlX2lkYyxyWzJdPW4uZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfMSxyWzNdPW4uZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfMixyWzRdPW4uZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfMyxyWzVdPW4uZ2VuZXJhbF9wcm9maWxlX2NvbXBhdGliaWxpdHlfZmxhZ3NfNCxyWzZdPW4uZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvcl9mbGFnc18xLHJbN109bi5nZW5lcmFsX2NvbnN0cmFpbnRfaW5kaWNhdG9yX2ZsYWdzXzIscls4XT1uLmdlbmVyYWxfY29uc3RyYWludF9pbmRpY2F0b3JfZmxhZ3NfMyxyWzldPW4uZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvcl9mbGFnc180LHJbMTBdPW4uZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvcl9mbGFnc181LHJbMTFdPW4uZ2VuZXJhbF9jb25zdHJhaW50X2luZGljYXRvcl9mbGFnc182LHJbMTJdPW4uZ2VuZXJhbF9sZXZlbF9pZGMsclsxM109MjQwfCgzODQwJm4ubWluX3NwYXRpYWxfc2VnbWVudGF0aW9uX2lkYyk+PjgsclsxNF09MjU1Jm4ubWluX3NwYXRpYWxfc2VnbWVudGF0aW9uX2lkYyxyWzE1XT0yNTJ8MyZuLnBhcmFsbGVsaXNtVHlwZSxyWzE2XT0yNTJ8MyZuLmNocm9tYV9mb3JtYXRfaWRjLHJbMTddPTI0OHw3Jm4uYml0X2RlcHRoX2x1bWFfbWludXM4LHJbMThdPTI0OHw3Jm4uYml0X2RlcHRoX2Nocm9tYV9taW51czgsclsxOV09MCxyWzIwXT0wLHJbMjFdPSgzJm4uY29uc3RhbnRfZnJhbWVfcmF0ZSk8PDZ8KDcmbi5udW1fdGVtcG9yYWxfbGF5ZXJzKTw8M3wobi50ZW1wb3JhbF9pZF9uZXN0ZWQ/MTowKTw8MnwzLHJbMjJdPTMsclsyM109MTI4fFgua1NsaWNlVlBTLHJbMjRdPTAsclsyNV09MSxyWzI2XT0oNjUyODAmZS5ieXRlTGVuZ3RoKT4+OCxyWzI3XT0oMjU1JmUuYnl0ZUxlbmd0aCk+PjAsci5zZXQoZSwyOCksclsyMysoNStlLmJ5dGVMZW5ndGgpKzBdPTEyOHxYLmtTbGljZVNQUyxyWzIzKyg1K2UuYnl0ZUxlbmd0aCkrMV09MCxyWzIzKyg1K2UuYnl0ZUxlbmd0aCkrMl09MSxyWzIzKyg1K2UuYnl0ZUxlbmd0aCkrM109KDY1MjgwJnQuYnl0ZUxlbmd0aCk+PjgsclsyMysoNStlLmJ5dGVMZW5ndGgpKzRdPSgyNTUmdC5ieXRlTGVuZ3RoKT4+MCxyLnNldCh0LDIzKyg1K2UuYnl0ZUxlbmd0aCkrNSksclsyMysoNStlLmJ5dGVMZW5ndGgrNSt0LmJ5dGVMZW5ndGgpKzBdPTEyOHxYLmtTbGljZVBQUyxyWzIzKyg1K2UuYnl0ZUxlbmd0aCs1K3QuYnl0ZUxlbmd0aCkrMV09MCxyWzIzKyg1K2UuYnl0ZUxlbmd0aCs1K3QuYnl0ZUxlbmd0aCkrMl09MSxyWzIzKyg1K2UuYnl0ZUxlbmd0aCs1K3QuYnl0ZUxlbmd0aCkrM109KDY1MjgwJmkuYnl0ZUxlbmd0aCk+PjgsclsyMysoNStlLmJ5dGVMZW5ndGgrNSt0LmJ5dGVMZW5ndGgpKzRdPSgyNTUmaS5ieXRlTGVuZ3RoKT4+MCxyLnNldChpLDIzKyg1K2UuYnl0ZUxlbmd0aCs1K3QuYnl0ZUxlbmd0aCkrNSl9cmV0dXJuIGUucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kYXRhfSxlfSgpLHVlPWZ1bmN0aW9uKCl7fSxsZT1mdW5jdGlvbigpe30sZmU9ZnVuY3Rpb24oKXt9LHBlPVtbNjQsNjQsODAsODAsOTYsOTYsMTEyLDExMiwxMjgsMTI4LDE2MCwxNjAsMTkyLDE5MiwyMjQsMjI0LDI1NiwyNTYsMzIwLDMyMCwzODQsMzg0LDQ0OCw0NDgsNTEyLDUxMiw2NDAsNjQwLDc2OCw3NjgsODk2LDg5NiwxMDI0LDEwMjQsMTE1MiwxMTUyLDEyODAsMTI4MF0sWzY5LDcwLDg3LDg4LDEwNCwxMDUsMTIxLDEyMiwxMzksMTQwLDE3NCwxNzUsMjA4LDIwOSwyNDMsMjQ0LDI3OCwyNzksMzQ4LDM0OSw0MTcsNDE4LDQ4Nyw0ODgsNTU3LDU1OCw2OTYsNjk3LDgzNSw4MzYsOTc1LDk3NiwxMTE0LDExMTUsMTI1MywxMjU0LDEzOTMsMTM5NF0sWzk2LDk2LDEyMCwxMjAsMTQ0LDE0NCwxNjgsMTY4LDE5MiwxOTIsMjQwLDI0MCwyODgsMjg4LDMzNiwzMzYsMzg0LDM4NCw0ODAsNDgwLDU3Niw1NzYsNjcyLDY3Miw3NjgsNzY4LDk2MCw5NjAsMTE1MiwxMTUyLDEzNDQsMTM0NCwxNTM2LDE1MzYsMTcyOCwxNzI4LDE5MjAsMTkyMF1dLG1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLlRBRz1cIkFDM1BhcnNlclwiLHRoaXMuZGF0YV89ZSx0aGlzLmN1cnJlbnRfc3luY3dvcmRfb2Zmc2V0Xz10aGlzLmZpbmROZXh0U3luY3dvcmRPZmZzZXQoMCksdGhpcy5lb2ZfZmxhZ18mJnIuYS5lKHRoaXMuVEFHLFwiQ291bGQgbm90IGZvdW5kIEFDMyBzeW5jd29yZCB1bnRpbCBwYXlsb2FkIGVuZFwiKX1yZXR1cm4gZS5wcm90b3R5cGUuZmluZE5leHRTeW5jd29yZE9mZnNldD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZSxpPXRoaXMuZGF0YV87Oyl7aWYodCs3Pj1pLmJ5dGVMZW5ndGgpcmV0dXJuIHRoaXMuZW9mX2ZsYWdfPSEwLGkuYnl0ZUxlbmd0aDtpZigyOTM1PT09KGlbdCswXTw8OHxpW3QrMV08PDApKXJldHVybiB0O3QrK319LGUucHJvdG90eXBlLnJlYWROZXh0QUMzRnJhbWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5kYXRhXyx0PW51bGw7bnVsbD09dCYmIXRoaXMuZW9mX2ZsYWdfOyl7dmFyIGk9dGhpcy5jdXJyZW50X3N5bmN3b3JkX29mZnNldF8sbj1lW2krNF0+PjYsYT1bNDhlMyw0NDIwMCwzM2UzXVtuXSxyPTYzJmVbaSs0XSxzPTIqcGVbbl1bcl07aWYoaStzPnRoaXMuZGF0YV8uYnl0ZUxlbmd0aCl7dGhpcy5lb2ZfZmxhZ189ITAsdGhpcy5oYXNfbGFzdF9pbmNvbXBsZXRlX2RhdGE9ITA7YnJlYWt9dmFyIG89dGhpcy5maW5kTmV4dFN5bmN3b3JkT2Zmc2V0KGkrcyk7dGhpcy5jdXJyZW50X3N5bmN3b3JkX29mZnNldF89bzt2YXIgZD1lW2krNV0+PjMsXz03JmVbaSs1XSxoPWVbaSs2XT4+NSxjPTA7MCE9KDEmaCkmJjEhPT1oJiYoYys9MiksMCE9KDQmaCkmJihjKz0yKSwyPT09aCYmKGMrPTIpO3ZhciB1PShlW2krNl08PDh8ZVtpKzddPDwwKT4+MTItYyYxLGw9WzIsMSwyLDMsMyw0LDQsNV1baF0rdTsodD1uZXcgZmUpLnNhbXBsaW5nX2ZyZXF1ZW5jeT1hLHQuY2hhbm5lbF9jb3VudD1sLHQuY2hhbm5lbF9tb2RlPWgsdC5iaXRfc3RyZWFtX2lkZW50aWZpY2F0aW9uPWQsdC5sb3dfZnJlcXVlbmN5X2VmZmVjdHNfY2hhbm5lbF9vbj11LHQuYml0X3N0cmVhbV9tb2RlPV8sdC5mcmFtZV9zaXplX2NvZGU9cix0LmRhdGE9ZS5zdWJhcnJheShpLGkrcyl9cmV0dXJuIHR9LGUucHJvdG90eXBlLmhhc0luY29tcGxldGVEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzX2xhc3RfaW5jb21wbGV0ZV9kYXRhfSxlLnByb3RvdHlwZS5nZXRJbmNvbXBsZXRlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc19sYXN0X2luY29tcGxldGVfZGF0YT90aGlzLmRhdGFfLnN1YmFycmF5KHRoaXMuY3VycmVudF9zeW5jd29yZF9vZmZzZXRfKTpudWxsfSxlfSgpLGdlPWZ1bmN0aW9uKGUpe3ZhciB0O3Q9W2Uuc2FtcGxpbmdfcmF0ZV9jb2RlPDw2fGUuYml0X3N0cmVhbV9pZGVudGlmaWNhdGlvbjw8MXxlLmJpdF9zdHJlYW1fbW9kZT4+MiwoMyZlLmJpdF9zdHJlYW1fbW9kZSk8PDZ8ZS5jaGFubmVsX21vZGU8PDN8ZS5sb3dfZnJlcXVlbmN5X2VmZmVjdHNfY2hhbm5lbF9vbjw8MnxlLmZyYW1lX3NpemVfY29kZT4+NCxlLmZyYW1lX3NpemVfY29kZTw8NCYyMjRdLHRoaXMuY29uZmlnPXQsdGhpcy5zYW1wbGluZ19yYXRlPWUuc2FtcGxpbmdfZnJlcXVlbmN5LHRoaXMuYml0X3N0cmVhbV9pZGVudGlmaWNhdGlvbj1lLmJpdF9zdHJlYW1faWRlbnRpZmljYXRpb24sdGhpcy5iaXRfc3RyZWFtX21vZGU9ZS5iaXRfc3RyZWFtX21vZGUsdGhpcy5sb3dfZnJlcXVlbmN5X2VmZmVjdHNfY2hhbm5lbF9vbj1lLmxvd19mcmVxdWVuY3lfZWZmZWN0c19jaGFubmVsX29uLHRoaXMuY2hhbm5lbF9jb3VudD1lLmNoYW5uZWxfY291bnQsdGhpcy5jaGFubmVsX21vZGU9ZS5jaGFubmVsX21vZGUsdGhpcy5jb2RlY19taW1ldHlwZT1cImFjLTNcIix0aGlzLm9yaWdpbmFsX2NvZGVjX21pbWV0eXBlPVwiYWMtM1wifSx2ZT1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsaSl7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSl9KSh0LGkpfTtyZXR1cm4gZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxpKSx0LnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLHllPWZ1bmN0aW9uKCl7cmV0dXJuKHllPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBhIGluIHQ9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKTtyZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sYmU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LGkpe3ZhciBuPWUuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5UQUc9XCJUU0RlbXV4ZXJcIixuLmZpcnN0X3BhcnNlXz0hMCxuLm1lZGlhX2luZm9fPW5ldyBvLmEsbi50aW1lc2NhbGVfPTkwLG4uZHVyYXRpb25fPTAsbi5jdXJyZW50X3BtdF9waWRfPS0xLG4ucHJvZ3JhbV9wbXRfbWFwXz17fSxuLnBlc19zbGljZV9xdWV1ZXNfPXt9LG4uc2VjdGlvbl9zbGljZV9xdWV1ZXNfPXt9LG4udmlkZW9fbWV0YWRhdGFfPXt2cHM6dm9pZCAwLHNwczp2b2lkIDAscHBzOnZvaWQgMCxkZXRhaWxzOnZvaWQgMH0sbi5hdWRpb19tZXRhZGF0YV89e2NvZGVjOnZvaWQgMCxhdWRpb19vYmplY3RfdHlwZTp2b2lkIDAsc2FtcGxpbmdfZnJlcV9pbmRleDp2b2lkIDAsc2FtcGxpbmdfZnJlcXVlbmN5OnZvaWQgMCxjaGFubmVsX2NvbmZpZzp2b2lkIDB9LG4uYWFjX2xhc3Rfc2FtcGxlX3B0c189dm9pZCAwLG4uYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXz1udWxsLG4uaGFzX3ZpZGVvXz0hMSxuLmhhc19hdWRpb189ITEsbi52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF89ITEsbi5hdWRpb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF89ITEsbi52aWRlb19tZXRhZGF0YV9jaGFuZ2VkXz0hMSxuLmF1ZGlvX21ldGFkYXRhX2NoYW5nZWRfPSExLG4ubG9hc19wcmV2aW91c19mcmFtZT1udWxsLG4udmlkZW9fdHJhY2tfPXt0eXBlOlwidmlkZW9cIixpZDoxLHNlcXVlbmNlTnVtYmVyOjAsc2FtcGxlczpbXSxsZW5ndGg6MH0sbi5hdWRpb190cmFja189e3R5cGU6XCJhdWRpb1wiLGlkOjIsc2VxdWVuY2VOdW1iZXI6MCxzYW1wbGVzOltdLGxlbmd0aDowfSxuLnRzX3BhY2tldF9zaXplXz10LnRzX3BhY2tldF9zaXplLG4uc3luY19vZmZzZXRfPXQuc3luY19vZmZzZXQsbi5jb25maWdfPWksbn1yZXR1cm4gdmUodCxlKSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5tZWRpYV9pbmZvXz1udWxsLHRoaXMucGVzX3NsaWNlX3F1ZXVlc189bnVsbCx0aGlzLnNlY3Rpb25fc2xpY2VfcXVldWVzXz1udWxsLHRoaXMudmlkZW9fbWV0YWRhdGFfPW51bGwsdGhpcy5hdWRpb19tZXRhZGF0YV89bnVsbCx0aGlzLmFhY19sYXN0X2luY29tcGxldGVfZGF0YV89bnVsbCx0aGlzLnZpZGVvX3RyYWNrXz1udWxsLHRoaXMuYXVkaW9fdHJhY2tfPW51bGwsZS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfSx0LnByb2JlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBVaW50OEFycmF5KGUpLGk9LTEsbj0xODg7aWYodC5ieXRlTGVuZ3RoPD0zKm4pcmV0dXJue25lZWRNb3JlRGF0YTohMH07Zm9yKDstMT09PWk7KXtmb3IodmFyIGE9TWF0aC5taW4oMWUzLHQuYnl0ZUxlbmd0aC0zKm4pLHM9MDtzPGE7KXtpZig3MT09PXRbc10mJjcxPT09dFtzK25dJiY3MT09PXRbcysyKm5dKXtpPXM7YnJlYWt9cysrfWlmKC0xPT09aSlpZigxODg9PT1uKW49MTkyO2Vsc2V7aWYoMTkyIT09bilicmVhaztuPTIwNH19cmV0dXJuLTE9PT1pP3ttYXRjaDohMX06KDE5Mj09PW4mJmk+PTQ/KHIuYS52KFwiVFNEZW11eGVyXCIsXCJ0c19wYWNrZXRfc2l6ZSA9IDE5MiwgbTJ0cyBtb2RlXCIpLGktPTQpOjIwND09PW4mJnIuYS52KFwiVFNEZW11eGVyXCIsXCJ0c19wYWNrZXRfc2l6ZSA9IDIwNCwgUlMgZW5jb2RlZCBNUEVHMi1UUyBzdHJlYW1cIikse21hdGNoOiEwLGNvbnN1bWVkOjAsdHNfcGFja2V0X3NpemU6bixzeW5jX29mZnNldDppfSl9LHQucHJvdG90eXBlLmJpbmREYXRhU291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm9uRGF0YUFycml2YWw9dGhpcy5wYXJzZUNodW5rcy5iaW5kKHRoaXMpLHRoaXN9LHQucHJvdG90eXBlLnJlc2V0TWVkaWFJbmZvPWZ1bmN0aW9uKCl7dGhpcy5tZWRpYV9pbmZvXz1uZXcgby5hfSx0LnByb3RvdHlwZS5wYXJzZUNodW5rcz1mdW5jdGlvbihlLHQpe2lmKCEodGhpcy5vbkVycm9yJiZ0aGlzLm9uTWVkaWFJbmZvJiZ0aGlzLm9uVHJhY2tNZXRhZGF0YSYmdGhpcy5vbkRhdGFBdmFpbGFibGUpKXRocm93IG5ldyBjLmEoXCJvbkVycm9yICYgb25NZWRpYUluZm8gJiBvblRyYWNrTWV0YWRhdGEgJiBvbkRhdGFBdmFpbGFibGUgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpZWRcIik7dmFyIGk9MDtmb3IodGhpcy5maXJzdF9wYXJzZV8mJih0aGlzLmZpcnN0X3BhcnNlXz0hMSxpPXRoaXMuc3luY19vZmZzZXRfKTtpK3RoaXMudHNfcGFja2V0X3NpemVfPD1lLmJ5dGVMZW5ndGg7KXt2YXIgbj10K2k7MTkyPT09dGhpcy50c19wYWNrZXRfc2l6ZV8mJihpKz00KTt2YXIgYT1uZXcgVWludDhBcnJheShlLGksMTg4KSxzPWFbMF07aWYoNzEhPT1zKXtyLmEuZSh0aGlzLlRBRyxcInN5bmNfYnl0ZSA9IFwiK3MrXCIsIG5vdCAweDQ3XCIpO2JyZWFrfXZhciBvPSg2NCZhWzFdKT4+PjYsZD0oYVsxXSwoMzEmYVsxXSk8PDh8YVsyXSksXz0oNDgmYVszXSk+Pj40LGg9MTUmYVszXSx1PXt9LGw9NDtpZigyPT1ffHwzPT1fKXt2YXIgZj1hWzRdO2lmKDUrZj09PTE4OCl7aSs9MTg4LDIwND09PXRoaXMudHNfcGFja2V0X3NpemVfJiYoaSs9MTYpO2NvbnRpbnVlfWY+MCYmKHU9dGhpcy5wYXJzZUFkYXB0YXRpb25GaWVsZChlLGkrNCwxK2YpKSxsPTUrZn1pZigxPT1ffHwzPT1fKWlmKDA9PT1kfHxkPT09dGhpcy5jdXJyZW50X3BtdF9waWRffHxudWxsIT10aGlzLnBtdF8mJnRoaXMucG10Xy5waWRfc3RyZWFtX3R5cGVbZF09PT1FLmtTQ1RFMzUpe3ZhciBwPTE4OC1sO3RoaXMuaGFuZGxlU2VjdGlvblNsaWNlKGUsaStsLHAse3BpZDpkLGZpbGVfcG9zaXRpb246bixwYXlsb2FkX3VuaXRfc3RhcnRfaW5kaWNhdG9yOm8sY29udGludWl0eV9jb251bnRlcjpoLHJhbmRvbV9hY2Nlc3NfaW5kaWNhdG9yOnUucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3J9KX1lbHNlIGlmKG51bGwhPXRoaXMucG10XyYmbnVsbCE9dGhpcy5wbXRfLnBpZF9zdHJlYW1fdHlwZVtkXSl7cD0xODgtbDt2YXIgbT10aGlzLnBtdF8ucGlkX3N0cmVhbV90eXBlW2RdO2QhPT10aGlzLnBtdF8uY29tbW9uX3BpZHMuaDI2NCYmZCE9PXRoaXMucG10Xy5jb21tb25fcGlkcy5oMjY1JiZkIT09dGhpcy5wbXRfLmNvbW1vbl9waWRzLmFkdHNfYWFjJiZkIT09dGhpcy5wbXRfLmNvbW1vbl9waWRzLmxvYXNfYWFjJiZkIT09dGhpcy5wbXRfLmNvbW1vbl9waWRzLmFjMyYmZCE9PXRoaXMucG10Xy5jb21tb25fcGlkcy5vcHVzJiZkIT09dGhpcy5wbXRfLmNvbW1vbl9waWRzLm1wMyYmITAhPT10aGlzLnBtdF8ucGVzX3ByaXZhdGVfZGF0YV9waWRzW2RdJiYhMCE9PXRoaXMucG10Xy50aW1lZF9pZDNfcGlkc1tkXXx8dGhpcy5oYW5kbGVQRVNTbGljZShlLGkrbCxwLHtwaWQ6ZCxzdHJlYW1fdHlwZTptLGZpbGVfcG9zaXRpb246bixwYXlsb2FkX3VuaXRfc3RhcnRfaW5kaWNhdG9yOm8sY29udGludWl0eV9jb251bnRlcjpoLHJhbmRvbV9hY2Nlc3NfaW5kaWNhdG9yOnUucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3J9KX1pKz0xODgsMjA0PT09dGhpcy50c19wYWNrZXRfc2l6ZV8mJihpKz0xNil9cmV0dXJuIHRoaXMuZGlzcGF0Y2hBdWRpb1ZpZGVvTWVkaWFTZWdtZW50KCksaX0sdC5wcm90b3R5cGUucGFyc2VBZGFwdGF0aW9uRmllbGQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPW5ldyBVaW50OEFycmF5KGUsdCxpKSxhPW5bMF07cmV0dXJuIGE+MD9hPjE4Mz8oci5hLncodGhpcy5UQUcsXCJJbGxlZ2FsIGFkYXB0YXRpb25fZmllbGRfbGVuZ3RoOiBcIithKSx7fSk6e2Rpc2NvbnRpbnVpdHlfaW5kaWNhdG9yOigxMjgmblsxXSk+Pj43LHJhbmRvbV9hY2Nlc3NfaW5kaWNhdG9yOig2NCZuWzFdKT4+PjYsZWxlbWVudGFyeV9zdHJlYW1fcHJpb3JpdHlfaW5kaWNhdG9yOigzMiZuWzFdKT4+PjV9Ont9fSx0LnByb3RvdHlwZS5oYW5kbGVTZWN0aW9uU2xpY2U9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoZSx0LGkpLHI9dGhpcy5zZWN0aW9uX3NsaWNlX3F1ZXVlc19bbi5waWRdO2lmKG4ucGF5bG9hZF91bml0X3N0YXJ0X2luZGljYXRvcil7dmFyIHM9YVswXTtpZihudWxsIT1yJiYwIT09ci50b3RhbF9sZW5ndGgpe3ZhciBvPW5ldyBVaW50OEFycmF5KGUsdCsxLE1hdGgubWluKGkscykpO3Iuc2xpY2VzLnB1c2gobyksci50b3RhbF9sZW5ndGgrPW8uYnl0ZUxlbmd0aCxyLnRvdGFsX2xlbmd0aD09PXIuZXhwZWN0ZWRfbGVuZ3RoP3RoaXMuZW1pdFNlY3Rpb25TbGljZXMocixuKTp0aGlzLmNsZWFyU2xpY2VzKHIsbil9Zm9yKHZhciBkPTErcztkPGEuYnl0ZUxlbmd0aDspe2lmKDI1NT09PWFbZCswXSlicmVhazt2YXIgXz0oMTUmYVtkKzFdKTw8OHxhW2QrMl07dGhpcy5zZWN0aW9uX3NsaWNlX3F1ZXVlc19bbi5waWRdPW5ldyBDLChyPXRoaXMuc2VjdGlvbl9zbGljZV9xdWV1ZXNfW24ucGlkXSkuZXhwZWN0ZWRfbGVuZ3RoPV8rMyxyLmZpbGVfcG9zaXRpb249bi5maWxlX3Bvc2l0aW9uLHIucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3I9bi5yYW5kb21fYWNjZXNzX2luZGljYXRvcjtvPW5ldyBVaW50OEFycmF5KGUsdCtkLE1hdGgubWluKGktZCxyLmV4cGVjdGVkX2xlbmd0aC1yLnRvdGFsX2xlbmd0aCkpO3Iuc2xpY2VzLnB1c2gobyksci50b3RhbF9sZW5ndGgrPW8uYnl0ZUxlbmd0aCxyLnRvdGFsX2xlbmd0aD09PXIuZXhwZWN0ZWRfbGVuZ3RoP3RoaXMuZW1pdFNlY3Rpb25TbGljZXMocixuKTpyLnRvdGFsX2xlbmd0aD49ci5leHBlY3RlZF9sZW5ndGgmJnRoaXMuY2xlYXJTbGljZXMocixuKSxkKz1vLmJ5dGVMZW5ndGh9fWVsc2UgaWYobnVsbCE9ciYmMCE9PXIudG90YWxfbGVuZ3RoKXtvPW5ldyBVaW50OEFycmF5KGUsdCxNYXRoLm1pbihpLHIuZXhwZWN0ZWRfbGVuZ3RoLXIudG90YWxfbGVuZ3RoKSk7ci5zbGljZXMucHVzaChvKSxyLnRvdGFsX2xlbmd0aCs9by5ieXRlTGVuZ3RoLHIudG90YWxfbGVuZ3RoPT09ci5leHBlY3RlZF9sZW5ndGg/dGhpcy5lbWl0U2VjdGlvblNsaWNlcyhyLG4pOnIudG90YWxfbGVuZ3RoPj1yLmV4cGVjdGVkX2xlbmd0aCYmdGhpcy5jbGVhclNsaWNlcyhyLG4pfX0sdC5wcm90b3R5cGUuaGFuZGxlUEVTU2xpY2U9ZnVuY3Rpb24oZSx0LGksbil7dmFyIGE9bmV3IFVpbnQ4QXJyYXkoZSx0LGkpLHM9YVswXTw8MTZ8YVsxXTw8OHxhWzJdLG89KGFbM10sYVs0XTw8OHxhWzVdKTtpZihuLnBheWxvYWRfdW5pdF9zdGFydF9pbmRpY2F0b3Ipe2lmKDEhPT1zKXJldHVybiB2b2lkIHIuYS5lKHRoaXMuVEFHLFwiaGFuZGxlUEVTU2xpY2U6IHBhY2tldF9zdGFydF9jb2RlX3ByZWZpeCBzaG91bGQgYmUgMSBidXQgd2l0aCB2YWx1ZSBcIitzKTt2YXIgZD10aGlzLnBlc19zbGljZV9xdWV1ZXNfW24ucGlkXTtkJiYoMD09PWQuZXhwZWN0ZWRfbGVuZ3RofHxkLmV4cGVjdGVkX2xlbmd0aD09PWQudG90YWxfbGVuZ3RoP3RoaXMuZW1pdFBFU1NsaWNlcyhkLG4pOnRoaXMuY2xlYXJTbGljZXMoZCxuKSksdGhpcy5wZXNfc2xpY2VfcXVldWVzX1tuLnBpZF09bmV3IEMsdGhpcy5wZXNfc2xpY2VfcXVldWVzX1tuLnBpZF0uZmlsZV9wb3NpdGlvbj1uLmZpbGVfcG9zaXRpb24sdGhpcy5wZXNfc2xpY2VfcXVldWVzX1tuLnBpZF0ucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3I9bi5yYW5kb21fYWNjZXNzX2luZGljYXRvcn1pZihudWxsIT10aGlzLnBlc19zbGljZV9xdWV1ZXNfW24ucGlkXSl7dmFyIF89dGhpcy5wZXNfc2xpY2VfcXVldWVzX1tuLnBpZF07Xy5zbGljZXMucHVzaChhKSxuLnBheWxvYWRfdW5pdF9zdGFydF9pbmRpY2F0b3ImJihfLmV4cGVjdGVkX2xlbmd0aD0wPT09bz8wOm8rNiksXy50b3RhbF9sZW5ndGgrPWEuYnl0ZUxlbmd0aCxfLmV4cGVjdGVkX2xlbmd0aD4wJiZfLmV4cGVjdGVkX2xlbmd0aD09PV8udG90YWxfbGVuZ3RoP3RoaXMuZW1pdFBFU1NsaWNlcyhfLG4pOl8uZXhwZWN0ZWRfbGVuZ3RoPjAmJl8uZXhwZWN0ZWRfbGVuZ3RoPF8udG90YWxfbGVuZ3RoJiZ0aGlzLmNsZWFyU2xpY2VzKF8sbil9fSx0LnByb3RvdHlwZS5lbWl0U2VjdGlvblNsaWNlcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1uZXcgVWludDhBcnJheShlLnRvdGFsX2xlbmd0aCksbj0wLGE9MDtuPGUuc2xpY2VzLmxlbmd0aDtuKyspe3ZhciByPWUuc2xpY2VzW25dO2kuc2V0KHIsYSksYSs9ci5ieXRlTGVuZ3RofWUuc2xpY2VzPVtdLGUuZXhwZWN0ZWRfbGVuZ3RoPS0xLGUudG90YWxfbGVuZ3RoPTA7dmFyIHM9bmV3IEQ7cy5waWQ9dC5waWQscy5kYXRhPWkscy5maWxlX3Bvc2l0aW9uPWUuZmlsZV9wb3NpdGlvbixzLnJhbmRvbV9hY2Nlc3NfaW5kaWNhdG9yPWUucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3IsdGhpcy5wYXJzZVNlY3Rpb24ocyl9LHQucHJvdG90eXBlLmVtaXRQRVNTbGljZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9bmV3IFVpbnQ4QXJyYXkoZS50b3RhbF9sZW5ndGgpLG49MCxhPTA7bjxlLnNsaWNlcy5sZW5ndGg7bisrKXt2YXIgcj1lLnNsaWNlc1tuXTtpLnNldChyLGEpLGErPXIuYnl0ZUxlbmd0aH1lLnNsaWNlcz1bXSxlLmV4cGVjdGVkX2xlbmd0aD0tMSxlLnRvdGFsX2xlbmd0aD0wO3ZhciBzPW5ldyBrO3MucGlkPXQucGlkLHMuZGF0YT1pLHMuc3RyZWFtX3R5cGU9dC5zdHJlYW1fdHlwZSxzLmZpbGVfcG9zaXRpb249ZS5maWxlX3Bvc2l0aW9uLHMucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3I9ZS5yYW5kb21fYWNjZXNzX2luZGljYXRvcix0aGlzLnBhcnNlUEVTKHMpfSx0LnByb3RvdHlwZS5jbGVhclNsaWNlcz1mdW5jdGlvbihlLHQpe2Uuc2xpY2VzPVtdLGUuZXhwZWN0ZWRfbGVuZ3RoPS0xLGUudG90YWxfbGVuZ3RoPTB9LHQucHJvdG90eXBlLnBhcnNlU2VjdGlvbj1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsaT1lLnBpZDswPT09aT90aGlzLnBhcnNlUEFUKHQpOmk9PT10aGlzLmN1cnJlbnRfcG10X3BpZF8/dGhpcy5wYXJzZVBNVCh0KTpudWxsIT10aGlzLnBtdF8mJnRoaXMucG10Xy5zY3RlXzM1X3BpZHNbaV0mJnRoaXMucGFyc2VTQ1RFMzUodCl9LHQucHJvdG90eXBlLnBhcnNlUEVTPWZ1bmN0aW9uKGUpe3ZhciB0PWUuZGF0YSxpPXRbMF08PDE2fHRbMV08PDh8dFsyXSxuPXRbM10sYT10WzRdPDw4fHRbNV07aWYoMT09PWkpe2lmKDE4OCE9PW4mJjE5MCE9PW4mJjE5MSE9PW4mJjI0MCE9PW4mJjI0MSE9PW4mJjI1NSE9PW4mJjI0MiE9PW4mJjI0OCE9PW4pe3RbNl07dmFyIHM9KDE5MiZ0WzddKT4+PjYsbz10WzhdLGQ9dm9pZCAwLF89dm9pZCAwOzIhPT1zJiYzIT09c3x8KGQ9NTM2ODcwOTEyKigxNCZ0WzldKSs0MTk0MzA0KigyNTUmdFsxMF0pKzE2Mzg0KigyNTQmdFsxMV0pKzEyOCooMjU1JnRbMTJdKSsoMjU0JnRbMTNdKS8yLF89Mz09PXM/NTM2ODcwOTEyKigxNCZ0WzE0XSkrNDE5NDMwNCooMjU1JnRbMTVdKSsxNjM4NCooMjU0JnRbMTZdKSsxMjgqKDI1NSZ0WzE3XSkrKDI1NCZ0WzE4XSkvMjpkKTt2YXIgaD05K28sYz12b2lkIDA7aWYoMCE9PWEpe2lmKGE8MytvKXJldHVybiB2b2lkIHIuYS52KHRoaXMuVEFHLFwiTWFsZm9ybWVkIFBFUzogUEVTX3BhY2tldF9sZW5ndGggPCAzICsgUEVTX2hlYWRlcl9kYXRhX2xlbmd0aFwiKTtjPWEtMy1vfWVsc2UgYz10LmJ5dGVMZW5ndGgtaDt2YXIgdT10LnN1YmFycmF5KGgsaCtjKTtzd2l0Y2goZS5zdHJlYW1fdHlwZSl7Y2FzZSBFLmtNUEVHMUF1ZGlvOmNhc2UgRS5rTVBFRzJBdWRpbzp0aGlzLnBhcnNlTVAzUGF5bG9hZCh1LGQpO2JyZWFrO2Nhc2UgRS5rUEVTUHJpdmF0ZURhdGE6dGhpcy5wbXRfLmNvbW1vbl9waWRzLm9wdXM9PT1lLnBpZD90aGlzLnBhcnNlT3B1c1BheWxvYWQodSxkKTp0aGlzLnBtdF8uY29tbW9uX3BpZHMuYWMzPT09ZS5waWQ/dGhpcy5wYXJzZUFDM1BheWxvYWQodSxkKTp0aGlzLnBtdF8uc21wdGUyMDM4X3BpZHNbZS5waWRdP3RoaXMucGFyc2VTTVBURTIwMzhNZXRhZGF0YVBheWxvYWQodSxkLF8sZS5waWQsbik6dGhpcy5wYXJzZVBFU1ByaXZhdGVEYXRhUGF5bG9hZCh1LGQsXyxlLnBpZCxuKTticmVhaztjYXNlIEUua0FEVFNBQUM6dGhpcy5wYXJzZUFEVFNBQUNQYXlsb2FkKHUsZCk7YnJlYWs7Y2FzZSBFLmtMT0FTQUFDOnRoaXMucGFyc2VMT0FTQUFDUGF5bG9hZCh1LGQpO2JyZWFrO2Nhc2UgRS5rQUMzOnRoaXMucGFyc2VBQzNQYXlsb2FkKHUsZCk7YnJlYWs7Y2FzZSBFLmtJRDM6dGhpcy5wYXJzZVRpbWVkSUQzTWV0YWRhdGFQYXlsb2FkKHUsZCxfLGUucGlkLG4pO2JyZWFrO2Nhc2UgRS5rSDI2NDp0aGlzLnBhcnNlSDI2NFBheWxvYWQodSxkLF8sZS5maWxlX3Bvc2l0aW9uLGUucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3IpO2JyZWFrO2Nhc2UgRS5rSDI2NTp0aGlzLnBhcnNlSDI2NVBheWxvYWQodSxkLF8sZS5maWxlX3Bvc2l0aW9uLGUucmFuZG9tX2FjY2Vzc19pbmRpY2F0b3IpfX1lbHNlIGlmKCgxODg9PT1ufHwxOTE9PT1ufHwyNDA9PT1ufHwyNDE9PT1ufHwyNTU9PT1ufHwyNDI9PT1ufHwyNDg9PT1uKSYmZS5zdHJlYW1fdHlwZT09PUUua1BFU1ByaXZhdGVEYXRhKXtoPTYsYz12b2lkIDA7Yz0wIT09YT9hOnQuYnl0ZUxlbmd0aC1oO3U9dC5zdWJhcnJheShoLGgrYyk7dGhpcy5wYXJzZVBFU1ByaXZhdGVEYXRhUGF5bG9hZCh1LHZvaWQgMCx2b2lkIDAsZS5waWQsbil9fWVsc2Ugci5hLmUodGhpcy5UQUcsXCJwYXJzZVBFUzogcGFja2V0X3N0YXJ0X2NvZGVfcHJlZml4IHNob3VsZCBiZSAxIGJ1dCB3aXRoIHZhbHVlIFwiK2kpfSx0LnByb3RvdHlwZS5wYXJzZVBBVD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdO2lmKDA9PT10KXt2YXIgaT0oMTUmZVsxXSk8PDh8ZVsyXSxuPShlWzNdLGVbNF0sKDYyJmVbNV0pPj4+MSksYT0xJmVbNV0scz1lWzZdLG89KGVbN10sbnVsbCk7aWYoMT09PWEmJjA9PT1zKShvPW5ldyBUKS52ZXJzaW9uX251bWJlcj1uO2Vsc2UgaWYobnVsbD09KG89dGhpcy5wYXRfKSlyZXR1cm47Zm9yKHZhciBkPWktNS00LF89LTEsaD0tMSxjPTg7Yzw4K2Q7Yys9NCl7dmFyIHU9ZVtjXTw8OHxlW2MrMV0sbD0oMzEmZVtjKzJdKTw8OHxlW2MrM107MD09PXU/by5uZXR3b3JrX3BpZD1sOihvLnByb2dyYW1fcG10X3BpZFt1XT1sLC0xPT09XyYmKF89dSksLTE9PT1oJiYoaD1sKSl9MT09PWEmJjA9PT1zJiYobnVsbD09dGhpcy5wYXRfJiZyLmEudih0aGlzLlRBRyxcIlBhcnNlZCBmaXJzdCBQQVQ6IFwiK0pTT04uc3RyaW5naWZ5KG8pKSx0aGlzLnBhdF89byx0aGlzLmN1cnJlbnRfcHJvZ3JhbV89Xyx0aGlzLmN1cnJlbnRfcG10X3BpZF89aCl9ZWxzZSByLmEuZSh0aGlzLlRBRyxcInBhcnNlUEFUOiB0YWJsZV9pZCBcIit0K1wiIGlzIG5vdCBjb3JyZXNwb25kZWQgdG8gUEFUIVwiKX0sdC5wcm90b3R5cGUucGFyc2VQTVQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXTtpZigyPT09dCl7dmFyIGk9KDE1JmVbMV0pPDw4fGVbMl0sbj1lWzNdPDw4fGVbNF0sYT0oNjImZVs1XSk+Pj4xLHM9MSZlWzVdLG89ZVs2XSxkPShlWzddLG51bGwpO2lmKDE9PT1zJiYwPT09bykoZD1uZXcgdykucHJvZ3JhbV9udW1iZXI9bixkLnZlcnNpb25fbnVtYmVyPWEsdGhpcy5wcm9ncmFtX3BtdF9tYXBfW25dPWQ7ZWxzZSBpZihudWxsPT0oZD10aGlzLnByb2dyYW1fcG10X21hcF9bbl0pKXJldHVybjtlWzhdLGVbOV07Zm9yKHZhciBfPSgxNSZlWzEwXSk8PDh8ZVsxMV0saD0xMitfLGM9aS05LV8tNCx1PWg7dTxoK2M7KXt2YXIgbD1lW3VdLGY9KDMxJmVbdSsxXSk8PDh8ZVt1KzJdLHA9KDE1JmVbdSszXSk8PDh8ZVt1KzRdO2QucGlkX3N0cmVhbV90eXBlW2ZdPWw7dmFyIG09ZC5jb21tb25fcGlkcy5oMjY0fHxkLmNvbW1vbl9waWRzLmgyNjUsZz1kLmNvbW1vbl9waWRzLmFkdHNfYWFjfHxkLmNvbW1vbl9waWRzLmxvYXNfYWFjfHxkLmNvbW1vbl9waWRzLmFjM3x8ZC5jb21tb25fcGlkcy5vcHVzfHxkLmNvbW1vbl9waWRzLm1wMztpZihsIT09RS5rSDI2NHx8bSlpZihsIT09RS5rSDI2NXx8bSlpZihsIT09RS5rQURUU0FBQ3x8ZylpZihsIT09RS5rTE9BU0FBQ3x8ZylpZihsIT09RS5rQUMzfHxnKWlmKGwhPT1FLmtNUEVHMUF1ZGlvJiZsIT09RS5rTVBFRzJBdWRpb3x8ZylpZihsPT09RS5rUEVTUHJpdmF0ZURhdGEpe2lmKGQucGVzX3ByaXZhdGVfZGF0YV9waWRzW2ZdPSEwLHA+MCl7Zm9yKHZhciB2PXUrNTt2PHUrNStwOyl7dmFyIHk9ZVt2KzBdLGI9ZVt2KzFdO2lmKDU9PT15KXt2YXIgUz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxBcnJheS5mcm9tKGUuc3ViYXJyYXkodisyLHYrMitiKSkpO1wiVkFOQ1wiPT09Uz9kLnNtcHRlMjAzOF9waWRzW2ZdPSEwOlwiT3B1c1wiPT09UyYmKGQuY29tbW9uX3BpZHMub3B1cz1mKX1lbHNlIGlmKDEyNz09PXkmJmY9PT1kLmNvbW1vbl9waWRzLm9wdXMpe3ZhciBBPW51bGw7aWYoMTI4PT09ZVt2KzJdJiYoQT1lW3YrM10pLG51bGw9PUEpe3IuYS5lKHRoaXMuVEFHLFwiTm90IFN1cHBvcnRlZCBPcHVzIGNoYW5uZWwgY291bnQuXCIpO2NvbnRpbnVlfXZhciBSPXtjb2RlYzpcIm9wdXNcIixjaGFubmVsX2NvdW50OjA9PSgxNSZBKT8yOjE1JkEsY2hhbm5lbF9jb25maWdfY29kZTpBLHNhbXBsZV9yYXRlOjQ4ZTN9LFQ9e2NvZGVjOlwib3B1c1wiLG1ldGE6Un07MD09dGhpcy5hdWRpb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8/KHRoaXMuYXVkaW9fbWV0YWRhdGFfPVIsdGhpcy5kaXNwYXRjaEF1ZGlvSW5pdFNlZ21lbnQoVCkpOnRoaXMuZGV0ZWN0QXVkaW9NZXRhZGF0YUNoYW5nZShUKSYmKHRoaXMuZGlzcGF0Y2hBdWRpb01lZGlhU2VnbWVudCgpLHRoaXMuZGlzcGF0Y2hBdWRpb0luaXRTZWdtZW50KFQpKX12Kz0yK2J9dmFyIEw9ZS5zdWJhcnJheSh1KzUsdSs1K3ApO3RoaXMuZGlzcGF0Y2hQRVNQcml2YXRlRGF0YURlc2NyaXB0b3IoZixsLEwpfX1lbHNlIGw9PT1FLmtJRDM/ZC50aW1lZF9pZDNfcGlkc1tmXT0hMDpsPT09RS5rU0NURTM1JiYoZC5zY3RlXzM1X3BpZHNbZl09ITApO2Vsc2UgZC5jb21tb25fcGlkcy5tcDM9ZjtlbHNlIGQuY29tbW9uX3BpZHMuYWMzPWY7ZWxzZSBkLmNvbW1vbl9waWRzLmxvYXNfYWFjPWY7ZWxzZSBkLmNvbW1vbl9waWRzLmFkdHNfYWFjPWY7ZWxzZSBkLmNvbW1vbl9waWRzLmgyNjU9ZjtlbHNlIGQuY29tbW9uX3BpZHMuaDI2ND1mO3UrPTUrcH1uPT09dGhpcy5jdXJyZW50X3Byb2dyYW1fJiYobnVsbD09dGhpcy5wbXRfJiZyLmEudih0aGlzLlRBRyxcIlBhcnNlZCBmaXJzdCBQTVQ6IFwiK0pTT04uc3RyaW5naWZ5KGQpKSx0aGlzLnBtdF89ZCwoZC5jb21tb25fcGlkcy5oMjY0fHxkLmNvbW1vbl9waWRzLmgyNjUpJiYodGhpcy5oYXNfdmlkZW9fPSEwKSwoZC5jb21tb25fcGlkcy5hZHRzX2FhY3x8ZC5jb21tb25fcGlkcy5sb2FzX2FhY3x8ZC5jb21tb25fcGlkcy5hYzN8fGQuY29tbW9uX3BpZHMub3B1c3x8ZC5jb21tb25fcGlkcy5tcDMpJiYodGhpcy5oYXNfYXVkaW9fPSEwKSl9ZWxzZSByLmEuZSh0aGlzLlRBRyxcInBhcnNlUE1UOiB0YWJsZV9pZCBcIit0K1wiIGlzIG5vdCBjb3JyZXNwb25kZWQgdG8gUE1UIVwiKX0sdC5wcm90b3R5cGUucGFyc2VTQ1RFMzU9ZnVuY3Rpb24oZSl7dmFyIHQ9b2UoZSk7aWYobnVsbCE9dC5wdHMpe3ZhciBpPU1hdGguZmxvb3IodC5wdHMvdGhpcy50aW1lc2NhbGVfKTt0LnB0cz1pfWVsc2UgdC5uZWFyZXN0X3B0cz10aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfO3RoaXMub25TQ1RFMzVNZXRhZGF0YSYmdGhpcy5vblNDVEUzNU1ldGFkYXRhKHQpfSx0LnByb3RvdHlwZS5wYXJzZUgyNjRQYXlsb2FkPWZ1bmN0aW9uKGUsdCxpLG4sYSl7Zm9yKHZhciBzPW5ldyBNKGUpLG89bnVsbCxkPVtdLF89MCxoPSExO251bGwhPShvPXMucmVhZE5leHROYWx1UGF5bG9hZCgpKTspe3ZhciBjPW5ldyBQKG8pO2lmKGMudHlwZT09PUwua1NsaWNlU1BTKXt2YXIgdT1wLnBhcnNlU1BTKG8uZGF0YSk7dGhpcy52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8/ITA9PT10aGlzLmRldGVjdFZpZGVvTWV0YWRhdGFDaGFuZ2UoYyx1KSYmKHIuYS52KHRoaXMuVEFHLFwiSDI2NDogQ3JpdGljYWwgaDI2NCBtZXRhZGF0YSBoYXMgYmVlbiBjaGFuZ2VkLCBhdHRlbXB0IHRvIHJlLWdlbmVyYXRlIEluaXRTZWdtZW50XCIpLHRoaXMudmlkZW9fbWV0YWRhdGFfY2hhbmdlZF89ITAsdGhpcy52aWRlb19tZXRhZGF0YV89e3Zwczp2b2lkIDAsc3BzOmMscHBzOnZvaWQgMCxkZXRhaWxzOnV9KToodGhpcy52aWRlb19tZXRhZGF0YV8uc3BzPWMsdGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscz11KX1lbHNlIGMudHlwZT09PUwua1NsaWNlUFBTP3RoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfJiYhdGhpcy52aWRlb19tZXRhZGF0YV9jaGFuZ2VkX3x8KHRoaXMudmlkZW9fbWV0YWRhdGFfLnBwcz1jLHRoaXMudmlkZW9fbWV0YWRhdGFfLnNwcyYmdGhpcy52aWRlb19tZXRhZGF0YV8ucHBzJiYodGhpcy52aWRlb19tZXRhZGF0YV9jaGFuZ2VkXyYmdGhpcy5kaXNwYXRjaFZpZGVvTWVkaWFTZWdtZW50KCksdGhpcy5kaXNwYXRjaFZpZGVvSW5pdFNlZ21lbnQoKSkpOihjLnR5cGU9PT1MLmtTbGljZUlEUnx8Yy50eXBlPT09TC5rU2xpY2VOb25JRFImJjE9PT1hKSYmKGg9ITApO3RoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfJiYoZC5wdXNoKGMpLF8rPWMuZGF0YS5ieXRlTGVuZ3RoKX12YXIgbD1NYXRoLmZsb29yKHQvdGhpcy50aW1lc2NhbGVfKSxmPU1hdGguZmxvb3IoaS90aGlzLnRpbWVzY2FsZV8pO2lmKGQubGVuZ3RoKXt2YXIgbT10aGlzLnZpZGVvX3RyYWNrXyxnPXt1bml0czpkLGxlbmd0aDpfLGlzS2V5ZnJhbWU6aCxkdHM6ZixwdHM6bCxjdHM6bC1mLGZpbGVfcG9zaXRpb246bn07bS5zYW1wbGVzLnB1c2goZyksbS5sZW5ndGgrPV99fSx0LnByb3RvdHlwZS5wYXJzZUgyNjVQYXlsb2FkPWZ1bmN0aW9uKGUsdCxpLG4sYSl7Zm9yKHZhciBzPW5ldyBoZShlKSxvPW51bGwsZD1bXSxfPTAsaD0hMTtudWxsIT0obz1zLnJlYWROZXh0TmFsdVBheWxvYWQoKSk7KXt2YXIgYz1uZXcgX2Uobyk7aWYoYy50eXBlPT09WC5rU2xpY2VWUFMpe2lmKCF0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXyl7dmFyIHU9Zy5wYXJzZVZQUyhvLmRhdGEpO3RoaXMudmlkZW9fbWV0YWRhdGFfLnZwcz1jLHRoaXMudmlkZW9fbWV0YWRhdGFfLmRldGFpbHM9eWUoeWUoe30sdGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscyksdSl9fWVsc2UgaWYoYy50eXBlPT09WC5rU2xpY2VTUFMpe3U9Zy5wYXJzZVNQUyhvLmRhdGEpO3RoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfPyEwPT09dGhpcy5kZXRlY3RWaWRlb01ldGFkYXRhQ2hhbmdlKGMsdSkmJihyLmEudih0aGlzLlRBRyxcIkgyNjU6IENyaXRpY2FsIGgyNjUgbWV0YWRhdGEgaGFzIGJlZW4gY2hhbmdlZCwgYXR0ZW1wdCB0byByZS1nZW5lcmF0ZSBJbml0U2VnbWVudFwiKSx0aGlzLnZpZGVvX21ldGFkYXRhX2NoYW5nZWRfPSEwLHRoaXMudmlkZW9fbWV0YWRhdGFfPXt2cHM6dm9pZCAwLHNwczpjLHBwczp2b2lkIDAsZGV0YWlsczp1fSk6KHRoaXMudmlkZW9fbWV0YWRhdGFfLnNwcz1jLHRoaXMudmlkZW9fbWV0YWRhdGFfLmRldGFpbHM9eWUoeWUoe30sdGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscyksdSkpfWVsc2UgaWYoYy50eXBlPT09WC5rU2xpY2VQUFMpe2lmKCF0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkX3x8dGhpcy52aWRlb19tZXRhZGF0YV9jaGFuZ2VkXyl7dT1nLnBhcnNlUFBTKG8uZGF0YSk7dGhpcy52aWRlb19tZXRhZGF0YV8ucHBzPWMsdGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscz15ZSh5ZSh7fSx0aGlzLnZpZGVvX21ldGFkYXRhXy5kZXRhaWxzKSx1KSx0aGlzLnZpZGVvX21ldGFkYXRhXy52cHMmJnRoaXMudmlkZW9fbWV0YWRhdGFfLnNwcyYmdGhpcy52aWRlb19tZXRhZGF0YV8ucHBzJiYodGhpcy52aWRlb19tZXRhZGF0YV9jaGFuZ2VkXyYmdGhpcy5kaXNwYXRjaFZpZGVvTWVkaWFTZWdtZW50KCksdGhpcy5kaXNwYXRjaFZpZGVvSW5pdFNlZ21lbnQoKSl9fWVsc2UgYy50eXBlIT09WC5rU2xpY2VJRFJfV19SQURMJiZjLnR5cGUhPT1YLmtTbGljZUlEUl9OX0xQJiZjLnR5cGUhPT1YLmtTbGljZUNSQV9OVVR8fChoPSEwKTt0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXyYmKGQucHVzaChjKSxfKz1jLmRhdGEuYnl0ZUxlbmd0aCl9dmFyIGw9TWF0aC5mbG9vcih0L3RoaXMudGltZXNjYWxlXyksZj1NYXRoLmZsb29yKGkvdGhpcy50aW1lc2NhbGVfKTtpZihkLmxlbmd0aCl7dmFyIHA9dGhpcy52aWRlb190cmFja18sbT17dW5pdHM6ZCxsZW5ndGg6Xyxpc0tleWZyYW1lOmgsZHRzOmYscHRzOmwsY3RzOmwtZixmaWxlX3Bvc2l0aW9uOm59O3Auc2FtcGxlcy5wdXNoKG0pLHAubGVuZ3RoKz1ffX0sdC5wcm90b3R5cGUuZGV0ZWN0VmlkZW9NZXRhZGF0YUNoYW5nZT1mdW5jdGlvbihlLHQpe2lmKHQuY29kZWNfbWltZXR5cGUhPT10aGlzLnZpZGVvX21ldGFkYXRhXy5kZXRhaWxzLmNvZGVjX21pbWV0eXBlKXJldHVybiByLmEudih0aGlzLlRBRyxcIlZpZGVvOiBDb2RlYyBtaW1lVHlwZSBjaGFuZ2VkIGZyb20gXCIrdGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscy5jb2RlY19taW1ldHlwZStcIiB0byBcIit0LmNvZGVjX21pbWV0eXBlKSwhMDtpZih0LmNvZGVjX3NpemUud2lkdGghPT10aGlzLnZpZGVvX21ldGFkYXRhXy5kZXRhaWxzLmNvZGVjX3NpemUud2lkdGh8fHQuY29kZWNfc2l6ZS5oZWlnaHQhPT10aGlzLnZpZGVvX21ldGFkYXRhXy5kZXRhaWxzLmNvZGVjX3NpemUuaGVpZ2h0KXt2YXIgaT10aGlzLnZpZGVvX21ldGFkYXRhXy5kZXRhaWxzLmNvZGVjX3NpemUsbj10LmNvZGVjX3NpemU7cmV0dXJuIHIuYS52KHRoaXMuVEFHLFwiVmlkZW86IENvZGVkIFJlc29sdXRpb24gY2hhbmdlZCBmcm9tIFwiK2kud2lkdGgrXCJ4XCIraS5oZWlnaHQrXCIgdG8gXCIrbi53aWR0aCtcInhcIituLmhlaWdodCksITB9cmV0dXJuIHQucHJlc2VudF9zaXplLndpZHRoIT09dGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscy5wcmVzZW50X3NpemUud2lkdGgmJihyLmEudih0aGlzLlRBRyxcIlZpZGVvOiBQcmVzZW50IHJlc29sdXRpb24gd2lkdGggY2hhbmdlZCBmcm9tIFwiK3RoaXMudmlkZW9fbWV0YWRhdGFfLmRldGFpbHMucHJlc2VudF9zaXplLndpZHRoK1wiIHRvIFwiK3QucHJlc2VudF9zaXplLndpZHRoKSwhMCl9LHQucHJvdG90eXBlLmlzSW5pdFNlZ21lbnREaXNwYXRjaGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzX3ZpZGVvXyYmdGhpcy5oYXNfYXVkaW9fP3RoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfJiZ0aGlzLmF1ZGlvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXzp0aGlzLmhhc192aWRlb18mJiF0aGlzLmhhc19hdWRpb18/dGhpcy52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF86ISh0aGlzLmhhc192aWRlb198fCF0aGlzLmhhc19hdWRpb18pJiZ0aGlzLmF1ZGlvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkX30sdC5wcm90b3R5cGUuZGlzcGF0Y2hWaWRlb0luaXRTZWdtZW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy52aWRlb19tZXRhZGF0YV8uZGV0YWlscyx0PXt0eXBlOlwidmlkZW9cIn07dC5pZD10aGlzLnZpZGVvX3RyYWNrXy5pZCx0LnRpbWVzY2FsZT0xZTMsdC5kdXJhdGlvbj10aGlzLmR1cmF0aW9uXyx0LmNvZGVjV2lkdGg9ZS5jb2RlY19zaXplLndpZHRoLHQuY29kZWNIZWlnaHQ9ZS5jb2RlY19zaXplLmhlaWdodCx0LnByZXNlbnRXaWR0aD1lLnByZXNlbnRfc2l6ZS53aWR0aCx0LnByZXNlbnRIZWlnaHQ9ZS5wcmVzZW50X3NpemUuaGVpZ2h0LHQucHJvZmlsZT1lLnByb2ZpbGVfc3RyaW5nLHQubGV2ZWw9ZS5sZXZlbF9zdHJpbmcsdC5iaXREZXB0aD1lLmJpdF9kZXB0aCx0LmNocm9tYUZvcm1hdD1lLmNocm9tYV9mb3JtYXQsdC5zYXJSYXRpbz1lLnNhcl9yYXRpbyx0LmZyYW1lUmF0ZT1lLmZyYW1lX3JhdGU7dmFyIGk9dC5mcmFtZVJhdGUuZnBzX2RlbixuPXQuZnJhbWVSYXRlLmZwc19udW07aWYodC5yZWZTYW1wbGVEdXJhdGlvbj1pL24qMWUzLHQuY29kZWM9ZS5jb2RlY19taW1ldHlwZSx0aGlzLnZpZGVvX21ldGFkYXRhXy52cHMpe3ZhciBhPXRoaXMudmlkZW9fbWV0YWRhdGFfLnZwcy5kYXRhLnN1YmFycmF5KDQpLHM9dGhpcy52aWRlb19tZXRhZGF0YV8uc3BzLmRhdGEuc3ViYXJyYXkoNCksbz10aGlzLnZpZGVvX21ldGFkYXRhXy5wcHMuZGF0YS5zdWJhcnJheSg0KSxkPW5ldyBjZShhLHMsbyxlKTt0Lmh2Y2M9ZC5nZXREYXRhKCksMD09dGhpcy52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8mJnIuYS52KHRoaXMuVEFHLFwiR2VuZXJhdGVkIGZpcnN0IEhFVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCBmb3IgbWltZVR5cGU6IFwiK3QuY29kZWMpfWVsc2V7cz10aGlzLnZpZGVvX21ldGFkYXRhXy5zcHMuZGF0YS5zdWJhcnJheSg0KSxvPXRoaXMudmlkZW9fbWV0YWRhdGFfLnBwcy5kYXRhLnN1YmFycmF5KDQpO3ZhciBfPW5ldyB4KHMsbyxlKTt0LmF2Y2M9Xy5nZXREYXRhKCksMD09dGhpcy52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8mJnIuYS52KHRoaXMuVEFHLFwiR2VuZXJhdGVkIGZpcnN0IEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkIGZvciBtaW1lVHlwZTogXCIrdC5jb2RlYyl9dGhpcy5vblRyYWNrTWV0YWRhdGEoXCJ2aWRlb1wiLHQpLHRoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfPSEwLHRoaXMudmlkZW9fbWV0YWRhdGFfY2hhbmdlZF89ITE7dmFyIGg9dGhpcy5tZWRpYV9pbmZvXztoLmhhc1ZpZGVvPSEwLGgud2lkdGg9dC5jb2RlY1dpZHRoLGguaGVpZ2h0PXQuY29kZWNIZWlnaHQsaC5mcHM9dC5mcmFtZVJhdGUuZnBzLGgucHJvZmlsZT10LnByb2ZpbGUsaC5sZXZlbD10LmxldmVsLGgucmVmRnJhbWVzPWUucmVmX2ZyYW1lcyxoLmNocm9tYUZvcm1hdD1lLmNocm9tYV9mb3JtYXRfc3RyaW5nLGguc2FyTnVtPXQuc2FyUmF0aW8ud2lkdGgsaC5zYXJEZW49dC5zYXJSYXRpby5oZWlnaHQsaC52aWRlb0NvZGVjPXQuY29kZWMsaC5oYXNBdWRpbyYmaC5hdWRpb0NvZGVjP2gubWltZVR5cGU9J3ZpZGVvL21wMnQ7IGNvZGVjcz1cIicraC52aWRlb0NvZGVjK1wiLFwiK2guYXVkaW9Db2RlYysnXCInOmgubWltZVR5cGU9J3ZpZGVvL21wMnQ7IGNvZGVjcz1cIicraC52aWRlb0NvZGVjKydcIicsaC5pc0NvbXBsZXRlKCkmJnRoaXMub25NZWRpYUluZm8oaCl9LHQucHJvdG90eXBlLmRpc3BhdGNoVmlkZW9NZWRpYVNlZ21lbnQ9ZnVuY3Rpb24oKXt0aGlzLmlzSW5pdFNlZ21lbnREaXNwYXRjaGVkKCkmJnRoaXMudmlkZW9fdHJhY2tfLmxlbmd0aCYmdGhpcy5vbkRhdGFBdmFpbGFibGUobnVsbCx0aGlzLnZpZGVvX3RyYWNrXyl9LHQucHJvdG90eXBlLmRpc3BhdGNoQXVkaW9NZWRpYVNlZ21lbnQ9ZnVuY3Rpb24oKXt0aGlzLmlzSW5pdFNlZ21lbnREaXNwYXRjaGVkKCkmJnRoaXMuYXVkaW9fdHJhY2tfLmxlbmd0aCYmdGhpcy5vbkRhdGFBdmFpbGFibGUodGhpcy5hdWRpb190cmFja18sbnVsbCl9LHQucHJvdG90eXBlLmRpc3BhdGNoQXVkaW9WaWRlb01lZGlhU2VnbWVudD1mdW5jdGlvbigpe3RoaXMuaXNJbml0U2VnbWVudERpc3BhdGNoZWQoKSYmKHRoaXMuYXVkaW9fdHJhY2tfLmxlbmd0aHx8dGhpcy52aWRlb190cmFja18ubGVuZ3RoKSYmdGhpcy5vbkRhdGFBdmFpbGFibGUodGhpcy5hdWRpb190cmFja18sdGhpcy52aWRlb190cmFja18pfSx0LnByb3RvdHlwZS5wYXJzZUFEVFNBQUNQYXlsb2FkPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuaGFzX3ZpZGVvX3x8dGhpcy52aWRlb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8pe2lmKHRoaXMuYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXyl7dmFyIGk9bmV3IFVpbnQ4QXJyYXkoZS5ieXRlTGVuZ3RoK3RoaXMuYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXy5ieXRlTGVuZ3RoKTtpLnNldCh0aGlzLmFhY19sYXN0X2luY29tcGxldGVfZGF0YV8sMCksaS5zZXQoZSx0aGlzLmFhY19sYXN0X2luY29tcGxldGVfZGF0YV8uYnl0ZUxlbmd0aCksZT1pfXZhciBuLGE7aWYobnVsbCE9dCYmKGE9dC90aGlzLnRpbWVzY2FsZV8pLFwiYWFjXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYyl7aWYobnVsbD09dCYmbnVsbCE9dGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXyluPTEwMjQvdGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxpbmdfZnJlcXVlbmN5KjFlMyxhPXRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c18rbjtlbHNlIGlmKG51bGw9PXQpcmV0dXJuIHZvaWQgci5hLncodGhpcy5UQUcsXCJBQUM6IFVua25vd24gcHRzXCIpO2lmKHRoaXMuYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXyYmdGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXyl7bj0xMDI0L3RoaXMuYXVkaW9fbWV0YWRhdGFfLnNhbXBsaW5nX2ZyZXF1ZW5jeSoxZTM7dmFyIHM9dGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXytuO01hdGguYWJzKHMtYSk+MSYmKHIuYS53KHRoaXMuVEFHLFwiQUFDOiBEZXRlY3RlZCBwdHMgb3ZlcmxhcHBlZCwgZXhwZWN0ZWQ6IFwiK3MrXCJtcywgUEVTIHB0czogXCIrYStcIm1zXCIpLGE9cyl9fWZvcih2YXIgbyxkPW5ldyB6KGUpLF89bnVsbCxoPWE7bnVsbCE9KF89ZC5yZWFkTmV4dEFBQ0ZyYW1lKCkpOyl7bj0xMDI0L18uc2FtcGxpbmdfZnJlcXVlbmN5KjFlMzt2YXIgYz17Y29kZWM6XCJhYWNcIixkYXRhOl99OzA9PXRoaXMuYXVkaW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfPyh0aGlzLmF1ZGlvX21ldGFkYXRhXz17Y29kZWM6XCJhYWNcIixhdWRpb19vYmplY3RfdHlwZTpfLmF1ZGlvX29iamVjdF90eXBlLHNhbXBsaW5nX2ZyZXFfaW5kZXg6Xy5zYW1wbGluZ19mcmVxX2luZGV4LHNhbXBsaW5nX2ZyZXF1ZW5jeTpfLnNhbXBsaW5nX2ZyZXF1ZW5jeSxjaGFubmVsX2NvbmZpZzpfLmNoYW5uZWxfY29uZmlnfSx0aGlzLmRpc3BhdGNoQXVkaW9Jbml0U2VnbWVudChjKSk6dGhpcy5kZXRlY3RBdWRpb01ldGFkYXRhQ2hhbmdlKGMpJiYodGhpcy5kaXNwYXRjaEF1ZGlvTWVkaWFTZWdtZW50KCksdGhpcy5kaXNwYXRjaEF1ZGlvSW5pdFNlZ21lbnQoYykpLG89aDt2YXIgdT1NYXRoLmZsb29yKGgpLGw9e3VuaXQ6Xy5kYXRhLGxlbmd0aDpfLmRhdGEuYnl0ZUxlbmd0aCxwdHM6dSxkdHM6dX07dGhpcy5hdWRpb190cmFja18uc2FtcGxlcy5wdXNoKGwpLHRoaXMuYXVkaW9fdHJhY2tfLmxlbmd0aCs9Xy5kYXRhLmJ5dGVMZW5ndGgsaCs9bn1kLmhhc0luY29tcGxldGVEYXRhKCkmJih0aGlzLmFhY19sYXN0X2luY29tcGxldGVfZGF0YV89ZC5nZXRJbmNvbXBsZXRlRGF0YSgpKSxvJiYodGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXz1vKX19LHQucHJvdG90eXBlLnBhcnNlTE9BU0FBQ1BheWxvYWQ9ZnVuY3Rpb24oZSx0KXt2YXIgaTtpZighdGhpcy5oYXNfdmlkZW9ffHx0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXyl7aWYodGhpcy5hYWNfbGFzdF9pbmNvbXBsZXRlX2RhdGFfKXt2YXIgbj1uZXcgVWludDhBcnJheShlLmJ5dGVMZW5ndGgrdGhpcy5hYWNfbGFzdF9pbmNvbXBsZXRlX2RhdGFfLmJ5dGVMZW5ndGgpO24uc2V0KHRoaXMuYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXywwKSxuLnNldChlLHRoaXMuYWFjX2xhc3RfaW5jb21wbGV0ZV9kYXRhXy5ieXRlTGVuZ3RoKSxlPW59dmFyIGEscztpZihudWxsIT10JiYocz10L3RoaXMudGltZXNjYWxlXyksXCJhYWNcIj09PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmNvZGVjKXtpZihudWxsPT10JiZudWxsIT10aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfKWE9MTAyNC90aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGluZ19mcmVxdWVuY3kqMWUzLHM9dGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXythO2Vsc2UgaWYobnVsbD09dClyZXR1cm4gdm9pZCByLmEudyh0aGlzLlRBRyxcIkFBQzogVW5rbm93biBwdHNcIik7aWYodGhpcy5hYWNfbGFzdF9pbmNvbXBsZXRlX2RhdGFfJiZ0aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfKXthPTEwMjQvdGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxpbmdfZnJlcXVlbmN5KjFlMzt2YXIgbz10aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfK2E7TWF0aC5hYnMoby1zKT4xJiYoci5hLncodGhpcy5UQUcsXCJBQUM6IERldGVjdGVkIHB0cyBvdmVybGFwcGVkLCBleHBlY3RlZDogXCIrbytcIm1zLCBQRVMgcHRzOiBcIitzK1wibXNcIikscz1vKX19Zm9yKHZhciBkLF89bmV3IEgoZSksaD1udWxsLGM9cztudWxsIT0oaD1fLnJlYWROZXh0QUFDRnJhbWUobnVsbCE9PShpPXRoaXMubG9hc19wcmV2aW91c19mcmFtZSkmJnZvaWQgMCE9PWk/aTp2b2lkIDApKTspe3RoaXMubG9hc19wcmV2aW91c19mcmFtZT1oLGE9MTAyNC9oLnNhbXBsaW5nX2ZyZXF1ZW5jeSoxZTM7dmFyIHU9e2NvZGVjOlwiYWFjXCIsZGF0YTpofTswPT10aGlzLmF1ZGlvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXz8odGhpcy5hdWRpb19tZXRhZGF0YV89e2NvZGVjOlwiYWFjXCIsYXVkaW9fb2JqZWN0X3R5cGU6aC5hdWRpb19vYmplY3RfdHlwZSxzYW1wbGluZ19mcmVxX2luZGV4Omguc2FtcGxpbmdfZnJlcV9pbmRleCxzYW1wbGluZ19mcmVxdWVuY3k6aC5zYW1wbGluZ19mcmVxdWVuY3ksY2hhbm5lbF9jb25maWc6aC5jaGFubmVsX2NvbmZpZ30sdGhpcy5kaXNwYXRjaEF1ZGlvSW5pdFNlZ21lbnQodSkpOnRoaXMuZGV0ZWN0QXVkaW9NZXRhZGF0YUNoYW5nZSh1KSYmKHRoaXMuZGlzcGF0Y2hBdWRpb01lZGlhU2VnbWVudCgpLHRoaXMuZGlzcGF0Y2hBdWRpb0luaXRTZWdtZW50KHUpKSxkPWM7dmFyIGw9TWF0aC5mbG9vcihjKSxmPXt1bml0OmguZGF0YSxsZW5ndGg6aC5kYXRhLmJ5dGVMZW5ndGgscHRzOmwsZHRzOmx9O3RoaXMuYXVkaW9fdHJhY2tfLnNhbXBsZXMucHVzaChmKSx0aGlzLmF1ZGlvX3RyYWNrXy5sZW5ndGgrPWguZGF0YS5ieXRlTGVuZ3RoLGMrPWF9Xy5oYXNJbmNvbXBsZXRlRGF0YSgpJiYodGhpcy5hYWNfbGFzdF9pbmNvbXBsZXRlX2RhdGFfPV8uZ2V0SW5jb21wbGV0ZURhdGEoKSksZCYmKHRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c189ZCl9fSx0LnByb3RvdHlwZS5wYXJzZUFDM1BheWxvYWQ9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5oYXNfdmlkZW9ffHx0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXyl7dmFyIGksbjtpZihudWxsIT10JiYobj10L3RoaXMudGltZXNjYWxlXyksXCJhYy0zXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYylpZihudWxsPT10JiZudWxsIT10aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfKWk9MTUzNi90aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGluZ19mcmVxdWVuY3kqMWUzLG49dGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXytpO2Vsc2UgaWYobnVsbD09dClyZXR1cm4gdm9pZCByLmEudyh0aGlzLlRBRyxcIk9wdXM6IFVua25vd24gcHRzXCIpO2Zvcih2YXIgYSxzPW5ldyBtZShlKSxvPW51bGwsZD1uO251bGwhPShvPXMucmVhZE5leHRBQzNGcmFtZSgpKTspe2k9MTUzNi9vLnNhbXBsaW5nX2ZyZXF1ZW5jeSoxZTM7dmFyIF89e2NvZGVjOlwiYWMtM1wiLGRhdGE6b307MD09dGhpcy5hdWRpb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8/KHRoaXMuYXVkaW9fbWV0YWRhdGFfPXtjb2RlYzpcImFjLTNcIixzYW1wbGluZ19mcmVxdWVuY3k6by5zYW1wbGluZ19mcmVxdWVuY3ksYml0X3N0cmVhbV9pZGVudGlmaWNhdGlvbjpvLmJpdF9zdHJlYW1faWRlbnRpZmljYXRpb24sYml0X3N0cmVhbV9tb2RlOm8uYml0X3N0cmVhbV9tb2RlLGxvd19mcmVxdWVuY3lfZWZmZWN0c19jaGFubmVsX29uOm8ubG93X2ZyZXF1ZW5jeV9lZmZlY3RzX2NoYW5uZWxfb24sY2hhbm5lbF9tb2RlOm8uY2hhbm5lbF9tb2RlfSxjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeSh0aGlzLmF1ZGlvX21ldGFkYXRhXykpLHRoaXMuZGlzcGF0Y2hBdWRpb0luaXRTZWdtZW50KF8pKTp0aGlzLmRldGVjdEF1ZGlvTWV0YWRhdGFDaGFuZ2UoXykmJih0aGlzLmRpc3BhdGNoQXVkaW9NZWRpYVNlZ21lbnQoKSx0aGlzLmRpc3BhdGNoQXVkaW9Jbml0U2VnbWVudChfKSksYT1kO3ZhciBoPU1hdGguZmxvb3IoZCksYz17dW5pdDpvLmRhdGEsbGVuZ3RoOm8uZGF0YS5ieXRlTGVuZ3RoLHB0czpoLGR0czpofTt0aGlzLmF1ZGlvX3RyYWNrXy5zYW1wbGVzLnB1c2goYyksdGhpcy5hdWRpb190cmFja18ubGVuZ3RoKz1vLmRhdGEuYnl0ZUxlbmd0aCxkKz1pfWEmJih0aGlzLmFhY19sYXN0X3NhbXBsZV9wdHNfPWEpfX0sdC5wcm90b3R5cGUucGFyc2VPcHVzUGF5bG9hZD1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLmhhc192aWRlb198fHRoaXMudmlkZW9faW5pdF9zZWdtZW50X2Rpc3BhdGNoZWRfKXt2YXIgaSxuO2lmKG51bGwhPXQmJihuPXQvdGhpcy50aW1lc2NhbGVfKSxcIm9wdXNcIj09PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmNvZGVjKWlmKG51bGw9PXQmJm51bGwhPXRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c18paT0yMCxuPXRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c18raTtlbHNlIGlmKG51bGw9PXQpcmV0dXJuIHZvaWQgci5hLncodGhpcy5UQUcsXCJPcHVzOiBVbmtub3duIHB0c1wiKTtmb3IodmFyIGEscz1uLG89MDtvPGUubGVuZ3RoOyl7aT0yMDtmb3IodmFyIGQ9MCE9KDE2JmVbbysxXSksXz0wIT0oOCZlW28rMV0pLGg9bysyLGM9MDsyNTU9PT1lW2hdOyljKz0yNTUsaCs9MTtjKz1lW2hdLGgrPTEsaCs9ZD8yOjAsaCs9Xz8yOjAsYT1zO3ZhciB1PU1hdGguZmxvb3IocyksbD1lLnNsaWNlKGgsaCtjKSxmPXt1bml0OmwsbGVuZ3RoOmwuYnl0ZUxlbmd0aCxwdHM6dSxkdHM6dX07dGhpcy5hdWRpb190cmFja18uc2FtcGxlcy5wdXNoKGYpLHRoaXMuYXVkaW9fdHJhY2tfLmxlbmd0aCs9bC5ieXRlTGVuZ3RoLHMrPWksbz1oK2N9YSYmKHRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c189YSl9fSx0LnByb3RvdHlwZS5wYXJzZU1QM1BheWxvYWQ9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5oYXNfdmlkZW9ffHx0aGlzLnZpZGVvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXyl7dmFyIGk9WzAsMzIsNjQsOTYsMTI4LDE2MCwxOTIsMjI0LDI1NiwyODgsMzIwLDM1MiwzODQsNDE2LDQ0OCwtMV0sbj1bMCwzMiw0OCw1Niw2NCw4MCw5NiwxMTIsMTI4LDE2MCwxOTIsMjI0LDI1NiwzMjAsMzg0LC0xXSxhPVswLDMyLDQwLDQ4LDU2LDY0LDgwLDk2LDExMiwxMjgsMTYwLDE5MiwyMjQsMjU2LDMyMCwtMV0scj1lWzFdPj4+MyYzLHM9KDYmZVsxXSk+PjEsbz0oMjQwJmVbMl0pPj4+NCxkPSgxMiZlWzJdKT4+PjIsXz0zIT09KGVbM10+Pj42JjMpPzI6MSxoPTAsYz0zNDtzd2l0Y2gocil7Y2FzZSAwOmg9WzExMDI1LDEyZTMsOGUzLDBdW2RdO2JyZWFrO2Nhc2UgMjpoPVsyMjA1MCwyNGUzLDE2ZTMsMF1bZF07YnJlYWs7Y2FzZSAzOmg9WzQ0MTAwLDQ4ZTMsMzJlMywwXVtkXX1zd2l0Y2gocyl7Y2FzZSAxOmM9MzQsbzxhLmxlbmd0aCYmYVtvXTticmVhaztjYXNlIDI6Yz0zMyxvPG4ubGVuZ3RoJiZuW29dO2JyZWFrO2Nhc2UgMzpjPTMyLG88aS5sZW5ndGgmJmlbb119dmFyIHU9bmV3IGxlO3Uub2JqZWN0X3R5cGU9Yyx1LnNhbXBsZV9yYXRlPWgsdS5jaGFubmVsX2NvdW50PV8sdS5kYXRhPWU7dmFyIGw9e2NvZGVjOlwibXAzXCIsZGF0YTp1fTswPT10aGlzLmF1ZGlvX2luaXRfc2VnbWVudF9kaXNwYXRjaGVkXz8odGhpcy5hdWRpb19tZXRhZGF0YV89e2NvZGVjOlwibXAzXCIsb2JqZWN0X3R5cGU6YyxzYW1wbGVfcmF0ZTpoLGNoYW5uZWxfY291bnQ6X30sdGhpcy5kaXNwYXRjaEF1ZGlvSW5pdFNlZ21lbnQobCkpOnRoaXMuZGV0ZWN0QXVkaW9NZXRhZGF0YUNoYW5nZShsKSYmKHRoaXMuZGlzcGF0Y2hBdWRpb01lZGlhU2VnbWVudCgpLHRoaXMuZGlzcGF0Y2hBdWRpb0luaXRTZWdtZW50KGwpKTt2YXIgZj17dW5pdDplLGxlbmd0aDplLmJ5dGVMZW5ndGgscHRzOnQvdGhpcy50aW1lc2NhbGVfLGR0czp0L3RoaXMudGltZXNjYWxlX307dGhpcy5hdWRpb190cmFja18uc2FtcGxlcy5wdXNoKGYpLHRoaXMuYXVkaW9fdHJhY2tfLmxlbmd0aCs9ZS5ieXRlTGVuZ3RofX0sdC5wcm90b3R5cGUuZGV0ZWN0QXVkaW9NZXRhZGF0YUNoYW5nZT1mdW5jdGlvbihlKXtpZihlLmNvZGVjIT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMpcmV0dXJuIHIuYS52KHRoaXMuVEFHLFwiQXVkaW86IEF1ZGlvIENvZGVjcyBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMrXCIgdG8gXCIrZS5jb2RlYyksITA7aWYoXCJhYWNcIj09PWUuY29kZWMmJlwiYWFjXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYyl7aWYoKHQ9ZS5kYXRhKS5hdWRpb19vYmplY3RfdHlwZSE9PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmF1ZGlvX29iamVjdF90eXBlKXJldHVybiByLmEudih0aGlzLlRBRyxcIkFBQzogQXVkaW9PYmplY3RUeXBlIGNoYW5nZWQgZnJvbSBcIit0aGlzLmF1ZGlvX21ldGFkYXRhXy5hdWRpb19vYmplY3RfdHlwZStcIiB0byBcIit0LmF1ZGlvX29iamVjdF90eXBlKSwhMDtpZih0LnNhbXBsaW5nX2ZyZXFfaW5kZXghPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGluZ19mcmVxX2luZGV4KXJldHVybiByLmEudih0aGlzLlRBRyxcIkFBQzogU2FtcGxpbmdGcmVxdWVuY3lJbmRleCBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxpbmdfZnJlcV9pbmRleCtcIiB0byBcIit0LnNhbXBsaW5nX2ZyZXFfaW5kZXgpLCEwO2lmKHQuY2hhbm5lbF9jb25maWchPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jaGFubmVsX2NvbmZpZylyZXR1cm4gci5hLnYodGhpcy5UQUcsXCJBQUM6IENoYW5uZWwgY29uZmlndXJhdGlvbiBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uY2hhbm5lbF9jb25maWcrXCIgdG8gXCIrdC5jaGFubmVsX2NvbmZpZyksITB9ZWxzZSBpZihcImFjLTNcIj09PWUuY29kZWMmJlwiYWMtM1wiPT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMpe3ZhciB0O2lmKCh0PWUuZGF0YSkuc2FtcGxpbmdfZnJlcXVlbmN5IT09dGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxpbmdfZnJlcXVlbmN5KXJldHVybiByLmEudih0aGlzLlRBRyxcIkFDMzogU2FtcGxpbmcgRnJlcXVlbmN5IGNoYW5nZWQgZnJvbSBcIit0aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGluZ19mcmVxdWVuY3krXCIgdG8gXCIrdC5zYW1wbGluZ19mcmVxdWVuY3kpLCEwO2lmKHQuYml0X3N0cmVhbV9pZGVudGlmaWNhdGlvbiE9PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmJpdF9zdHJlYW1faWRlbnRpZmljYXRpb24pcmV0dXJuIHIuYS52KHRoaXMuVEFHLFwiQUMzOiBCaXQgU3RyZWFtIElkZW50aWZpY2F0aW9uIGNoYW5nZWQgZnJvbSBcIit0aGlzLmF1ZGlvX21ldGFkYXRhXy5iaXRfc3RyZWFtX2lkZW50aWZpY2F0aW9uK1wiIHRvIFwiK3QuYml0X3N0cmVhbV9pZGVudGlmaWNhdGlvbiksITA7aWYodC5iaXRfc3RyZWFtX21vZGUhPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5iaXRfc3RyZWFtX21vZGUpcmV0dXJuIHIuYS52KHRoaXMuVEFHLFwiQUMzOiBCaXRTdHJlYW0gTW9kZSBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uYml0X3N0cmVhbV9tb2RlK1wiIHRvIFwiK3QuYml0X3N0cmVhbV9tb2RlKSwhMDtpZih0LmNoYW5uZWxfbW9kZSE9PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmNoYW5uZWxfbW9kZSlyZXR1cm4gci5hLnYodGhpcy5UQUcsXCJBQzM6IENoYW5uZWwgTW9kZSBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uY2hhbm5lbF9tb2RlK1wiIHRvIFwiK3QuY2hhbm5lbF9tb2RlKSwhMDtpZih0Lmxvd19mcmVxdWVuY3lfZWZmZWN0c19jaGFubmVsX29uIT09dGhpcy5hdWRpb19tZXRhZGF0YV8ubG93X2ZyZXF1ZW5jeV9lZmZlY3RzX2NoYW5uZWxfb24pcmV0dXJuIHIuYS52KHRoaXMuVEFHLFwiQUMzOiBMb3cgRnJlcXVlbmN5IEVmZmVjdHMgQ2hhbm5lbCBPbiBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8ubG93X2ZyZXF1ZW5jeV9lZmZlY3RzX2NoYW5uZWxfb24rXCIgdG8gXCIrdC5sb3dfZnJlcXVlbmN5X2VmZmVjdHNfY2hhbm5lbF9vbiksITB9ZWxzZSBpZihcIm9wdXNcIj09PWUuY29kZWMmJlwib3B1c1wiPT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMpe2lmKChpPWUubWV0YSkuc2FtcGxlX3JhdGUhPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGVfcmF0ZSlyZXR1cm4gci5hLnYodGhpcy5UQUcsXCJPcHVzOiBTYW1wbGluZ0ZyZXF1ZW5jeUluZGV4IGNoYW5nZWQgZnJvbSBcIit0aGlzLmF1ZGlvX21ldGFkYXRhXy5zYW1wbGVfcmF0ZStcIiB0byBcIitpLnNhbXBsZV9yYXRlKSwhMDtpZihpLmNoYW5uZWxfY291bnQhPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jaGFubmVsX2NvdW50KXJldHVybiByLmEudih0aGlzLlRBRyxcIk9wdXM6IENoYW5uZWwgY291bnQgY2hhbmdlZCBmcm9tIFwiK3RoaXMuYXVkaW9fbWV0YWRhdGFfLmNoYW5uZWxfY291bnQrXCIgdG8gXCIraS5jaGFubmVsX2NvdW50KSwhMH1lbHNlIGlmKFwibXAzXCI9PT1lLmNvZGVjJiZcIm1wM1wiPT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMpe3ZhciBpO2lmKChpPWUuZGF0YSkub2JqZWN0X3R5cGUhPT10aGlzLmF1ZGlvX21ldGFkYXRhXy5vYmplY3RfdHlwZSlyZXR1cm4gci5hLnYodGhpcy5UQUcsXCJNUDM6IEF1ZGlvT2JqZWN0VHlwZSBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8ub2JqZWN0X3R5cGUrXCIgdG8gXCIraS5vYmplY3RfdHlwZSksITA7aWYoaS5zYW1wbGVfcmF0ZSE9PXRoaXMuYXVkaW9fbWV0YWRhdGFfLnNhbXBsZV9yYXRlKXJldHVybiByLmEudih0aGlzLlRBRyxcIk1QMzogU2FtcGxpbmdGcmVxdWVuY3lJbmRleCBjaGFuZ2VkIGZyb20gXCIrdGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxlX3JhdGUrXCIgdG8gXCIraS5zYW1wbGVfcmF0ZSksITA7aWYoaS5jaGFubmVsX2NvdW50IT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY2hhbm5lbF9jb3VudClyZXR1cm4gci5hLnYodGhpcy5UQUcsXCJNUDM6IENoYW5uZWwgY291bnQgY2hhbmdlZCBmcm9tIFwiK3RoaXMuYXVkaW9fbWV0YWRhdGFfLmNoYW5uZWxfY291bnQrXCIgdG8gXCIraS5jaGFubmVsX2NvdW50KSwhMH1yZXR1cm4hMX0sdC5wcm90b3R5cGUuZGlzcGF0Y2hBdWRpb0luaXRTZWdtZW50PWZ1bmN0aW9uKGUpe3ZhciB0PXt0eXBlOlwiYXVkaW9cIn07aWYodC5pZD10aGlzLmF1ZGlvX3RyYWNrXy5pZCx0LnRpbWVzY2FsZT0xZTMsdC5kdXJhdGlvbj10aGlzLmR1cmF0aW9uXyxcImFhY1wiPT09dGhpcy5hdWRpb19tZXRhZGF0YV8uY29kZWMpe3ZhciBpPVwiYWFjXCI9PT1lLmNvZGVjP2UuZGF0YTpudWxsLG49bmV3IHEoaSk7dC5hdWRpb1NhbXBsZVJhdGU9bi5zYW1wbGluZ19yYXRlLHQuY2hhbm5lbENvdW50PW4uY2hhbm5lbF9jb3VudCx0LmNvZGVjPW4uY29kZWNfbWltZXR5cGUsdC5vcmlnaW5hbENvZGVjPW4ub3JpZ2luYWxfY29kZWNfbWltZXR5cGUsdC5jb25maWc9bi5jb25maWcsdC5yZWZTYW1wbGVEdXJhdGlvbj0xMDI0L3QuYXVkaW9TYW1wbGVSYXRlKnQudGltZXNjYWxlfWVsc2UgaWYoXCJhYy0zXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYyl7dmFyIGE9XCJhYy0zXCI9PT1lLmNvZGVjP2UuZGF0YTpudWxsLHM9bmV3IGdlKGEpO3QuYXVkaW9TYW1wbGVSYXRlPXMuc2FtcGxpbmdfcmF0ZSx0LmNoYW5uZWxDb3VudD1zLmNoYW5uZWxfY291bnQsdC5jb2RlYz1zLmNvZGVjX21pbWV0eXBlLHQub3JpZ2luYWxDb2RlYz1zLm9yaWdpbmFsX2NvZGVjX21pbWV0eXBlLHQuY29uZmlnPXMuY29uZmlnLHQucmVmU2FtcGxlRHVyYXRpb249MTUzNi90LmF1ZGlvU2FtcGxlUmF0ZSp0LnRpbWVzY2FsZX1lbHNlXCJvcHVzXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYz8odC5hdWRpb1NhbXBsZVJhdGU9dGhpcy5hdWRpb19tZXRhZGF0YV8uc2FtcGxlX3JhdGUsdC5jaGFubmVsQ291bnQ9dGhpcy5hdWRpb19tZXRhZGF0YV8uY2hhbm5lbF9jb3VudCx0LmNoYW5uZWxDb25maWdDb2RlPXRoaXMuYXVkaW9fbWV0YWRhdGFfLmNoYW5uZWxfY29uZmlnX2NvZGUsdC5jb2RlYz1cIm9wdXNcIix0Lm9yaWdpbmFsQ29kZWM9XCJvcHVzXCIsdC5jb25maWc9dm9pZCAwLHQucmVmU2FtcGxlRHVyYXRpb249MjApOlwibXAzXCI9PT10aGlzLmF1ZGlvX21ldGFkYXRhXy5jb2RlYyYmKHQuYXVkaW9TYW1wbGVSYXRlPXRoaXMuYXVkaW9fbWV0YWRhdGFfLnNhbXBsZV9yYXRlLHQuY2hhbm5lbENvdW50PXRoaXMuYXVkaW9fbWV0YWRhdGFfLmNoYW5uZWxfY291bnQsdC5jb2RlYz1cIm1wM1wiLHQub3JpZ2luYWxDb2RlYz1cIm1wM1wiLHQuY29uZmlnPXZvaWQgMCk7MD09dGhpcy5hdWRpb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF8mJnIuYS52KHRoaXMuVEFHLFwiR2VuZXJhdGVkIGZpcnN0IEF1ZGlvU3BlY2lmaWNDb25maWcgZm9yIG1pbWVUeXBlOiBcIit0LmNvZGVjKSx0aGlzLm9uVHJhY2tNZXRhZGF0YShcImF1ZGlvXCIsdCksdGhpcy5hdWRpb19pbml0X3NlZ21lbnRfZGlzcGF0Y2hlZF89ITAsdGhpcy52aWRlb19tZXRhZGF0YV9jaGFuZ2VkXz0hMTt2YXIgbz10aGlzLm1lZGlhX2luZm9fO28uaGFzQXVkaW89ITAsby5hdWRpb0NvZGVjPXQub3JpZ2luYWxDb2RlYyxvLmF1ZGlvU2FtcGxlUmF0ZT10LmF1ZGlvU2FtcGxlUmF0ZSxvLmF1ZGlvQ2hhbm5lbENvdW50PXQuY2hhbm5lbENvdW50LG8uaGFzVmlkZW8mJm8udmlkZW9Db2RlYz9vLm1pbWVUeXBlPSd2aWRlby9tcDJ0OyBjb2RlY3M9XCInK28udmlkZW9Db2RlYytcIixcIitvLmF1ZGlvQ29kZWMrJ1wiJzpvLm1pbWVUeXBlPSd2aWRlby9tcDJ0OyBjb2RlY3M9XCInK28uYXVkaW9Db2RlYysnXCInLG8uaXNDb21wbGV0ZSgpJiZ0aGlzLm9uTWVkaWFJbmZvKG8pfSx0LnByb3RvdHlwZS5kaXNwYXRjaFBFU1ByaXZhdGVEYXRhRGVzY3JpcHRvcj1mdW5jdGlvbihlLHQsaSl7dmFyIG49bmV3IFc7bi5waWQ9ZSxuLnN0cmVhbV90eXBlPXQsbi5kZXNjcmlwdG9yPWksdGhpcy5vblBFU1ByaXZhdGVEYXRhRGVzY3JpcHRvciYmdGhpcy5vblBFU1ByaXZhdGVEYXRhRGVzY3JpcHRvcihuKX0sdC5wcm90b3R5cGUucGFyc2VQRVNQcml2YXRlRGF0YVBheWxvYWQ9ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgcj1uZXcgSztpZihyLnBpZD1uLHIuc3RyZWFtX2lkPWEsci5sZW49ZS5ieXRlTGVuZ3RoLHIuZGF0YT1lLG51bGwhPXQpe3ZhciBzPU1hdGguZmxvb3IodC90aGlzLnRpbWVzY2FsZV8pO3IucHRzPXN9ZWxzZSByLm5lYXJlc3RfcHRzPXRoaXMuYWFjX2xhc3Rfc2FtcGxlX3B0c187aWYobnVsbCE9aSl7dmFyIG89TWF0aC5mbG9vcihpL3RoaXMudGltZXNjYWxlXyk7ci5kdHM9b310aGlzLm9uUEVTUHJpdmF0ZURhdGEmJnRoaXMub25QRVNQcml2YXRlRGF0YShyKX0sdC5wcm90b3R5cGUucGFyc2VUaW1lZElEM01ldGFkYXRhUGF5bG9hZD1mdW5jdGlvbihlLHQsaSxuLGEpe3ZhciByPW5ldyBLO2lmKHIucGlkPW4sci5zdHJlYW1faWQ9YSxyLmxlbj1lLmJ5dGVMZW5ndGgsci5kYXRhPWUsbnVsbCE9dCl7dmFyIHM9TWF0aC5mbG9vcih0L3RoaXMudGltZXNjYWxlXyk7ci5wdHM9c31pZihudWxsIT1pKXt2YXIgbz1NYXRoLmZsb29yKGkvdGhpcy50aW1lc2NhbGVfKTtyLmR0cz1vfXRoaXMub25UaW1lZElEM01ldGFkYXRhJiZ0aGlzLm9uVGltZWRJRDNNZXRhZGF0YShyKX0sdC5wcm90b3R5cGUucGFyc2VTTVBURTIwMzhNZXRhZGF0YVBheWxvYWQ9ZnVuY3Rpb24oZSx0LGksbixhKXt2YXIgcj1uZXcgdWU7aWYoci5waWQ9bixyLnN0cmVhbV9pZD1hLHIubGVuPWUuYnl0ZUxlbmd0aCxyLmRhdGE9ZSxudWxsIT10KXt2YXIgcz1NYXRoLmZsb29yKHQvdGhpcy50aW1lc2NhbGVfKTtyLnB0cz1zfWlmKHIubmVhcmVzdF9wdHM9dGhpcy5hYWNfbGFzdF9zYW1wbGVfcHRzXyxudWxsIT1pKXt2YXIgbz1NYXRoLmZsb29yKGkvdGhpcy50aW1lc2NhbGVfKTtyLmR0cz1vfXIuYW5jaWxsYXJpZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBmKGUpLGk9MCxuPVtdOzspe2lmKGkrPTYsMCE9PXQucmVhZEJpdHMoNikpYnJlYWs7dmFyIGE9dC5yZWFkQm9vbCgpO2krPTE7dmFyIHI9dC5yZWFkQml0cygxMSk7aSs9MTE7dmFyIHM9dC5yZWFkQml0cygxMik7aSs9MTI7dmFyIG89MjU1JnQucmVhZEJpdHMoMTApO2krPTEwO3ZhciBkPTI1NSZ0LnJlYWRCaXRzKDEwKTtpKz0xMDt2YXIgXz0yNTUmdC5yZWFkQml0cygxMCk7aSs9MTA7Zm9yKHZhciBoPW5ldyBVaW50OEFycmF5KF8pLGM9MDtjPF87YysrKXt2YXIgdT0yNTUmdC5yZWFkQml0cygxMCk7aSs9MTAsaFtjXT11fXQucmVhZEJpdHMoMTApO2krPTEwO3ZhciBsPVwiVXNlciBEZWZpbmVkXCI7NjU9PT1vPzc9PT1kJiYobD1cIlNDVEUtMTA0XCIpOjk1PT09bz8yMjA9PT1kP2w9XCJBUklCIFNURC1CMzcgKDFTRUcpXCI6MjIxPT09ZD9sPVwiQVJJQiBTVEQtQjM3IChBTkFMT0cpXCI6MjIyPT09ZD9sPVwiQVJJQiBTVEQtQjM3IChTRClcIjoyMjM9PT1kJiYobD1cIkFSSUIgU1RELUIzNyAoSEQpXCIpOjk3PT09byYmKDE9PT1kP2w9XCJFSUEtNzA4XCI6Mj09PWQmJihsPVwiRUlBLTYwOFwiKSksbi5wdXNoKHt5Y19pbmRpY2F0b3I6YSxsaW5lX251bWJlcjpyLGhvcml6b250YWxfb2Zmc2V0OnMsZGlkOm8sc2RpZDpkLHVzZXJfZGF0YTpoLGRlc2NyaXB0aW9uOmwsaW5mb3JtYXRpb246e319KSx0LnJlYWRCaXRzKDgtKGktTWF0aC5mbG9vcihpLzgpKSU4KSxpKz0oOC0oaS1NYXRoLmZsb29yKGkvOCkpKSU4fXJldHVybiB0LmRlc3Ryb3koKSx0PW51bGwsbn0oZSksdGhpcy5vblNNUFRFMjAzOE1ldGFkYXRhJiZ0aGlzLm9uU01QVEUyMDM4TWV0YWRhdGEocil9LHR9KFIpLFNlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD0wLGk9YXJndW1lbnRzLmxlbmd0aDt0PGk7dCsrKWUrPWFyZ3VtZW50c1t0XS5sZW5ndGg7dmFyIG49QXJyYXkoZSksYT0wO2Zvcih0PTA7dDxpO3QrKylmb3IodmFyIHI9YXJndW1lbnRzW3RdLHM9MCxvPXIubGVuZ3RoO3M8bztzKyssYSsrKW5bYV09cltzXTtyZXR1cm4gbn0sRWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmluaXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gZS50eXBlcz17YXZjMTpbXSxhdmNDOltdLGJ0cnQ6W10sZGluZjpbXSxkcmVmOltdLGVzZHM6W10sZnR5cDpbXSxoZGxyOltdLGh2YzE6W10saHZjQzpbXSxtZGF0OltdLG1kaGQ6W10sbWRpYTpbXSxtZmhkOltdLG1pbmY6W10sbW9vZjpbXSxtb292OltdLG1wNGE6W10sbXZleDpbXSxtdmhkOltdLHNkdHA6W10sc3RibDpbXSxzdGNvOltdLHN0c2M6W10sc3RzZDpbXSxzdHN6OltdLHN0dHM6W10sdGZkdDpbXSx0ZmhkOltdLHRyYWY6W10sdHJhazpbXSx0cnVuOltdLHRyZXg6W10sdGtoZDpbXSx2bWhkOltdLHNtaGQ6W10sXCIubXAzXCI6W10sT3B1czpbXSxkT3BzOltdLFwiYWMtM1wiOltdLGRhYzM6W119LGUudHlwZXMpZS50eXBlcy5oYXNPd25Qcm9wZXJ0eSh0KSYmKGUudHlwZXNbdF09W3QuY2hhckNvZGVBdCgwKSx0LmNoYXJDb2RlQXQoMSksdC5jaGFyQ29kZUF0KDIpLHQuY2hhckNvZGVBdCgzKV0pO3ZhciBpPWUuY29uc3RhbnRzPXt9O2kuRlRZUD1uZXcgVWludDhBcnJheShbMTA1LDExNSwxMTEsMTA5LDAsMCwwLDEsMTA1LDExNSwxMTEsMTA5LDk3LDExOCw5OSw0OV0pLGkuU1RTRF9QUkVGSVg9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMV0pLGkuU1RUUz1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwXSksaS5TVFNDPWkuU1RDTz1pLlNUVFMsaS5TVFNaPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMF0pLGkuSERMUl9WSURFTz1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwwLDExOCwxMDUsMTAwLDEwMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw4NiwxMDUsMTAwLDEwMSwxMTEsNzIsOTcsMTEwLDEwMCwxMDgsMTAxLDExNCwwXSksaS5IRExSX0FVRElPPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMTE1LDExMSwxMTcsMTEwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDgzLDExMSwxMTcsMTEwLDEwMCw3Miw5NywxMTAsMTAwLDEwOCwxMDEsMTE0LDBdKSxpLkRSRUY9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwxMiwxMTcsMTE0LDEwOCwzMiwwLDAsMCwxXSksaS5TTUhEPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDBdKSxpLlZNSEQ9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwXSl9LGUuYm94PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD04LGk9bnVsbCxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxhPW4ubGVuZ3RoLHI9MDtyPGE7cisrKXQrPW5bcl0uYnl0ZUxlbmd0aDsoaT1uZXcgVWludDhBcnJheSh0KSlbMF09dD4+PjI0JjI1NSxpWzFdPXQ+Pj4xNiYyNTUsaVsyXT10Pj4+OCYyNTUsaVszXT0yNTUmdCxpLnNldChlLDQpO3ZhciBzPTg7Zm9yKHI9MDtyPGE7cisrKWkuc2V0KG5bcl0scykscys9bltyXS5ieXRlTGVuZ3RoO3JldHVybiBpfSxlLmdlbmVyYXRlSW5pdFNlZ21lbnQ9ZnVuY3Rpb24odCl7dmFyIGk9ZS5ib3goZS50eXBlcy5mdHlwLGUuY29uc3RhbnRzLkZUWVApLG49ZS5tb292KHQpLGE9bmV3IFVpbnQ4QXJyYXkoaS5ieXRlTGVuZ3RoK24uYnl0ZUxlbmd0aCk7cmV0dXJuIGEuc2V0KGksMCksYS5zZXQobixpLmJ5dGVMZW5ndGgpLGF9LGUubW9vdj1mdW5jdGlvbih0KXt2YXIgaT1lLm12aGQodC50aW1lc2NhbGUsdC5kdXJhdGlvbiksbj1lLnRyYWsodCksYT1lLm12ZXgodCk7cmV0dXJuIGUuYm94KGUudHlwZXMubW9vdixpLG4sYSl9LGUubXZoZD1mdW5jdGlvbih0LGkpe3JldHVybiBlLmJveChlLnR5cGVzLm12aGQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLHQ+Pj4yNCYyNTUsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnQsaT4+PjI0JjI1NSxpPj4+MTYmMjU1LGk+Pj44JjI1NSwyNTUmaSwwLDEsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw2NCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyNTUsMjU1LDI1NSwyNTVdKSl9LGUudHJhaz1mdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy50cmFrLGUudGtoZCh0KSxlLm1kaWEodCkpfSxlLnRraGQ9ZnVuY3Rpb24odCl7dmFyIGk9dC5pZCxuPXQuZHVyYXRpb24sYT10LnByZXNlbnRXaWR0aCxyPXQucHJlc2VudEhlaWdodDtyZXR1cm4gZS5ib3goZS50eXBlcy50a2hkLG5ldyBVaW50OEFycmF5KFswLDAsMCw3LDAsMCwwLDAsMCwwLDAsMCxpPj4+MjQmMjU1LGk+Pj4xNiYyNTUsaT4+PjgmMjU1LDI1NSZpLDAsMCwwLDAsbj4+PjI0JjI1NSxuPj4+MTYmMjU1LG4+Pj44JjI1NSwyNTUmbiwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw2NCwwLDAsMCxhPj4+OCYyNTUsMjU1JmEsMCwwLHI+Pj44JjI1NSwyNTUmciwwLDBdKSl9LGUubWRpYT1mdW5jdGlvbih0KXtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGlhLGUubWRoZCh0KSxlLmhkbHIodCksZS5taW5mKHQpKX0sZS5tZGhkPWZ1bmN0aW9uKHQpe3ZhciBpPXQudGltZXNjYWxlLG49dC5kdXJhdGlvbjtyZXR1cm4gZS5ib3goZS50eXBlcy5tZGhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCxpPj4+MjQmMjU1LGk+Pj4xNiYyNTUsaT4+PjgmMjU1LDI1NSZpLG4+Pj4yNCYyNTUsbj4+PjE2JjI1NSxuPj4+OCYyNTUsMjU1Jm4sODUsMTk2LDAsMF0pKX0sZS5oZGxyPWZ1bmN0aW9uKHQpe3ZhciBpPW51bGw7cmV0dXJuIGk9XCJhdWRpb1wiPT09dC50eXBlP2UuY29uc3RhbnRzLkhETFJfQVVESU86ZS5jb25zdGFudHMuSERMUl9WSURFTyxlLmJveChlLnR5cGVzLmhkbHIsaSl9LGUubWluZj1mdW5jdGlvbih0KXt2YXIgaT1udWxsO3JldHVybiBpPVwiYXVkaW9cIj09PXQudHlwZT9lLmJveChlLnR5cGVzLnNtaGQsZS5jb25zdGFudHMuU01IRCk6ZS5ib3goZS50eXBlcy52bWhkLGUuY29uc3RhbnRzLlZNSEQpLGUuYm94KGUudHlwZXMubWluZixpLGUuZGluZigpLGUuc3RibCh0KSl9LGUuZGluZj1mdW5jdGlvbigpe3JldHVybiBlLmJveChlLnR5cGVzLmRpbmYsZS5ib3goZS50eXBlcy5kcmVmLGUuY29uc3RhbnRzLkRSRUYpKX0sZS5zdGJsPWZ1bmN0aW9uKHQpe3JldHVybiBlLmJveChlLnR5cGVzLnN0YmwsZS5zdHNkKHQpLGUuYm94KGUudHlwZXMuc3R0cyxlLmNvbnN0YW50cy5TVFRTKSxlLmJveChlLnR5cGVzLnN0c2MsZS5jb25zdGFudHMuU1RTQyksZS5ib3goZS50eXBlcy5zdHN6LGUuY29uc3RhbnRzLlNUU1opLGUuYm94KGUudHlwZXMuc3RjbyxlLmNvbnN0YW50cy5TVENPKSl9LGUuc3RzZD1mdW5jdGlvbih0KXtyZXR1cm5cImF1ZGlvXCI9PT10LnR5cGU/XCJtcDNcIj09PXQuY29kZWM/ZS5ib3goZS50eXBlcy5zdHNkLGUuY29uc3RhbnRzLlNUU0RfUFJFRklYLGUubXAzKHQpKTpcImFjLTNcIj09PXQuY29kZWM/ZS5ib3goZS50eXBlcy5zdHNkLGUuY29uc3RhbnRzLlNUU0RfUFJFRklYLGUuYWMzKHQpKTpcIm9wdXNcIj09PXQuY29kZWM/ZS5ib3goZS50eXBlcy5zdHNkLGUuY29uc3RhbnRzLlNUU0RfUFJFRklYLGUuT3B1cyh0KSk6ZS5ib3goZS50eXBlcy5zdHNkLGUuY29uc3RhbnRzLlNUU0RfUFJFRklYLGUubXA0YSh0KSk6XCJ2aWRlb1wiPT09dC50eXBlJiZ0LmNvZGVjLnN0YXJ0c1dpdGgoXCJodmMxXCIpP2UuYm94KGUudHlwZXMuc3RzZCxlLmNvbnN0YW50cy5TVFNEX1BSRUZJWCxlLmh2YzEodCkpOmUuYm94KGUudHlwZXMuc3RzZCxlLmNvbnN0YW50cy5TVFNEX1BSRUZJWCxlLmF2YzEodCkpfSxlLm1wMz1mdW5jdGlvbih0KXt2YXIgaT10LmNoYW5uZWxDb3VudCxuPXQuYXVkaW9TYW1wbGVSYXRlLGE9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCxpLDAsMTYsMCwwLDAsMCxuPj4+OCYyNTUsMjU1Jm4sMCwwXSk7cmV0dXJuIGUuYm94KGUudHlwZXNbXCIubXAzXCJdLGEpfSxlLm1wNGE9ZnVuY3Rpb24odCl7dmFyIGk9dC5jaGFubmVsQ291bnQsbj10LmF1ZGlvU2FtcGxlUmF0ZSxhPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsaSwwLDE2LDAsMCwwLDAsbj4+PjgmMjU1LDI1NSZuLDAsMF0pO3JldHVybiBlLmJveChlLnR5cGVzLm1wNGEsYSxlLmVzZHModCkpfSxlLmFjMz1mdW5jdGlvbih0KXt2YXIgaT10LmNoYW5uZWxDb3VudCxuPXQuYXVkaW9TYW1wbGVSYXRlLGE9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCxpLDAsMTYsMCwwLDAsMCxuPj4+OCYyNTUsMjU1Jm4sMCwwXSk7cmV0dXJuIGUuYm94KGUudHlwZXNbXCJhYy0zXCJdLGEsZS5ib3goZS50eXBlcy5kYWMzLG5ldyBVaW50OEFycmF5KHQuY29uZmlnKSkpfSxlLmVzZHM9ZnVuY3Rpb24odCl7dmFyIGk9dC5jb25maWd8fFtdLG49aS5sZW5ndGgsYT1uZXcgVWludDhBcnJheShbMCwwLDAsMCwzLDIzK24sMCwxLDAsNCwxNStuLDY0LDIxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCw1XS5jb25jYXQoW25dKS5jb25jYXQoaSkuY29uY2F0KFs2LDEsMl0pKTtyZXR1cm4gZS5ib3goZS50eXBlcy5lc2RzLGEpfSxlLk9wdXM9ZnVuY3Rpb24odCl7dmFyIGk9dC5jaGFubmVsQ291bnQsbj10LmF1ZGlvU2FtcGxlUmF0ZSxhPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDEsMCwwLDAsMCwwLDAsMCwwLDAsaSwwLDE2LDAsMCwwLDAsbj4+PjgmMjU1LDI1NSZuLDAsMF0pO3JldHVybiBlLmJveChlLnR5cGVzLk9wdXMsYSxlLmRPcHModCkpfSxlLmRPcHM9ZnVuY3Rpb24odCl7dmFyIGk9dC5jaGFubmVsQ291bnQsbj10LmNoYW5uZWxDb25maWdDb2RlLGE9dC5hdWRpb1NhbXBsZVJhdGU7aWYodC5jb25maWcpcmV0dXJuIGUuYm94KGUudHlwZXMuZE9wcyxzKTt2YXIgcj1bXTtzd2l0Y2gobil7Y2FzZSAxOmNhc2UgMjpyPVswXTticmVhaztjYXNlIDA6cj1bMjU1LDEsMSwwLDFdO2JyZWFrO2Nhc2UgMTI4OnI9WzI1NSwyLDAsMCwxXTticmVhaztjYXNlIDM6cj1bMSwyLDEsMCwyLDFdO2JyZWFrO2Nhc2UgNDpyPVsxLDIsMiwwLDEsMiwzXTticmVhaztjYXNlIDU6cj1bMSwzLDIsMCw0LDEsMiwzXTticmVhaztjYXNlIDY6cj1bMSw0LDIsMCw0LDEsMiwzLDVdO2JyZWFrO2Nhc2UgNzpyPVsxLDQsMiwwLDQsMSwyLDMsNSw2XTticmVhaztjYXNlIDg6cj1bMSw1LDMsMCw2LDEsMiwzLDQsNSw3XTticmVhaztjYXNlIDEzMDpyPVsxLDEsMiwwLDFdO2JyZWFrO2Nhc2UgMTMxOnI9WzEsMSwzLDAsMSwyXTticmVhaztjYXNlIDEzMjpyPVsxLDEsNCwwLDEsMiwzXTticmVhaztjYXNlIDEzMzpyPVsxLDEsNSwwLDEsMiwzLDRdO2JyZWFrO2Nhc2UgMTM0OnI9WzEsMSw2LDAsMSwyLDMsNCw1XTticmVhaztjYXNlIDEzNTpyPVsxLDEsNywwLDEsMiwzLDQsNSw2XTticmVhaztjYXNlIDEzNjpyPVsxLDEsOCwwLDEsMiwzLDQsNSw2LDddfXZhciBzPW5ldyBVaW50OEFycmF5KFNlKFswLGksMCwwLGE+Pj4yNCYyNTUsYT4+PjE3JjI1NSxhPj4+OCYyNTUsYT4+PjAmMjU1LDAsMF0scikpO3JldHVybiBlLmJveChlLnR5cGVzLmRPcHMscyl9LGUuYXZjMT1mdW5jdGlvbih0KXt2YXIgaT10LmF2Y2Msbj10LmNvZGVjV2lkdGgsYT10LmNvZGVjSGVpZ2h0LHI9bmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLG4+Pj44JjI1NSwyNTUmbixhPj4+OCYyNTUsMjU1JmEsMCw3MiwwLDAsMCw3MiwwLDAsMCwwLDAsMCwwLDEsMTAsMTIwLDExMywxMTMsNDcsMTAyLDEwOCwxMTgsNDYsMTA2LDExNSwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDI0LDI1NSwyNTVdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5hdmMxLHIsZS5ib3goZS50eXBlcy5hdmNDLGkpKX0sZS5odmMxPWZ1bmN0aW9uKHQpe3ZhciBpPXQuaHZjYyxuPXQuY29kZWNXaWR0aCxhPXQuY29kZWNIZWlnaHQscj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwwLDAsMCwxLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsbj4+PjgmMjU1LDI1NSZuLGE+Pj44JjI1NSwyNTUmYSwwLDcyLDAsMCwwLDcyLDAsMCwwLDAsMCwwLDAsMSwxMCwxMjAsMTEzLDExMyw0NywxMDIsMTA4LDExOCw0NiwxMDYsMTE1LDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMjQsMjU1LDI1NV0pO3JldHVybiBlLmJveChlLnR5cGVzLmh2YzEscixlLmJveChlLnR5cGVzLmh2Y0MsaSkpfSxlLm12ZXg9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubXZleCxlLnRyZXgodCkpfSxlLnRyZXg9ZnVuY3Rpb24odCl7dmFyIGk9dC5pZCxuPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLGk+Pj4yNCYyNTUsaT4+PjE2JjI1NSxpPj4+OCYyNTUsMjU1JmksMCwwLDAsMSwwLDAsMCwwLDAsMCwwLDAsMCwxLDAsMV0pO3JldHVybiBlLmJveChlLnR5cGVzLnRyZXgsbil9LGUubW9vZj1mdW5jdGlvbih0LGkpe3JldHVybiBlLmJveChlLnR5cGVzLm1vb2YsZS5tZmhkKHQuc2VxdWVuY2VOdW1iZXIpLGUudHJhZih0LGkpKX0sZS5tZmhkPWZ1bmN0aW9uKHQpe3ZhciBpPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLHQ+Pj4yNCYyNTUsdD4+PjE2JjI1NSx0Pj4+OCYyNTUsMjU1JnRdKTtyZXR1cm4gZS5ib3goZS50eXBlcy5tZmhkLGkpfSxlLnRyYWY9ZnVuY3Rpb24odCxpKXt2YXIgbj10LmlkLGE9ZS5ib3goZS50eXBlcy50ZmhkLG5ldyBVaW50OEFycmF5KFswLDAsMCwwLG4+Pj4yNCYyNTUsbj4+PjE2JjI1NSxuPj4+OCYyNTUsMjU1Jm5dKSkscj1lLmJveChlLnR5cGVzLnRmZHQsbmV3IFVpbnQ4QXJyYXkoWzAsMCwwLDAsaT4+PjI0JjI1NSxpPj4+MTYmMjU1LGk+Pj44JjI1NSwyNTUmaV0pKSxzPWUuc2R0cCh0KSxvPWUudHJ1bih0LHMuYnl0ZUxlbmd0aCsxNisxNis4KzE2KzgrOCk7cmV0dXJuIGUuYm94KGUudHlwZXMudHJhZixhLHIsbyxzKX0sZS5zZHRwPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10LnNhbXBsZXN8fFtdLG49aS5sZW5ndGgsYT1uZXcgVWludDhBcnJheSg0K24pLHI9MDtyPG47cisrKXt2YXIgcz1pW3JdLmZsYWdzO2Fbcis0XT1zLmlzTGVhZGluZzw8NnxzLmRlcGVuZHNPbjw8NHxzLmlzRGVwZW5kZWRPbjw8MnxzLmhhc1JlZHVuZGFuY3l9cmV0dXJuIGUuYm94KGUudHlwZXMuc2R0cCxhKX0sZS50cnVuPWZ1bmN0aW9uKHQsaSl7dmFyIG49dC5zYW1wbGVzfHxbXSxhPW4ubGVuZ3RoLHI9MTIrMTYqYSxzPW5ldyBVaW50OEFycmF5KHIpO2krPTgrcixzLnNldChbMCwwLDE1LDEsYT4+PjI0JjI1NSxhPj4+MTYmMjU1LGE+Pj44JjI1NSwyNTUmYSxpPj4+MjQmMjU1LGk+Pj4xNiYyNTUsaT4+PjgmMjU1LDI1NSZpXSwwKTtmb3IodmFyIG89MDtvPGE7bysrKXt2YXIgZD1uW29dLmR1cmF0aW9uLF89bltvXS5zaXplLGg9bltvXS5mbGFncyxjPW5bb10uY3RzO3Muc2V0KFtkPj4+MjQmMjU1LGQ+Pj4xNiYyNTUsZD4+PjgmMjU1LDI1NSZkLF8+Pj4yNCYyNTUsXz4+PjE2JjI1NSxfPj4+OCYyNTUsMjU1Jl8saC5pc0xlYWRpbmc8PDJ8aC5kZXBlbmRzT24saC5pc0RlcGVuZGVkT248PDZ8aC5oYXNSZWR1bmRhbmN5PDw0fGguaXNOb25TeW5jLDAsMCxjPj4+MjQmMjU1LGM+Pj4xNiYyNTUsYz4+PjgmMjU1LDI1NSZjXSwxMisxNipvKX1yZXR1cm4gZS5ib3goZS50eXBlcy50cnVuLHMpfSxlLm1kYXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYm94KGUudHlwZXMubWRhdCx0KX0sZX0oKTtFZS5pbml0KCk7dmFyIEFlPUVlLFJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5nZXRTaWxlbnRGcmFtZT1mdW5jdGlvbihlLHQpe2lmKFwibXA0YS40MC4yXCI9PT1lKXtpZigxPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDM1LDEyOF0pO2lmKDI9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMzMsMCw3MywxNDQsMiwyNSwwLDM1LDEyOF0pO2lmKDM9PT10KXJldHVybiBuZXcgVWludDhBcnJheShbMCwyMDAsMCwxMjgsMzIsMTMyLDEsMzgsNjQsOCwxMDAsMCwxNDJdKTtpZig0PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTI4LDQ0LDEyOCw4LDIsNTZdKTtpZig1PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsNTZdKTtpZig2PT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzAsMjAwLDAsMTI4LDMyLDEzMiwxLDM4LDY0LDgsMTAwLDAsMTMwLDQ4LDQsMTUzLDAsMzMsMTQ0LDIsMCwxNzgsMCwzMiw4LDIyNF0pfWVsc2V7aWYoMT09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsNzgsMjMwLDEyOCwxODYsOCwwLDAsMCwyOCw2LDI0MSwxOTMsMTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTAsOTRdKTtpZigyPT09dClyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzEsNjQsMzQsMTI4LDE2Myw5NCwyMzAsMTI4LDE4Niw4LDAsMCwwLDAsMTQ5LDAsNiwyNDEsMTYxLDEwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDkwLDk0XSk7aWYoMz09PXQpcmV0dXJuIG5ldyBVaW50OEFycmF5KFsxLDY0LDM0LDEyOCwxNjMsOTQsMjMwLDEyOCwxODYsOCwwLDAsMCwwLDE0OSwwLDYsMjQxLDE2MSwxMCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5MCw5NF0pfXJldHVybiBudWxsfSxlfSgpLFRlPWkoNyksTGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVEFHPVwiTVA0UmVtdXhlclwiLHRoaXMuX2NvbmZpZz1lLHRoaXMuX2lzTGl2ZT0hMD09PWUuaXNMaXZlLHRoaXMuX2R0c0Jhc2U9LTEsdGhpcy5fZHRzQmFzZUluaXRlZD0hMSx0aGlzLl9hdWRpb0R0c0Jhc2U9MS8wLHRoaXMuX3ZpZGVvRHRzQmFzZT0xLzAsdGhpcy5fYXVkaW9OZXh0RHRzPXZvaWQgMCx0aGlzLl92aWRlb05leHREdHM9dm9pZCAwLHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGU9bnVsbCx0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlPW51bGwsdGhpcy5fYXVkaW9NZXRhPW51bGwsdGhpcy5fdmlkZW9NZXRhPW51bGwsdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3Q9bmV3IFRlLmMoXCJhdWRpb1wiKSx0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdD1uZXcgVGUuYyhcInZpZGVvXCIpLHRoaXMuX29uSW5pdFNlZ21lbnQ9bnVsbCx0aGlzLl9vbk1lZGlhU2VnbWVudD1udWxsLHRoaXMuX2ZvcmNlRmlyc3RJRFI9ISghcy5hLmNocm9tZXx8IShzLmEudmVyc2lvbi5tYWpvcjw1MHx8NTA9PT1zLmEudmVyc2lvbi5tYWpvciYmcy5hLnZlcnNpb24uYnVpbGQ8MjY2MSkpLHRoaXMuX2ZpbGxTaWxlbnRBZnRlclNlZWs9cy5hLm1zZWRnZXx8cy5hLm1zaWUsdGhpcy5fbXAzVXNlTXBlZ0F1ZGlvPSFzLmEuZmlyZWZveCx0aGlzLl9maWxsQXVkaW9UaW1lc3RhbXBHYXA9dGhpcy5fY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwfXJldHVybiBlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5fZHRzQmFzZT0tMSx0aGlzLl9kdHNCYXNlSW5pdGVkPSExLHRoaXMuX2F1ZGlvTWV0YT1udWxsLHRoaXMuX3ZpZGVvTWV0YT1udWxsLHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmNsZWFyKCksdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3Q9bnVsbCx0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpLHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0PW51bGwsdGhpcy5fb25Jbml0U2VnbWVudD1udWxsLHRoaXMuX29uTWVkaWFTZWdtZW50PW51bGx9LGUucHJvdG90eXBlLmJpbmREYXRhU291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBlLm9uRGF0YUF2YWlsYWJsZT10aGlzLnJlbXV4LmJpbmQodGhpcyksZS5vblRyYWNrTWV0YWRhdGE9dGhpcy5fb25UcmFja01ldGFkYXRhUmVjZWl2ZWQuYmluZCh0aGlzKSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkluaXRTZWdtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkluaXRTZWdtZW50fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25Jbml0U2VnbWVudD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uTWVkaWFTZWdtZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbk1lZGlhU2VnbWVudH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uTWVkaWFTZWdtZW50PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaW5zZXJ0RGlzY29udGludWl0eT1mdW5jdGlvbigpe3RoaXMuX2F1ZGlvTmV4dER0cz10aGlzLl92aWRlb05leHREdHM9dm9pZCAwfSxlLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe3RoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGU9bnVsbCx0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlPW51bGwsdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKSx0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpfSxlLnByb3RvdHlwZS5yZW11eD1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9vbk1lZGlhU2VnbWVudCl0aHJvdyBuZXcgYy5hKFwiTVA0UmVtdXhlcjogb25NZWRpYVNlZ21lbnQgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpY2VkIVwiKTt0aGlzLl9kdHNCYXNlSW5pdGVkfHx0aGlzLl9jYWxjdWxhdGVEdHNCYXNlKGUsdCksdCYmdGhpcy5fcmVtdXhWaWRlbyh0KSxlJiZ0aGlzLl9yZW11eEF1ZGlvKGUpfSxlLnByb3RvdHlwZS5fb25UcmFja01ldGFkYXRhUmVjZWl2ZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1udWxsLG49XCJtcDRcIixhPXQuY29kZWM7aWYoXCJhdWRpb1wiPT09ZSl0aGlzLl9hdWRpb01ldGE9dCxcIm1wM1wiPT09dC5jb2RlYyYmdGhpcy5fbXAzVXNlTXBlZ0F1ZGlvPyhuPVwibXBlZ1wiLGE9XCJcIixpPW5ldyBVaW50OEFycmF5KTppPUFlLmdlbmVyYXRlSW5pdFNlZ21lbnQodCk7ZWxzZXtpZihcInZpZGVvXCIhPT1lKXJldHVybjt0aGlzLl92aWRlb01ldGE9dCxpPUFlLmdlbmVyYXRlSW5pdFNlZ21lbnQodCl9aWYoIXRoaXMuX29uSW5pdFNlZ21lbnQpdGhyb3cgbmV3IGMuYShcIk1QNFJlbXV4ZXI6IG9uSW5pdFNlZ21lbnQgY2FsbGJhY2sgbXVzdCBiZSBzcGVjaWZpZWQhXCIpO3RoaXMuX29uSW5pdFNlZ21lbnQoZSx7dHlwZTplLGRhdGE6aS5idWZmZXIsY29kZWM6YSxjb250YWluZXI6ZStcIi9cIituLG1lZGlhRHVyYXRpb246dC5kdXJhdGlvbn0pfSxlLnByb3RvdHlwZS5fY2FsY3VsYXRlRHRzQmFzZT1mdW5jdGlvbihlLHQpe3RoaXMuX2R0c0Jhc2VJbml0ZWR8fChlJiZlLnNhbXBsZXMmJmUuc2FtcGxlcy5sZW5ndGgmJih0aGlzLl9hdWRpb0R0c0Jhc2U9ZS5zYW1wbGVzWzBdLmR0cyksdCYmdC5zYW1wbGVzJiZ0LnNhbXBsZXMubGVuZ3RoJiYodGhpcy5fdmlkZW9EdHNCYXNlPXQuc2FtcGxlc1swXS5kdHMpLHRoaXMuX2R0c0Jhc2U9TWF0aC5taW4odGhpcy5fYXVkaW9EdHNCYXNlLHRoaXMuX3ZpZGVvRHRzQmFzZSksdGhpcy5fZHRzQmFzZUluaXRlZD0hMCl9LGUucHJvdG90eXBlLmdldFRpbWVzdGFtcEJhc2U9ZnVuY3Rpb24oKXtpZih0aGlzLl9kdHNCYXNlSW5pdGVkKXJldHVybiB0aGlzLl9kdHNCYXNlfSxlLnByb3RvdHlwZS5mbHVzaFN0YXNoZWRTYW1wbGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSx0PXRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUsaT17dHlwZTpcInZpZGVvXCIsaWQ6MSxzZXF1ZW5jZU51bWJlcjowLHNhbXBsZXM6W10sbGVuZ3RoOjB9O251bGwhPWUmJihpLnNhbXBsZXMucHVzaChlKSxpLmxlbmd0aD1lLmxlbmd0aCk7dmFyIG49e3R5cGU6XCJhdWRpb1wiLGlkOjIsc2VxdWVuY2VOdW1iZXI6MCxzYW1wbGVzOltdLGxlbmd0aDowfTtudWxsIT10JiYobi5zYW1wbGVzLnB1c2godCksbi5sZW5ndGg9dC5sZW5ndGgpLHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGU9bnVsbCx0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlPW51bGwsdGhpcy5fcmVtdXhWaWRlbyhpLCEwKSx0aGlzLl9yZW11eEF1ZGlvKG4sITApfSxlLnByb3RvdHlwZS5fcmVtdXhBdWRpbz1mdW5jdGlvbihlLHQpe2lmKG51bGwhPXRoaXMuX2F1ZGlvTWV0YSl7dmFyIGksbj1lLGE9bi5zYW1wbGVzLG89dm9pZCAwLGQ9LTEsXz10aGlzLl9hdWRpb01ldGEucmVmU2FtcGxlRHVyYXRpb24saD1cIm1wM1wiPT09dGhpcy5fYXVkaW9NZXRhLmNvZGVjJiZ0aGlzLl9tcDNVc2VNcGVnQXVkaW8sYz10aGlzLl9kdHNCYXNlSW5pdGVkJiZ2b2lkIDA9PT10aGlzLl9hdWRpb05leHREdHMsdT0hMTtpZihhJiYwIT09YS5sZW5ndGgmJigxIT09YS5sZW5ndGh8fHQpKXt2YXIgbD0wLGY9bnVsbCxwPTA7aD8obD0wLHA9bi5sZW5ndGgpOihsPTgscD04K24ubGVuZ3RoKTt2YXIgbT1udWxsO2lmKGEubGVuZ3RoPjEmJihwLT0obT1hLnBvcCgpKS5sZW5ndGgpLG51bGwhPXRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUpe3ZhciBnPXRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGU7dGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZT1udWxsLGEudW5zaGlmdChnKSxwKz1nLmxlbmd0aH1udWxsIT1tJiYodGhpcy5fYXVkaW9TdGFzaGVkTGFzdFNhbXBsZT1tKTt2YXIgdj1hWzBdLmR0cy10aGlzLl9kdHNCYXNlO2lmKHRoaXMuX2F1ZGlvTmV4dER0cylvPXYtdGhpcy5fYXVkaW9OZXh0RHRzO2Vsc2UgaWYodGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKW89MCx0aGlzLl9maWxsU2lsZW50QWZ0ZXJTZWVrJiYhdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpJiZcIm1wM1wiIT09dGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWMmJih1PSEwKTtlbHNle3ZhciB5PXRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmdldExhc3RTYW1wbGVCZWZvcmUodik7aWYobnVsbCE9eSl7dmFyIGI9di0oeS5vcmlnaW5hbER0cyt5LmR1cmF0aW9uKTtiPD0zJiYoYj0wKSxvPXYtKHkuZHRzK3kuZHVyYXRpb24rYil9ZWxzZSBvPTB9aWYodSl7dmFyIFM9di1vLEU9dGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNlZ21lbnRCZWZvcmUodik7aWYobnVsbCE9RSYmRS5iZWdpbkR0czxTKXtpZihPPVJlLmdldFNpbGVudEZyYW1lKHRoaXMuX2F1ZGlvTWV0YS5vcmlnaW5hbENvZGVjLHRoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnQpKXt2YXIgQT1FLmJlZ2luRHRzLFI9Uy1FLmJlZ2luRHRzO3IuYS52KHRoaXMuVEFHLFwiSW5zZXJ0UHJlZml4U2lsZW50QXVkaW86IGR0czogXCIrQStcIiwgZHVyYXRpb246IFwiK1IpLGEudW5zaGlmdCh7dW5pdDpPLGR0czpBLHB0czpBfSkscCs9Ty5ieXRlTGVuZ3RofX1lbHNlIHU9ITF9Zm9yKHZhciBUPVtdLEw9MDtMPGEubGVuZ3RoO0wrKyl7dmFyIHc9KGc9YVtMXSkudW5pdCxrPWcuZHRzLXRoaXMuX2R0c0Jhc2UsRD0oQT1rLCExKSxDPW51bGwsQj0wO2lmKCEoazwtLjAwMSkpe2lmKFwibXAzXCIhPT10aGlzLl9hdWRpb01ldGEuY29kZWMpe3ZhciBJPWs7aWYodGhpcy5fYXVkaW9OZXh0RHRzJiYoST10aGlzLl9hdWRpb05leHREdHMpLChvPWstSSk8PS0zKl8pe3IuYS53KHRoaXMuVEFHLFwiRHJvcHBpbmcgMSBhdWRpbyBmcmFtZSAob3JpZ2luYWxEdHM6IFwiK2srXCIgbXMgLGN1clJlZkR0czogXCIrSStcIiBtcykgIGR1ZSB0byBkdHNDb3JyZWN0aW9uOiBcIitvK1wiIG1zIG92ZXJsYXAuXCIpO2NvbnRpbnVlfWlmKG8+PTMqXyYmdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwJiYhcy5hLnNhZmFyaSl7RD0hMDt2YXIgTyxQPU1hdGguZmxvb3Ioby9fKTtyLmEudyh0aGlzLlRBRyxcIkxhcmdlIGF1ZGlvIHRpbWVzdGFtcCBnYXAgZGV0ZWN0ZWQsIG1heSBjYXVzZSBBViBzeW5jIHRvIGRyaWZ0LiBTaWxlbnQgZnJhbWVzIHdpbGwgYmUgZ2VuZXJhdGVkIHRvIGF2b2lkIHVuc3luYy5cXG5vcmlnaW5hbER0czogXCIraytcIiBtcywgY3VyUmVmRHRzOiBcIitJK1wiIG1zLCBkdHNDb3JyZWN0aW9uOiBcIitNYXRoLnJvdW5kKG8pK1wiIG1zLCBnZW5lcmF0ZTogXCIrUCtcIiBmcmFtZXNcIiksQT1NYXRoLmZsb29yKEkpLEI9TWF0aC5mbG9vcihJK18pLUEsbnVsbD09KE89UmUuZ2V0U2lsZW50RnJhbWUodGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWMsdGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudCkpJiYoci5hLncodGhpcy5UQUcsXCJVbmFibGUgdG8gZ2VuZXJhdGUgc2lsZW50IGZyYW1lIGZvciBcIit0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYytcIiB3aXRoIFwiK3RoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnQrXCIgY2hhbm5lbHMsIHJlcGVhdCBsYXN0IGZyYW1lXCIpLE89dyksQz1bXTtmb3IodmFyIE09MDtNPFA7TSsrKXtJKz1fO3ZhciB4PU1hdGguZmxvb3IoSSksVT1NYXRoLmZsb29yKEkrXykteCxOPXtkdHM6eCxwdHM6eCxjdHM6MCx1bml0Ok8sc2l6ZTpPLmJ5dGVMZW5ndGgsZHVyYXRpb246VSxvcmlnaW5hbER0czprLGZsYWdzOntpc0xlYWRpbmc6MCxkZXBlbmRzT246MSxpc0RlcGVuZGVkT246MCxoYXNSZWR1bmRhbmN5OjB9fTtDLnB1c2goTikscCs9Ti5zaXplfXRoaXMuX2F1ZGlvTmV4dER0cz1JK199ZWxzZSBBPU1hdGguZmxvb3IoSSksQj1NYXRoLmZsb29yKEkrXyktQSx0aGlzLl9hdWRpb05leHREdHM9SStffWVsc2V7aWYoQT1rLW8sTCE9PWEubGVuZ3RoLTEpQj1hW0wrMV0uZHRzLXRoaXMuX2R0c0Jhc2Utby1BO2Vsc2UgaWYobnVsbCE9bSlCPW0uZHRzLXRoaXMuX2R0c0Jhc2Utby1BO2Vsc2UgQj1ULmxlbmd0aD49MT9UW1QubGVuZ3RoLTFdLmR1cmF0aW9uOk1hdGguZmxvb3IoXyk7dGhpcy5fYXVkaW9OZXh0RHRzPUErQn0tMT09PWQmJihkPUEpLFQucHVzaCh7ZHRzOkEscHRzOkEsY3RzOjAsdW5pdDpnLnVuaXQsc2l6ZTpnLnVuaXQuYnl0ZUxlbmd0aCxkdXJhdGlvbjpCLG9yaWdpbmFsRHRzOmssZmxhZ3M6e2lzTGVhZGluZzowLGRlcGVuZHNPbjoxLGlzRGVwZW5kZWRPbjowLGhhc1JlZHVuZGFuY3k6MH19KSxEJiZULnB1c2guYXBwbHkoVCxDKX19aWYoMD09PVQubGVuZ3RoKXJldHVybiBuLnNhbXBsZXM9W10sdm9pZChuLmxlbmd0aD0wKTtoP2Y9bmV3IFVpbnQ4QXJyYXkocCk6KChmPW5ldyBVaW50OEFycmF5KHApKVswXT1wPj4+MjQmMjU1LGZbMV09cD4+PjE2JjI1NSxmWzJdPXA+Pj44JjI1NSxmWzNdPTI1NSZwLGYuc2V0KEFlLnR5cGVzLm1kYXQsNCkpO2ZvcihMPTA7TDxULmxlbmd0aDtMKyspe3c9VFtMXS51bml0O2Yuc2V0KHcsbCksbCs9dy5ieXRlTGVuZ3RofXZhciBHPVRbVC5sZW5ndGgtMV07aT1HLmR0cytHLmR1cmF0aW9uO3ZhciBWPW5ldyBUZS5iO1YuYmVnaW5EdHM9ZCxWLmVuZER0cz1pLFYuYmVnaW5QdHM9ZCxWLmVuZFB0cz1pLFYub3JpZ2luYWxCZWdpbkR0cz1UWzBdLm9yaWdpbmFsRHRzLFYub3JpZ2luYWxFbmREdHM9Ry5vcmlnaW5hbER0cytHLmR1cmF0aW9uLFYuZmlyc3RTYW1wbGU9bmV3IFRlLmQoVFswXS5kdHMsVFswXS5wdHMsVFswXS5kdXJhdGlvbixUWzBdLm9yaWdpbmFsRHRzLCExKSxWLmxhc3RTYW1wbGU9bmV3IFRlLmQoRy5kdHMsRy5wdHMsRy5kdXJhdGlvbixHLm9yaWdpbmFsRHRzLCExKSx0aGlzLl9pc0xpdmV8fHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmFwcGVuZChWKSxuLnNhbXBsZXM9VCxuLnNlcXVlbmNlTnVtYmVyKys7dmFyIEY9bnVsbDtGPWg/bmV3IFVpbnQ4QXJyYXk6QWUubW9vZihuLGQpLG4uc2FtcGxlcz1bXSxuLmxlbmd0aD0wO3ZhciBqPXt0eXBlOlwiYXVkaW9cIixkYXRhOnRoaXMuX21lcmdlQm94ZXMoRixmKS5idWZmZXIsc2FtcGxlQ291bnQ6VC5sZW5ndGgsaW5mbzpWfTtoJiZjJiYoai50aW1lc3RhbXBPZmZzZXQ9ZCksdGhpcy5fb25NZWRpYVNlZ21lbnQoXCJhdWRpb1wiLGopfX19LGUucHJvdG90eXBlLl9yZW11eFZpZGVvPWZ1bmN0aW9uKGUsdCl7aWYobnVsbCE9dGhpcy5fdmlkZW9NZXRhKXt2YXIgaSxuLGE9ZSxyPWEuc2FtcGxlcyxzPXZvaWQgMCxvPS0xLGQ9LTE7aWYociYmMCE9PXIubGVuZ3RoJiYoMSE9PXIubGVuZ3RofHx0KSl7dmFyIF89OCxoPW51bGwsYz04K2UubGVuZ3RoLHU9bnVsbDtpZihyLmxlbmd0aD4xJiYoYy09KHU9ci5wb3AoKSkubGVuZ3RoKSxudWxsIT10aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlKXt2YXIgbD10aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlO3RoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGU9bnVsbCxyLnVuc2hpZnQobCksYys9bC5sZW5ndGh9bnVsbCE9dSYmKHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGU9dSk7dmFyIGY9clswXS5kdHMtdGhpcy5fZHRzQmFzZTtpZih0aGlzLl92aWRlb05leHREdHMpcz1mLXRoaXMuX3ZpZGVvTmV4dER0cztlbHNlIGlmKHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmlzRW1wdHkoKSlzPTA7ZWxzZXt2YXIgcD10aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKGYpO2lmKG51bGwhPXApe3ZhciBtPWYtKHAub3JpZ2luYWxEdHMrcC5kdXJhdGlvbik7bTw9MyYmKG09MCkscz1mLShwLmR0cytwLmR1cmF0aW9uK20pfWVsc2Ugcz0wfWZvcih2YXIgZz1uZXcgVGUuYix2PVtdLHk9MDt5PHIubGVuZ3RoO3krKyl7dmFyIGI9KGw9clt5XSkuZHRzLXRoaXMuX2R0c0Jhc2UsUz1sLmlzS2V5ZnJhbWUsRT1iLXMsQT1sLmN0cyxSPUUrQTstMT09PW8mJihvPUUsZD1SKTt2YXIgVD0wO2lmKHkhPT1yLmxlbmd0aC0xKVQ9clt5KzFdLmR0cy10aGlzLl9kdHNCYXNlLXMtRTtlbHNlIGlmKG51bGwhPXUpVD11LmR0cy10aGlzLl9kdHNCYXNlLXMtRTtlbHNlIFQ9di5sZW5ndGg+PTE/dlt2Lmxlbmd0aC0xXS5kdXJhdGlvbjpNYXRoLmZsb29yKHRoaXMuX3ZpZGVvTWV0YS5yZWZTYW1wbGVEdXJhdGlvbik7aWYoUyl7dmFyIEw9bmV3IFRlLmQoRSxSLFQsbC5kdHMsITApO0wuZmlsZXBvc2l0aW9uPWwuZmlsZXBvc2l0aW9uLGcuYXBwZW5kU3luY1BvaW50KEwpfXYucHVzaCh7ZHRzOkUscHRzOlIsY3RzOkEsdW5pdHM6bC51bml0cyxzaXplOmwubGVuZ3RoLGlzS2V5ZnJhbWU6UyxkdXJhdGlvbjpULG9yaWdpbmFsRHRzOmIsZmxhZ3M6e2lzTGVhZGluZzowLGRlcGVuZHNPbjpTPzI6MSxpc0RlcGVuZGVkT246Uz8xOjAsaGFzUmVkdW5kYW5jeTowLGlzTm9uU3luYzpTPzA6MX19KX0oaD1uZXcgVWludDhBcnJheShjKSlbMF09Yz4+PjI0JjI1NSxoWzFdPWM+Pj4xNiYyNTUsaFsyXT1jPj4+OCYyNTUsaFszXT0yNTUmYyxoLnNldChBZS50eXBlcy5tZGF0LDQpO2Zvcih5PTA7eTx2Lmxlbmd0aDt5KyspZm9yKHZhciB3PXZbeV0udW5pdHM7dy5sZW5ndGg7KXt2YXIgaz13LnNoaWZ0KCkuZGF0YTtoLnNldChrLF8pLF8rPWsuYnl0ZUxlbmd0aH12YXIgRD12W3YubGVuZ3RoLTFdO2lmKGk9RC5kdHMrRC5kdXJhdGlvbixuPUQucHRzK0QuZHVyYXRpb24sdGhpcy5fdmlkZW9OZXh0RHRzPWksZy5iZWdpbkR0cz1vLGcuZW5kRHRzPWksZy5iZWdpblB0cz1kLGcuZW5kUHRzPW4sZy5vcmlnaW5hbEJlZ2luRHRzPXZbMF0ub3JpZ2luYWxEdHMsZy5vcmlnaW5hbEVuZER0cz1ELm9yaWdpbmFsRHRzK0QuZHVyYXRpb24sZy5maXJzdFNhbXBsZT1uZXcgVGUuZCh2WzBdLmR0cyx2WzBdLnB0cyx2WzBdLmR1cmF0aW9uLHZbMF0ub3JpZ2luYWxEdHMsdlswXS5pc0tleWZyYW1lKSxnLmxhc3RTYW1wbGU9bmV3IFRlLmQoRC5kdHMsRC5wdHMsRC5kdXJhdGlvbixELm9yaWdpbmFsRHRzLEQuaXNLZXlmcmFtZSksdGhpcy5faXNMaXZlfHx0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdC5hcHBlbmQoZyksYS5zYW1wbGVzPXYsYS5zZXF1ZW5jZU51bWJlcisrLHRoaXMuX2ZvcmNlRmlyc3RJRFIpe3ZhciBDPXZbMF0uZmxhZ3M7Qy5kZXBlbmRzT249MixDLmlzTm9uU3luYz0wfXZhciBCPUFlLm1vb2YoYSxvKTthLnNhbXBsZXM9W10sYS5sZW5ndGg9MCx0aGlzLl9vbk1lZGlhU2VnbWVudChcInZpZGVvXCIse3R5cGU6XCJ2aWRlb1wiLGRhdGE6dGhpcy5fbWVyZ2VCb3hlcyhCLGgpLmJ1ZmZlcixzYW1wbGVDb3VudDp2Lmxlbmd0aCxpbmZvOmd9KX19fSxlLnByb3RvdHlwZS5fbWVyZ2VCb3hlcz1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCt0LmJ5dGVMZW5ndGgpO3JldHVybiBpLnNldChlLDApLGkuc2V0KHQsZS5ieXRlTGVuZ3RoKSxpfSxlfSgpLHdlPWkoMTEpLGtlPWkoMSksRGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7dGhpcy5UQUc9XCJUcmFuc211eGluZ0NvbnRyb2xsZXJcIix0aGlzLl9lbWl0dGVyPW5ldyBhLmEsdGhpcy5fY29uZmlnPXQsZS5zZWdtZW50c3x8KGUuc2VnbWVudHM9W3tkdXJhdGlvbjplLmR1cmF0aW9uLGZpbGVzaXplOmUuZmlsZXNpemUsdXJsOmUudXJsfV0pLFwiYm9vbGVhblwiIT10eXBlb2YgZS5jb3JzJiYoZS5jb3JzPSEwKSxcImJvb2xlYW5cIiE9dHlwZW9mIGUud2l0aENyZWRlbnRpYWxzJiYoZS53aXRoQ3JlZGVudGlhbHM9ITEpLHRoaXMuX21lZGlhRGF0YVNvdXJjZT1lLHRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXg9MDt2YXIgaT0wO3RoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5mb3JFYWNoKChmdW5jdGlvbihuKXtuLnRpbWVzdGFtcEJhc2U9aSxpKz1uLmR1cmF0aW9uLG4uY29ycz1lLmNvcnMsbi53aXRoQ3JlZGVudGlhbHM9ZS53aXRoQ3JlZGVudGlhbHMsdC5yZWZlcnJlclBvbGljeSYmKG4ucmVmZXJyZXJQb2xpY3k9dC5yZWZlcnJlclBvbGljeSl9KSksaXNOYU4oaSl8fHRoaXMuX21lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbj09PWl8fCh0aGlzLl9tZWRpYURhdGFTb3VyY2UuZHVyYXRpb249aSksdGhpcy5fbWVkaWFJbmZvPW51bGwsdGhpcy5fZGVtdXhlcj1udWxsLHRoaXMuX3JlbXV4ZXI9bnVsbCx0aGlzLl9pb2N0bD1udWxsLHRoaXMuX3BlbmRpbmdTZWVrVGltZT1udWxsLHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50PW51bGwsdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyPW51bGx9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9tZWRpYUluZm89bnVsbCx0aGlzLl9tZWRpYURhdGFTb3VyY2U9bnVsbCx0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXImJnRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKSx0aGlzLl9pb2N0bCYmKHRoaXMuX2lvY3RsLmRlc3Ryb3koKSx0aGlzLl9pb2N0bD1udWxsKSx0aGlzLl9kZW11eGVyJiYodGhpcy5fZGVtdXhlci5kZXN0cm95KCksdGhpcy5fZGVtdXhlcj1udWxsKSx0aGlzLl9yZW11eGVyJiYodGhpcy5fcmVtdXhlci5kZXN0cm95KCksdGhpcy5fcmVtdXhlcj1udWxsKSx0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2VtaXR0ZXI9bnVsbH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGUsdCl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkU2VnbWVudCgwKSx0aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKX0sZS5wcm90b3R5cGUuX2xvYWRTZWdtZW50PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudFNlZ21lbnRJbmRleD1lO3ZhciBpPXRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1tlXSxuPXRoaXMuX2lvY3RsPW5ldyB3ZS5hKGksdGhpcy5fY29uZmlnLGUpO24ub25FcnJvcj10aGlzLl9vbklPRXhjZXB0aW9uLmJpbmQodGhpcyksbi5vblNlZWtlZD10aGlzLl9vbklPU2Vla2VkLmJpbmQodGhpcyksbi5vbkNvbXBsZXRlPXRoaXMuX29uSU9Db21wbGV0ZS5iaW5kKHRoaXMpLG4ub25SZWRpcmVjdD10aGlzLl9vbklPUmVkaXJlY3QuYmluZCh0aGlzKSxuLm9uUmVjb3ZlcmVkRWFybHlFb2Y9dGhpcy5fb25JT1JlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcyksdD90aGlzLl9kZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2lvY3RsKTpuLm9uRGF0YUFycml2YWw9dGhpcy5fb25Jbml0Q2h1bmtBcnJpdmFsLmJpbmQodGhpcyksbi5vcGVuKHQpfSxlLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxBYm9ydCgpLHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKX0sZS5wcm90b3R5cGUuX2ludGVybmFsQWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl9pb2N0bCYmKHRoaXMuX2lvY3RsLmRlc3Ryb3koKSx0aGlzLl9pb2N0bD1udWxsKX0sZS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9pb2N0bCYmdGhpcy5faW9jdGwuaXNXb3JraW5nKCkmJih0aGlzLl9pb2N0bC5wYXVzZSgpLHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKSl9LGUucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3RoaXMuX2lvY3RsJiZ0aGlzLl9pb2N0bC5pc1BhdXNlZCgpJiYodGhpcy5faW9jdGwucmVzdW1lKCksdGhpcy5fZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkpfSxlLnByb3RvdHlwZS5zZWVrPWZ1bmN0aW9uKGUpe2lmKG51bGwhPXRoaXMuX21lZGlhSW5mbyYmdGhpcy5fbWVkaWFJbmZvLmlzU2Vla2FibGUoKSl7dmFyIHQ9dGhpcy5fc2VhcmNoU2VnbWVudEluZGV4Q29udGFpbnMoZSk7aWYodD09PXRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXgpe3ZhciBpPXRoaXMuX21lZGlhSW5mby5zZWdtZW50c1t0XTtpZihudWxsPT1pKXRoaXMuX3BlbmRpbmdTZWVrVGltZT1lO2Vsc2V7dmFyIG49aS5nZXROZWFyZXN0S2V5ZnJhbWUoZSk7dGhpcy5fcmVtdXhlci5zZWVrKG4ubWlsbGlzZWNvbmRzKSx0aGlzLl9pb2N0bC5zZWVrKG4uZmlsZXBvc2l0aW9uKSx0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludD1uLm1pbGxpc2Vjb25kc319ZWxzZXt2YXIgYT10aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbdF07aWYobnVsbD09YSl0aGlzLl9wZW5kaW5nU2Vla1RpbWU9ZSx0aGlzLl9pbnRlcm5hbEFib3J0KCksdGhpcy5fcmVtdXhlci5zZWVrKCksdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCksdGhpcy5fbG9hZFNlZ21lbnQodCk7ZWxzZXtuPWEuZ2V0TmVhcmVzdEtleWZyYW1lKGUpO3RoaXMuX2ludGVybmFsQWJvcnQoKSx0aGlzLl9yZW11eGVyLnNlZWsoZSksdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCksdGhpcy5fZGVtdXhlci5yZXNldE1lZGlhSW5mbygpLHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZT10aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbdF0udGltZXN0YW1wQmFzZSx0aGlzLl9sb2FkU2VnbWVudCh0LG4uZmlsZXBvc2l0aW9uKSx0aGlzLl9wZW5kaW5nUmVzb2x2ZVNlZWtQb2ludD1uLm1pbGxpc2Vjb25kcyx0aGlzLl9yZXBvcnRTZWdtZW50TWVkaWFJbmZvKHQpfX10aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKX19LGUucHJvdG90eXBlLl9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLGk9dC5sZW5ndGgtMSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYoZTx0W25dLnRpbWVzdGFtcEJhc2Upe2k9bi0xO2JyZWFrfXJldHVybiBpfSxlLnByb3RvdHlwZS5fb25Jbml0Q2h1bmtBcnJpdmFsPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcyxuPTA7aWYodD4wKXRoaXMuX2RlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5faW9jdGwpLHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZT10aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZSxuPXRoaXMuX2RlbXV4ZXIucGFyc2VDaHVua3MoZSx0KTtlbHNle3ZhciBhPW51bGw7KGE9QS5wcm9iZShlKSkubWF0Y2gmJih0aGlzLl9zZXR1cEZMVkRlbXV4ZXJSZW11eGVyKGEpLG49dGhpcy5fZGVtdXhlci5wYXJzZUNodW5rcyhlLHQpKSxhLm1hdGNofHxhLm5lZWRNb3JlRGF0YXx8KGE9YmUucHJvYmUoZSkpLm1hdGNoJiYodGhpcy5fc2V0dXBUU0RlbXV4ZXJSZW11eGVyKGEpLG49dGhpcy5fZGVtdXhlci5wYXJzZUNodW5rcyhlLHQpKSxhLm1hdGNofHxhLm5lZWRNb3JlRGF0YXx8KGE9bnVsbCxyLmEuZSh0aGlzLlRBRyxcIk5vbiBNUEVHLVRTL0ZMViwgVW5zdXBwb3J0ZWQgbWVkaWEgdHlwZSFcIiksUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpLl9pbnRlcm5hbEFib3J0KCl9KSksdGhpcy5fZW1pdHRlci5lbWl0KGtlLmEuREVNVVhfRVJST1IsbS5hLkZPUk1BVF9VTlNVUFBPUlRFRCxcIk5vbiBNUEVHLVRTL0ZMViwgVW5zdXBwb3J0ZWQgbWVkaWEgdHlwZSFcIikpfXJldHVybiBufSxlLnByb3RvdHlwZS5fc2V0dXBGTFZEZW11eGVyUmVtdXhlcj1mdW5jdGlvbihlKXt0aGlzLl9kZW11eGVyPW5ldyBBKGUsdGhpcy5fY29uZmlnKSx0aGlzLl9yZW11eGVyfHwodGhpcy5fcmVtdXhlcj1uZXcgTGUodGhpcy5fY29uZmlnKSk7dmFyIHQ9dGhpcy5fbWVkaWFEYXRhU291cmNlO251bGw9PXQuZHVyYXRpb258fGlzTmFOKHQuZHVyYXRpb24pfHwodGhpcy5fZGVtdXhlci5vdmVycmlkZWREdXJhdGlvbj10LmR1cmF0aW9uKSxcImJvb2xlYW5cIj09dHlwZW9mIHQuaGFzQXVkaW8mJih0aGlzLl9kZW11eGVyLm92ZXJyaWRlZEhhc0F1ZGlvPXQuaGFzQXVkaW8pLFwiYm9vbGVhblwiPT10eXBlb2YgdC5oYXNWaWRlbyYmKHRoaXMuX2RlbXV4ZXIub3ZlcnJpZGVkSGFzVmlkZW89dC5oYXNWaWRlbyksdGhpcy5fZGVtdXhlci50aW1lc3RhbXBCYXNlPXQuc2VnbWVudHNbdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZSx0aGlzLl9kZW11eGVyLm9uRXJyb3I9dGhpcy5fb25EZW11eEV4Y2VwdGlvbi5iaW5kKHRoaXMpLHRoaXMuX2RlbXV4ZXIub25NZWRpYUluZm89dGhpcy5fb25NZWRpYUluZm8uYmluZCh0aGlzKSx0aGlzLl9kZW11eGVyLm9uTWV0YURhdGFBcnJpdmVkPXRoaXMuX29uTWV0YURhdGFBcnJpdmVkLmJpbmQodGhpcyksdGhpcy5fZGVtdXhlci5vblNjcmlwdERhdGFBcnJpdmVkPXRoaXMuX29uU2NyaXB0RGF0YUFycml2ZWQuYmluZCh0aGlzKSx0aGlzLl9yZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2RlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5faW9jdGwpKSx0aGlzLl9yZW11eGVyLm9uSW5pdFNlZ21lbnQ9dGhpcy5fb25SZW11eGVySW5pdFNlZ21lbnRBcnJpdmFsLmJpbmQodGhpcyksdGhpcy5fcmVtdXhlci5vbk1lZGlhU2VnbWVudD10aGlzLl9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsLmJpbmQodGhpcyl9LGUucHJvdG90eXBlLl9zZXR1cFRTRGVtdXhlclJlbXV4ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fZGVtdXhlcj1uZXcgYmUoZSx0aGlzLl9jb25maWcpO3RoaXMuX3JlbXV4ZXJ8fCh0aGlzLl9yZW11eGVyPW5ldyBMZSh0aGlzLl9jb25maWcpKSx0Lm9uRXJyb3I9dGhpcy5fb25EZW11eEV4Y2VwdGlvbi5iaW5kKHRoaXMpLHQub25NZWRpYUluZm89dGhpcy5fb25NZWRpYUluZm8uYmluZCh0aGlzKSx0Lm9uTWV0YURhdGFBcnJpdmVkPXRoaXMuX29uTWV0YURhdGFBcnJpdmVkLmJpbmQodGhpcyksdC5vblRpbWVkSUQzTWV0YWRhdGE9dGhpcy5fb25UaW1lZElEM01ldGFkYXRhLmJpbmQodGhpcyksdC5vblNNUFRFMjAzOE1ldGFkYXRhPXRoaXMuX29uU01QVEUyMDM4TWV0YWRhdGEuYmluZCh0aGlzKSx0Lm9uU0NURTM1TWV0YWRhdGE9dGhpcy5fb25TQ1RFMzVNZXRhZGF0YS5iaW5kKHRoaXMpLHQub25QRVNQcml2YXRlRGF0YURlc2NyaXB0b3I9dGhpcy5fb25QRVNQcml2YXRlRGF0YURlc2NyaXB0b3IuYmluZCh0aGlzKSx0Lm9uUEVTUHJpdmF0ZURhdGE9dGhpcy5fb25QRVNQcml2YXRlRGF0YS5iaW5kKHRoaXMpLHRoaXMuX3JlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5fZGVtdXhlciksdGhpcy5fZGVtdXhlci5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bCksdGhpcy5fcmVtdXhlci5vbkluaXRTZWdtZW50PXRoaXMuX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbC5iaW5kKHRoaXMpLHRoaXMuX3JlbXV4ZXIub25NZWRpYVNlZ21lbnQ9dGhpcy5fb25SZW11eGVyTWVkaWFTZWdtZW50QXJyaXZhbC5iaW5kKHRoaXMpfSxlLnByb3RvdHlwZS5fb25NZWRpYUluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztudWxsPT10aGlzLl9tZWRpYUluZm8mJih0aGlzLl9tZWRpYUluZm89T2JqZWN0LmFzc2lnbih7fSxlKSx0aGlzLl9tZWRpYUluZm8ua2V5ZnJhbWVzSW5kZXg9bnVsbCx0aGlzLl9tZWRpYUluZm8uc2VnbWVudHM9W10sdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRDb3VudD10aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLl9tZWRpYUluZm8sby5hLnByb3RvdHlwZSkpO3ZhciBpPU9iamVjdC5hc3NpZ24oe30sZSk7T2JqZWN0LnNldFByb3RvdHlwZU9mKGksby5hLnByb3RvdHlwZSksdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdPWksdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4KSxudWxsIT10aGlzLl9wZW5kaW5nU2Vla1RpbWUmJlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dmFyIGU9dC5fcGVuZGluZ1NlZWtUaW1lO3QuX3BlbmRpbmdTZWVrVGltZT1udWxsLHQuc2VlayhlKX0pKX0sZS5wcm90b3R5cGUuX29uTWV0YURhdGFBcnJpdmVkPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXR0ZXIuZW1pdChrZS5hLk1FVEFEQVRBX0FSUklWRUQsZSl9LGUucHJvdG90eXBlLl9vblNjcmlwdERhdGFBcnJpdmVkPWZ1bmN0aW9uKGUpe3RoaXMuX2VtaXR0ZXIuZW1pdChrZS5hLlNDUklQVERBVEFfQVJSSVZFRCxlKX0sZS5wcm90b3R5cGUuX29uVGltZWRJRDNNZXRhZGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZW11eGVyLmdldFRpbWVzdGFtcEJhc2UoKTtudWxsIT10JiYobnVsbCE9ZS5wdHMmJihlLnB0cy09dCksbnVsbCE9ZS5kdHMmJihlLmR0cy09dCksdGhpcy5fZW1pdHRlci5lbWl0KGtlLmEuVElNRURfSUQzX01FVEFEQVRBX0FSUklWRUQsZSkpfSxlLnByb3RvdHlwZS5fb25TTVBURTIwMzhNZXRhZGF0YT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9yZW11eGVyLmdldFRpbWVzdGFtcEJhc2UoKTtudWxsIT10JiYobnVsbCE9ZS5wdHMmJihlLnB0cy09dCksbnVsbCE9ZS5kdHMmJihlLmR0cy09dCksbnVsbCE9ZS5uZWFyZXN0X3B0cyYmKGUubmVhcmVzdF9wdHMtPXQpLHRoaXMuX2VtaXR0ZXIuZW1pdChrZS5hLlNNUFRFMjAzOF9NRVRBREFUQV9BUlJJVkVELGUpKX0sZS5wcm90b3R5cGUuX29uU0NURTM1TWV0YWRhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVtdXhlci5nZXRUaW1lc3RhbXBCYXNlKCk7bnVsbCE9dCYmKG51bGwhPWUucHRzJiYoZS5wdHMtPXQpLG51bGwhPWUubmVhcmVzdF9wdHMmJihlLm5lYXJlc3RfcHRzLT10KSx0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5TQ1RFMzVfTUVUQURBVEFfQVJSSVZFRCxlKSl9LGUucHJvdG90eXBlLl9vblBFU1ByaXZhdGVEYXRhRGVzY3JpcHRvcj1mdW5jdGlvbihlKXt0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5QRVNfUFJJVkFURV9EQVRBX0RFU0NSSVBUT1IsZSl9LGUucHJvdG90eXBlLl9vblBFU1ByaXZhdGVEYXRhPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3JlbXV4ZXIuZ2V0VGltZXN0YW1wQmFzZSgpO251bGwhPXQmJihudWxsIT1lLnB0cyYmKGUucHRzLT10KSxudWxsIT1lLm5lYXJlc3RfcHRzJiYoZS5uZWFyZXN0X3B0cy09dCksbnVsbCE9ZS5kdHMmJihlLmR0cy09dCksdGhpcy5fZW1pdHRlci5lbWl0KGtlLmEuUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVELGUpKX0sZS5wcm90b3R5cGUuX29uSU9TZWVrZWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZW11eGVyLmluc2VydERpc2NvbnRpbnVpdHkoKX0sZS5wcm90b3R5cGUuX29uSU9Db21wbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1lKzE7dDx0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoPyh0aGlzLl9pbnRlcm5hbEFib3J0KCksdGhpcy5fcmVtdXhlciYmdGhpcy5fcmVtdXhlci5mbHVzaFN0YXNoZWRTYW1wbGVzKCksdGhpcy5fbG9hZFNlZ21lbnQodCkpOih0aGlzLl9yZW11eGVyJiZ0aGlzLl9yZW11eGVyLmZsdXNoU3Rhc2hlZFNhbXBsZXMoKSx0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5MT0FESU5HX0NPTVBMRVRFKSx0aGlzLl9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyKCkpfSxlLnByb3RvdHlwZS5fb25JT1JlZGlyZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2lvY3RsLmV4dHJhRGF0YTt0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHNbdF0ucmVkaXJlY3RlZFVSTD1lfSxlLnByb3RvdHlwZS5fb25JT1JlY292ZXJlZEVhcmx5RW9mPWZ1bmN0aW9uKCl7dGhpcy5fZW1pdHRlci5lbWl0KGtlLmEuUkVDT1ZFUkVEX0VBUkxZX0VPRil9LGUucHJvdG90eXBlLl9vbklPRXhjZXB0aW9uPWZ1bmN0aW9uKGUsdCl7ci5hLmUodGhpcy5UQUcsXCJJT0V4Y2VwdGlvbjogdHlwZSA9IFwiK2UrXCIsIGNvZGUgPSBcIit0LmNvZGUrXCIsIG1zZyA9IFwiK3QubXNnKSx0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5JT19FUlJPUixlLHQpLHRoaXMuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKX0sZS5wcm90b3R5cGUuX29uRGVtdXhFeGNlcHRpb249ZnVuY3Rpb24oZSx0KXtyLmEuZSh0aGlzLlRBRyxcIkRlbXV4RXhjZXB0aW9uOiB0eXBlID0gXCIrZStcIiwgaW5mbyA9IFwiK3QpLHRoaXMuX2VtaXR0ZXIuZW1pdChrZS5hLkRFTVVYX0VSUk9SLGUsdCl9LGUucHJvdG90eXBlLl9vblJlbXV4ZXJJbml0U2VnbWVudEFycml2YWw9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5JTklUX1NFR01FTlQsZSx0KX0sZS5wcm90b3R5cGUuX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWw9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT10aGlzLl9wZW5kaW5nU2Vla1RpbWUmJih0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5NRURJQV9TRUdNRU5ULGUsdCksbnVsbCE9dGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQmJlwidmlkZW9cIj09PWUpKXt2YXIgaT10LmluZm8uc3luY1BvaW50cyxuPXRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50O3RoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50PW51bGwscy5hLnNhZmFyaSYmaS5sZW5ndGg+MCYmaVswXS5vcmlnaW5hbER0cz09PW4mJihuPWlbMF0ucHRzKSx0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5SRUNPTU1FTkRfU0VFS1BPSU5ULG4pfX0sZS5wcm90b3R5cGUuX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcj1mdW5jdGlvbigpe251bGw9PXRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciYmKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcj1zZWxmLnNldEludGVydmFsKHRoaXMuX3JlcG9ydFN0YXRpc3RpY3NJbmZvLmJpbmQodGhpcyksdGhpcy5fY29uZmlnLnN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWwpKX0sZS5wcm90b3R5cGUuX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXI9ZnVuY3Rpb24oKXt0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXImJihzZWxmLmNsZWFySW50ZXJ2YWwodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyKSx0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXI9bnVsbCl9LGUucHJvdG90eXBlLl9yZXBvcnRTZWdtZW50TWVkaWFJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21lZGlhSW5mby5zZWdtZW50c1tlXSxpPU9iamVjdC5hc3NpZ24oe30sdCk7aS5kdXJhdGlvbj10aGlzLl9tZWRpYUluZm8uZHVyYXRpb24saS5zZWdtZW50Q291bnQ9dGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRDb3VudCxkZWxldGUgaS5zZWdtZW50cyxkZWxldGUgaS5rZXlmcmFtZXNJbmRleCx0aGlzLl9lbWl0dGVyLmVtaXQoa2UuYS5NRURJQV9JTkZPLGkpfSxlLnByb3RvdHlwZS5fcmVwb3J0U3RhdGlzdGljc0luZm89ZnVuY3Rpb24oKXt2YXIgZT17fTtlLnVybD10aGlzLl9pb2N0bC5jdXJyZW50VVJMLGUuaGFzUmVkaXJlY3Q9dGhpcy5faW9jdGwuaGFzUmVkaXJlY3QsZS5oYXNSZWRpcmVjdCYmKGUucmVkaXJlY3RlZFVSTD10aGlzLl9pb2N0bC5jdXJyZW50UmVkaXJlY3RlZFVSTCksZS5zcGVlZD10aGlzLl9pb2N0bC5jdXJyZW50U3BlZWQsZS5sb2FkZXJUeXBlPXRoaXMuX2lvY3RsLmxvYWRlclR5cGUsZS5jdXJyZW50U2VnbWVudEluZGV4PXRoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXgsZS50b3RhbFNlZ21lbnRDb3VudD10aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHMubGVuZ3RoLHRoaXMuX2VtaXR0ZXIuZW1pdChrZS5hLlNUQVRJU1RJQ1NfSU5GTyxlKX0sZX0oKTt0LmE9RGV9LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjt2YXIgbixhPWkoMCkscj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9maXJzdENoZWNrcG9pbnQ9MCx0aGlzLl9sYXN0Q2hlY2twb2ludD0wLHRoaXMuX2ludGVydmFsQnl0ZXM9MCx0aGlzLl90b3RhbEJ5dGVzPTAsdGhpcy5fbGFzdFNlY29uZEJ5dGVzPTAsc2VsZi5wZXJmb3JtYW5jZSYmc2VsZi5wZXJmb3JtYW5jZS5ub3c/dGhpcy5fbm93PXNlbGYucGVyZm9ybWFuY2Uubm93LmJpbmQoc2VsZi5wZXJmb3JtYW5jZSk6dGhpcy5fbm93PURhdGUubm93fXJldHVybiBlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2ZpcnN0Q2hlY2twb2ludD10aGlzLl9sYXN0Q2hlY2twb2ludD0wLHRoaXMuX3RvdGFsQnl0ZXM9dGhpcy5faW50ZXJ2YWxCeXRlcz0wLHRoaXMuX2xhc3RTZWNvbmRCeXRlcz0wfSxlLnByb3RvdHlwZS5hZGRCeXRlcz1mdW5jdGlvbihlKXswPT09dGhpcy5fZmlyc3RDaGVja3BvaW50Pyh0aGlzLl9maXJzdENoZWNrcG9pbnQ9dGhpcy5fbm93KCksdGhpcy5fbGFzdENoZWNrcG9pbnQ9dGhpcy5fZmlyc3RDaGVja3BvaW50LHRoaXMuX2ludGVydmFsQnl0ZXMrPWUsdGhpcy5fdG90YWxCeXRlcys9ZSk6dGhpcy5fbm93KCktdGhpcy5fbGFzdENoZWNrcG9pbnQ8MWUzPyh0aGlzLl9pbnRlcnZhbEJ5dGVzKz1lLHRoaXMuX3RvdGFsQnl0ZXMrPWUpOih0aGlzLl9sYXN0U2Vjb25kQnl0ZXM9dGhpcy5faW50ZXJ2YWxCeXRlcyx0aGlzLl9pbnRlcnZhbEJ5dGVzPWUsdGhpcy5fdG90YWxCeXRlcys9ZSx0aGlzLl9sYXN0Q2hlY2twb2ludD10aGlzLl9ub3coKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImN1cnJlbnRLQnBzXCIse2dldDpmdW5jdGlvbigpe3RoaXMuYWRkQnl0ZXMoMCk7dmFyIGU9KHRoaXMuX25vdygpLXRoaXMuX2xhc3RDaGVja3BvaW50KS8xZTM7cmV0dXJuIDA9PWUmJihlPTEpLHRoaXMuX2ludGVydmFsQnl0ZXMvZS8xMDI0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImxhc3RTZWNvbmRLQnBzXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZEJ5dGVzKDApLDAhPT10aGlzLl9sYXN0U2Vjb25kQnl0ZXM/dGhpcy5fbGFzdFNlY29uZEJ5dGVzLzEwMjQ6dGhpcy5fbm93KCktdGhpcy5fbGFzdENoZWNrcG9pbnQ+PTUwMD90aGlzLmN1cnJlbnRLQnBzOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYXZlcmFnZUtCcHNcIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMuX25vdygpLXRoaXMuX2ZpcnN0Q2hlY2twb2ludCkvMWUzO3JldHVybiB0aGlzLl90b3RhbEJ5dGVzL2UvMTAyNH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfSgpLHM9aSgyKSxvPWkoNCksZD1pKDMpLF89KG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4obj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKX0pKGUsdCl9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gaSgpe3RoaXMuY29uc3RydWN0b3I9ZX1uKGUsdCksZS5wcm90b3R5cGU9bnVsbD09PXQ/T2JqZWN0LmNyZWF0ZSh0KTooaS5wcm90b3R5cGU9dC5wcm90b3R5cGUsbmV3IGkpfSksaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsaSl7dmFyIG49ZS5jYWxsKHRoaXMsXCJmZXRjaC1zdHJlYW0tbG9hZGVyXCIpfHx0aGlzO3JldHVybiBuLlRBRz1cIkZldGNoU3RyZWFtTG9hZGVyXCIsbi5fc2Vla0hhbmRsZXI9dCxuLl9jb25maWc9aSxuLl9uZWVkU3Rhc2g9ITAsbi5fcmVxdWVzdEFib3J0PSExLG4uX2Fib3J0Q29udHJvbGxlcj1udWxsLG4uX2NvbnRlbnRMZW5ndGg9bnVsbCxuLl9yZWNlaXZlZExlbmd0aD0wLG59cmV0dXJuIF8odCxlKSx0LmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW8uYS5tc2VkZ2UmJm8uYS52ZXJzaW9uLm1pbm9yPj0xNTA0OCx0PSFvLmEubXNlZGdlfHxlO3JldHVybiBzZWxmLmZldGNoJiZzZWxmLlJlYWRhYmxlU3RyZWFtJiZ0fWNhdGNoKGUpe3JldHVybiExfX0sdC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaXNXb3JraW5nKCkmJnRoaXMuYWJvcnQoKSxlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LHQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO3RoaXMuX2RhdGFTb3VyY2U9ZSx0aGlzLl9yYW5nZT10O3ZhciBuPWUudXJsO3RoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwmJm51bGwhPWUucmVkaXJlY3RlZFVSTCYmKG49ZS5yZWRpcmVjdGVkVVJMKTt2YXIgYT10aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcobix0KSxyPW5ldyBzZWxmLkhlYWRlcnM7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEuaGVhZGVycyl7dmFyIG89YS5oZWFkZXJzO2Zvcih2YXIgXyBpbiBvKW8uaGFzT3duUHJvcGVydHkoXykmJnIuYXBwZW5kKF8sb1tfXSl9dmFyIGg9e21ldGhvZDpcIkdFVFwiLGhlYWRlcnM6cixtb2RlOlwiY29yc1wiLGNhY2hlOlwiZGVmYXVsdFwiLHJlZmVycmVyUG9saWN5Olwibm8tcmVmZXJyZXItd2hlbi1kb3duZ3JhZGVcIn07aWYoXCJvYmplY3RcIj09dHlwZW9mIHRoaXMuX2NvbmZpZy5oZWFkZXJzKWZvcih2YXIgXyBpbiB0aGlzLl9jb25maWcuaGVhZGVycylyLmFwcGVuZChfLHRoaXMuX2NvbmZpZy5oZWFkZXJzW19dKTshMT09PWUuY29ycyYmKGgubW9kZT1cInNhbWUtb3JpZ2luXCIpLGUud2l0aENyZWRlbnRpYWxzJiYoaC5jcmVkZW50aWFscz1cImluY2x1ZGVcIiksZS5yZWZlcnJlclBvbGljeSYmKGgucmVmZXJyZXJQb2xpY3k9ZS5yZWZlcnJlclBvbGljeSksc2VsZi5BYm9ydENvbnRyb2xsZXImJih0aGlzLl9hYm9ydENvbnRyb2xsZXI9bmV3IHNlbGYuQWJvcnRDb250cm9sbGVyLGguc2lnbmFsPXRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWwpLHRoaXMuX3N0YXR1cz1zLmMua0Nvbm5lY3Rpbmcsc2VsZi5mZXRjaChhLnVybCxoKS50aGVuKChmdW5jdGlvbihlKXtpZihpLl9yZXF1ZXN0QWJvcnQpcmV0dXJuIGkuX3N0YXR1cz1zLmMua0lkbGUsdm9pZCBlLmJvZHkuY2FuY2VsKCk7aWYoZS5vayYmZS5zdGF0dXM+PTIwMCYmZS5zdGF0dXM8PTI5OSl7aWYoZS51cmwhPT1hLnVybCYmaS5fb25VUkxSZWRpcmVjdCl7dmFyIHQ9aS5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyhlLnVybCk7aS5fb25VUkxSZWRpcmVjdCh0KX12YXIgbj1lLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1MZW5ndGhcIik7cmV0dXJuIG51bGwhPW4mJihpLl9jb250ZW50TGVuZ3RoPXBhcnNlSW50KG4pLDAhPT1pLl9jb250ZW50TGVuZ3RoJiZpLl9vbkNvbnRlbnRMZW5ndGhLbm93biYmaS5fb25Db250ZW50TGVuZ3RoS25vd24oaS5fY29udGVudExlbmd0aCkpLGkuX3B1bXAuY2FsbChpLGUuYm9keS5nZXRSZWFkZXIoKSl9aWYoaS5fc3RhdHVzPXMuYy5rRXJyb3IsIWkuX29uRXJyb3IpdGhyb3cgbmV3IGQuZChcIkZldGNoU3RyZWFtTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgXCIrZS5zdGF0dXMrXCIgXCIrZS5zdGF0dXNUZXh0KTtpLl9vbkVycm9yKHMuYi5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQse2NvZGU6ZS5zdGF0dXMsbXNnOmUuc3RhdHVzVGV4dH0pfSkpLmNhdGNoKChmdW5jdGlvbihlKXtpZighaS5fYWJvcnRDb250cm9sbGVyfHwhaS5fYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKXtpZihpLl9zdGF0dXM9cy5jLmtFcnJvciwhaS5fb25FcnJvcil0aHJvdyBlO2kuX29uRXJyb3Iocy5iLkVYQ0VQVElPTix7Y29kZTotMSxtc2c6ZS5tZXNzYWdlfSl9fSkpfSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuX3JlcXVlc3RBYm9ydD0hMCwodGhpcy5fc3RhdHVzIT09cy5jLmtCdWZmZXJpbmd8fCFvLmEuY2hyb21lKSYmdGhpcy5fYWJvcnRDb250cm9sbGVyKXRyeXt0aGlzLl9hYm9ydENvbnRyb2xsZXIuYWJvcnQoKX1jYXRjaChlKXt9fSx0LnByb3RvdHlwZS5fcHVtcD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlLnJlYWQoKS50aGVuKChmdW5jdGlvbihpKXtpZihpLmRvbmUpaWYobnVsbCE9PXQuX2NvbnRlbnRMZW5ndGgmJnQuX3JlY2VpdmVkTGVuZ3RoPHQuX2NvbnRlbnRMZW5ndGgpe3QuX3N0YXR1cz1zLmMua0Vycm9yO3ZhciBuPXMuYi5FQVJMWV9FT0YsYT17Y29kZTotMSxtc2c6XCJGZXRjaCBzdHJlYW0gbWVldCBFYXJseS1FT0ZcIn07aWYoIXQuX29uRXJyb3IpdGhyb3cgbmV3IGQuZChhLm1zZyk7dC5fb25FcnJvcihuLGEpfWVsc2UgdC5fc3RhdHVzPXMuYy5rQ29tcGxldGUsdC5fb25Db21wbGV0ZSYmdC5fb25Db21wbGV0ZSh0Ll9yYW5nZS5mcm9tLHQuX3JhbmdlLmZyb20rdC5fcmVjZWl2ZWRMZW5ndGgtMSk7ZWxzZXtpZih0Ll9hYm9ydENvbnRyb2xsZXImJnQuX2Fib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZClyZXR1cm4gdm9pZCh0Ll9zdGF0dXM9cy5jLmtDb21wbGV0ZSk7aWYoITA9PT10Ll9yZXF1ZXN0QWJvcnQpcmV0dXJuIHQuX3N0YXR1cz1zLmMua0NvbXBsZXRlLGUuY2FuY2VsKCk7dC5fc3RhdHVzPXMuYy5rQnVmZmVyaW5nO3ZhciByPWkudmFsdWUuYnVmZmVyLG89dC5fcmFuZ2UuZnJvbSt0Ll9yZWNlaXZlZExlbmd0aDt0Ll9yZWNlaXZlZExlbmd0aCs9ci5ieXRlTGVuZ3RoLHQuX29uRGF0YUFycml2YWwmJnQuX29uRGF0YUFycml2YWwocixvLHQuX3JlY2VpdmVkTGVuZ3RoKSx0Ll9wdW1wKGUpfX0pKS5jYXRjaCgoZnVuY3Rpb24oZSl7aWYodC5fYWJvcnRDb250cm9sbGVyJiZ0Ll9hYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpdC5fc3RhdHVzPXMuYy5rQ29tcGxldGU7ZWxzZSBpZigxMSE9PWUuY29kZXx8IW8uYS5tc2VkZ2Upe3QuX3N0YXR1cz1zLmMua0Vycm9yO3ZhciBpPTAsbj1udWxsO2lmKDE5IT09ZS5jb2RlJiZcIm5ldHdvcmsgZXJyb3JcIiE9PWUubWVzc2FnZXx8IShudWxsPT09dC5fY29udGVudExlbmd0aHx8bnVsbCE9PXQuX2NvbnRlbnRMZW5ndGgmJnQuX3JlY2VpdmVkTGVuZ3RoPHQuX2NvbnRlbnRMZW5ndGgpPyhpPXMuYi5FWENFUFRJT04sbj17Y29kZTplLmNvZGUsbXNnOmUubWVzc2FnZX0pOihpPXMuYi5FQVJMWV9FT0Ysbj17Y29kZTplLmNvZGUsbXNnOlwiRmV0Y2ggc3RyZWFtIG1lZXQgRWFybHktRU9GXCJ9KSwhdC5fb25FcnJvcil0aHJvdyBuZXcgZC5kKG4ubXNnKTt0Ll9vbkVycm9yKGksbil9fSkpfSx0fShzLmEpLGM9ZnVuY3Rpb24oKXt2YXIgZT1mdW5jdGlvbih0LGkpe3JldHVybihlPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbihlLHQpe2UuX19wcm90b19fPXR9fHxmdW5jdGlvbihlLHQpe2Zvcih2YXIgaSBpbiB0KXQuaGFzT3duUHJvcGVydHkoaSkmJihlW2ldPXRbaV0pfSkodCxpKX07cmV0dXJuIGZ1bmN0aW9uKHQsaSl7ZnVuY3Rpb24gbigpe3RoaXMuY29uc3RydWN0b3I9dH1lKHQsaSksdC5wcm90b3R5cGU9bnVsbD09PWk/T2JqZWN0LmNyZWF0ZShpKToobi5wcm90b3R5cGU9aS5wcm90b3R5cGUsbmV3IG4pfX0oKSx1PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxpKXt2YXIgbj1lLmNhbGwodGhpcyxcInhoci1tb3otY2h1bmtlZC1sb2FkZXJcIil8fHRoaXM7cmV0dXJuIG4uVEFHPVwiTW96Q2h1bmtlZExvYWRlclwiLG4uX3NlZWtIYW5kbGVyPXQsbi5fY29uZmlnPWksbi5fbmVlZFN0YXNoPSEwLG4uX3hocj1udWxsLG4uX3JlcXVlc3RBYm9ydD0hMSxuLl9jb250ZW50TGVuZ3RoPW51bGwsbi5fcmVjZWl2ZWRMZW5ndGg9MCxufXJldHVybiBjKHQsZSksdC5pc1N1cHBvcnRlZD1mdW5jdGlvbigpe3RyeXt2YXIgZT1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuIGUub3BlbihcIkdFVFwiLFwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiLCEwKSxlLnJlc3BvbnNlVHlwZT1cIm1vei1jaHVua2VkLWFycmF5YnVmZmVyXCIsXCJtb3otY2h1bmtlZC1hcnJheWJ1ZmZlclwiPT09ZS5yZXNwb25zZVR5cGV9Y2F0Y2goZSl7cmV0dXJuIGEuYS53KFwiTW96Q2h1bmtlZExvYWRlclwiLGUubWVzc2FnZSksITF9fSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pc1dvcmtpbmcoKSYmdGhpcy5hYm9ydCgpLHRoaXMuX3hociYmKHRoaXMuX3hoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCx0aGlzLl94aHIub25wcm9ncmVzcz1udWxsLHRoaXMuX3hoci5vbmxvYWRlbmQ9bnVsbCx0aGlzLl94aHIub25lcnJvcj1udWxsLHRoaXMuX3hocj1udWxsKSxlLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LHQucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0KXt0aGlzLl9kYXRhU291cmNlPWUsdGhpcy5fcmFuZ2U9dDt2YXIgaT1lLnVybDt0aGlzLl9jb25maWcucmV1c2VSZWRpcmVjdGVkVVJMJiZudWxsIT1lLnJlZGlyZWN0ZWRVUkwmJihpPWUucmVkaXJlY3RlZFVSTCk7dmFyIG49dGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKGksdCk7dGhpcy5fcmVxdWVzdFVSTD1uLnVybDt2YXIgYT10aGlzLl94aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGEub3BlbihcIkdFVFwiLG4udXJsLCEwKSxhLnJlc3BvbnNlVHlwZT1cIm1vei1jaHVua2VkLWFycmF5YnVmZmVyXCIsYS5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy5fb25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyksYS5vbnByb2dyZXNzPXRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKSxhLm9ubG9hZGVuZD10aGlzLl9vbkxvYWRFbmQuYmluZCh0aGlzKSxhLm9uZXJyb3I9dGhpcy5fb25YaHJFcnJvci5iaW5kKHRoaXMpLGUud2l0aENyZWRlbnRpYWxzJiYoYS53aXRoQ3JlZGVudGlhbHM9ITApLFwib2JqZWN0XCI9PXR5cGVvZiBuLmhlYWRlcnMpe3ZhciByPW4uaGVhZGVycztmb3IodmFyIG8gaW4gcilyLmhhc093blByb3BlcnR5KG8pJiZhLnNldFJlcXVlc3RIZWFkZXIobyxyW29dKX1pZihcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5fY29uZmlnLmhlYWRlcnMpe3I9dGhpcy5fY29uZmlnLmhlYWRlcnM7Zm9yKHZhciBvIGluIHIpci5oYXNPd25Qcm9wZXJ0eShvKSYmYS5zZXRSZXF1ZXN0SGVhZGVyKG8scltvXSl9dGhpcy5fc3RhdHVzPXMuYy5rQ29ubmVjdGluZyxhLnNlbmQoKX0sdC5wcm90b3R5cGUuYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl9yZXF1ZXN0QWJvcnQ9ITAsdGhpcy5feGhyJiZ0aGlzLl94aHIuYWJvcnQoKSx0aGlzLl9zdGF0dXM9cy5jLmtDb21wbGV0ZX0sdC5wcm90b3R5cGUuX29uUmVhZHlTdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldDtpZigyPT09dC5yZWFkeVN0YXRlKXtpZihudWxsIT10LnJlc3BvbnNlVVJMJiZ0LnJlc3BvbnNlVVJMIT09dGhpcy5fcmVxdWVzdFVSTCYmdGhpcy5fb25VUkxSZWRpcmVjdCl7dmFyIGk9dGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyh0LnJlc3BvbnNlVVJMKTt0aGlzLl9vblVSTFJlZGlyZWN0KGkpfWlmKDAhPT10LnN0YXR1cyYmKHQuc3RhdHVzPDIwMHx8dC5zdGF0dXM+Mjk5KSl7aWYodGhpcy5fc3RhdHVzPXMuYy5rRXJyb3IsIXRoaXMuX29uRXJyb3IpdGhyb3cgbmV3IGQuZChcIk1vekNodW5rZWRMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCBcIit0LnN0YXR1cytcIiBcIit0LnN0YXR1c1RleHQpO3RoaXMuX29uRXJyb3Iocy5iLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCx7Y29kZTp0LnN0YXR1cyxtc2c6dC5zdGF0dXNUZXh0fSl9ZWxzZSB0aGlzLl9zdGF0dXM9cy5jLmtCdWZmZXJpbmd9fSx0LnByb3RvdHlwZS5fb25Qcm9ncmVzcz1mdW5jdGlvbihlKXtpZih0aGlzLl9zdGF0dXMhPT1zLmMua0Vycm9yKXtudWxsPT09dGhpcy5fY29udGVudExlbmd0aCYmbnVsbCE9PWUudG90YWwmJjAhPT1lLnRvdGFsJiYodGhpcy5fY29udGVudExlbmd0aD1lLnRvdGFsLHRoaXMuX29uQ29udGVudExlbmd0aEtub3duJiZ0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bih0aGlzLl9jb250ZW50TGVuZ3RoKSk7dmFyIHQ9ZS50YXJnZXQucmVzcG9uc2UsaT10aGlzLl9yYW5nZS5mcm9tK3RoaXMuX3JlY2VpdmVkTGVuZ3RoO3RoaXMuX3JlY2VpdmVkTGVuZ3RoKz10LmJ5dGVMZW5ndGgsdGhpcy5fb25EYXRhQXJyaXZhbCYmdGhpcy5fb25EYXRhQXJyaXZhbCh0LGksdGhpcy5fcmVjZWl2ZWRMZW5ndGgpfX0sdC5wcm90b3R5cGUuX29uTG9hZEVuZD1mdW5jdGlvbihlKXshMCE9PXRoaXMuX3JlcXVlc3RBYm9ydD90aGlzLl9zdGF0dXMhPT1zLmMua0Vycm9yJiYodGhpcy5fc3RhdHVzPXMuYy5rQ29tcGxldGUsdGhpcy5fb25Db21wbGV0ZSYmdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLHRoaXMuX3JhbmdlLmZyb20rdGhpcy5fcmVjZWl2ZWRMZW5ndGgtMSkpOnRoaXMuX3JlcXVlc3RBYm9ydD0hMX0sdC5wcm90b3R5cGUuX29uWGhyRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5fc3RhdHVzPXMuYy5rRXJyb3I7dmFyIHQ9MCxpPW51bGw7aWYodGhpcy5fY29udGVudExlbmd0aCYmZS5sb2FkZWQ8dGhpcy5fY29udGVudExlbmd0aD8odD1zLmIuRUFSTFlfRU9GLGk9e2NvZGU6LTEsbXNnOlwiTW96LUNodW5rZWQgc3RyZWFtIG1lZXQgRWFybHktRW9mXCJ9KToodD1zLmIuRVhDRVBUSU9OLGk9e2NvZGU6LTEsbXNnOmUuY29uc3RydWN0b3IubmFtZStcIiBcIitlLnR5cGV9KSwhdGhpcy5fb25FcnJvcil0aHJvdyBuZXcgZC5kKGkubXNnKTt0aGlzLl9vbkVycm9yKHQsaSl9LHR9KHMuYSksbD1mdW5jdGlvbigpe3ZhciBlPWZ1bmN0aW9uKHQsaSl7cmV0dXJuKGU9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGUsdCl7ZS5fX3Byb3RvX189dH18fGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpIGluIHQpdC5oYXNPd25Qcm9wZXJ0eShpKSYmKGVbaV09dFtpXSl9KSh0LGkpfTtyZXR1cm4gZnVuY3Rpb24odCxpKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj10fWUodCxpKSx0LnByb3RvdHlwZT1udWxsPT09aT9PYmplY3QuY3JlYXRlKGkpOihuLnByb3RvdHlwZT1pLnByb3RvdHlwZSxuZXcgbil9fSgpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LGkpe3ZhciBuPWUuY2FsbCh0aGlzLFwieGhyLXJhbmdlLWxvYWRlclwiKXx8dGhpcztyZXR1cm4gbi5UQUc9XCJSYW5nZUxvYWRlclwiLG4uX3NlZWtIYW5kbGVyPXQsbi5fY29uZmlnPWksbi5fbmVlZFN0YXNoPSExLG4uX2NodW5rU2l6ZUtCTGlzdD1bMTI4LDI1NiwzODQsNTEyLDc2OCwxMDI0LDE1MzYsMjA0OCwzMDcyLDQwOTYsNTEyMCw2MTQ0LDcxNjgsODE5Ml0sbi5fY3VycmVudENodW5rU2l6ZUtCPTM4NCxuLl9jdXJyZW50U3BlZWROb3JtYWxpemVkPTAsbi5femVyb1NwZWVkQ2h1bmtDb3VudD0wLG4uX3hocj1udWxsLG4uX3NwZWVkU2FtcGxlcj1uZXcgcixuLl9yZXF1ZXN0QWJvcnQ9ITEsbi5fd2FpdEZvclRvdGFsTGVuZ3RoPSExLG4uX3RvdGFsTGVuZ3RoUmVjZWl2ZWQ9ITEsbi5fY3VycmVudFJlcXVlc3RVUkw9bnVsbCxuLl9jdXJyZW50UmVkaXJlY3RlZFVSTD1udWxsLG4uX2N1cnJlbnRSZXF1ZXN0UmFuZ2U9bnVsbCxuLl90b3RhbExlbmd0aD1udWxsLG4uX2NvbnRlbnRMZW5ndGg9bnVsbCxuLl9yZWNlaXZlZExlbmd0aD0wLG4uX2xhc3RUaW1lTG9hZGVkPTAsbn1yZXR1cm4gbCh0LGUpLHQuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9bmV3IFhNTEh0dHBSZXF1ZXN0O3JldHVybiBlLm9wZW4oXCJHRVRcIixcImh0dHBzOi8vZXhhbXBsZS5jb21cIiwhMCksZS5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiLFwiYXJyYXlidWZmZXJcIj09PWUucmVzcG9uc2VUeXBlfWNhdGNoKGUpe3JldHVybiBhLmEudyhcIlJhbmdlTG9hZGVyXCIsZS5tZXNzYWdlKSwhMX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmlzV29ya2luZygpJiZ0aGlzLmFib3J0KCksdGhpcy5feGhyJiYodGhpcy5feGhyLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHRoaXMuX3hoci5vbnByb2dyZXNzPW51bGwsdGhpcy5feGhyLm9ubG9hZD1udWxsLHRoaXMuX3hoci5vbmVycm9yPW51bGwsdGhpcy5feGhyPW51bGwpLGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLFwiY3VycmVudFNwZWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlLHQpe3RoaXMuX2RhdGFTb3VyY2U9ZSx0aGlzLl9yYW5nZT10LHRoaXMuX3N0YXR1cz1zLmMua0Nvbm5lY3Rpbmc7dmFyIGk9ITE7bnVsbCE9dGhpcy5fZGF0YVNvdXJjZS5maWxlc2l6ZSYmMCE9PXRoaXMuX2RhdGFTb3VyY2UuZmlsZXNpemUmJihpPSEwLHRoaXMuX3RvdGFsTGVuZ3RoPXRoaXMuX2RhdGFTb3VyY2UuZmlsZXNpemUpLHRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWR8fGk/dGhpcy5fb3BlblN1YlJhbmdlKCk6KHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aD0hMCx0aGlzLl9pbnRlcm5hbE9wZW4odGhpcy5fZGF0YVNvdXJjZSx7ZnJvbTowLHRvOi0xfSkpfSx0LnByb3RvdHlwZS5fb3BlblN1YlJhbmdlPWZ1bmN0aW9uKCl7dmFyIGU9MTAyNCp0aGlzLl9jdXJyZW50Q2h1bmtTaXplS0IsdD10aGlzLl9yYW5nZS5mcm9tK3RoaXMuX3JlY2VpdmVkTGVuZ3RoLGk9dCtlO251bGwhPXRoaXMuX2NvbnRlbnRMZW5ndGgmJmktdGhpcy5fcmFuZ2UuZnJvbT49dGhpcy5fY29udGVudExlbmd0aCYmKGk9dGhpcy5fcmFuZ2UuZnJvbSt0aGlzLl9jb250ZW50TGVuZ3RoLTEpLHRoaXMuX2N1cnJlbnRSZXF1ZXN0UmFuZ2U9e2Zyb206dCx0bzppfSx0aGlzLl9pbnRlcm5hbE9wZW4odGhpcy5fZGF0YVNvdXJjZSx0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlKX0sdC5wcm90b3R5cGUuX2ludGVybmFsT3Blbj1mdW5jdGlvbihlLHQpe3RoaXMuX2xhc3RUaW1lTG9hZGVkPTA7dmFyIGk9ZS51cmw7dGhpcy5fY29uZmlnLnJldXNlUmVkaXJlY3RlZFVSTCYmKG51bGwhPXRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMP2k9dGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkw6bnVsbCE9ZS5yZWRpcmVjdGVkVVJMJiYoaT1lLnJlZGlyZWN0ZWRVUkwpKTt2YXIgbj10aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoaSx0KTt0aGlzLl9jdXJyZW50UmVxdWVzdFVSTD1uLnVybDt2YXIgYT10aGlzLl94aHI9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGEub3BlbihcIkdFVFwiLG4udXJsLCEwKSxhLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIsYS5vbnJlYWR5c3RhdGVjaGFuZ2U9dGhpcy5fb25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyksYS5vbnByb2dyZXNzPXRoaXMuX29uUHJvZ3Jlc3MuYmluZCh0aGlzKSxhLm9ubG9hZD10aGlzLl9vbkxvYWQuYmluZCh0aGlzKSxhLm9uZXJyb3I9dGhpcy5fb25YaHJFcnJvci5iaW5kKHRoaXMpLGUud2l0aENyZWRlbnRpYWxzJiYoYS53aXRoQ3JlZGVudGlhbHM9ITApLFwib2JqZWN0XCI9PXR5cGVvZiBuLmhlYWRlcnMpe3ZhciByPW4uaGVhZGVycztmb3IodmFyIHMgaW4gcilyLmhhc093blByb3BlcnR5KHMpJiZhLnNldFJlcXVlc3RIZWFkZXIocyxyW3NdKX1pZihcIm9iamVjdFwiPT10eXBlb2YgdGhpcy5fY29uZmlnLmhlYWRlcnMpe3I9dGhpcy5fY29uZmlnLmhlYWRlcnM7Zm9yKHZhciBzIGluIHIpci5oYXNPd25Qcm9wZXJ0eShzKSYmYS5zZXRSZXF1ZXN0SGVhZGVyKHMscltzXSl9YS5zZW5kKCl9LHQucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5fcmVxdWVzdEFib3J0PSEwLHRoaXMuX2ludGVybmFsQWJvcnQoKSx0aGlzLl9zdGF0dXM9cy5jLmtDb21wbGV0ZX0sdC5wcm90b3R5cGUuX2ludGVybmFsQWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLl94aHImJih0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsdGhpcy5feGhyLm9ucHJvZ3Jlc3M9bnVsbCx0aGlzLl94aHIub25sb2FkPW51bGwsdGhpcy5feGhyLm9uZXJyb3I9bnVsbCx0aGlzLl94aHIuYWJvcnQoKSx0aGlzLl94aHI9bnVsbCl9LHQucHJvdG90eXBlLl9vblJlYWR5U3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50YXJnZXQ7aWYoMj09PXQucmVhZHlTdGF0ZSl7aWYobnVsbCE9dC5yZXNwb25zZVVSTCl7dmFyIGk9dGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyh0LnJlc3BvbnNlVVJMKTt0LnJlc3BvbnNlVVJMIT09dGhpcy5fY3VycmVudFJlcXVlc3RVUkwmJmkhPT10aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCYmKHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMPWksdGhpcy5fb25VUkxSZWRpcmVjdCYmdGhpcy5fb25VUkxSZWRpcmVjdChpKSl9aWYodC5zdGF0dXM+PTIwMCYmdC5zdGF0dXM8PTI5OSl7aWYodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKXJldHVybjt0aGlzLl9zdGF0dXM9cy5jLmtCdWZmZXJpbmd9ZWxzZXtpZih0aGlzLl9zdGF0dXM9cy5jLmtFcnJvciwhdGhpcy5fb25FcnJvcil0aHJvdyBuZXcgZC5kKFwiUmFuZ2VMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCBcIit0LnN0YXR1cytcIiBcIit0LnN0YXR1c1RleHQpO3RoaXMuX29uRXJyb3Iocy5iLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCx7Y29kZTp0LnN0YXR1cyxtc2c6dC5zdGF0dXNUZXh0fSl9fX0sdC5wcm90b3R5cGUuX29uUHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7aWYodGhpcy5fc3RhdHVzIT09cy5jLmtFcnJvcil7aWYobnVsbD09PXRoaXMuX2NvbnRlbnRMZW5ndGgpe3ZhciB0PSExO2lmKHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCl7dGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoPSExLHRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQ9ITAsdD0hMDt2YXIgaT1lLnRvdGFsO3RoaXMuX2ludGVybmFsQWJvcnQoKSxudWxsIT1pJjAhPT1pJiYodGhpcy5fdG90YWxMZW5ndGg9aSl9aWYoLTE9PT10aGlzLl9yYW5nZS50bz90aGlzLl9jb250ZW50TGVuZ3RoPXRoaXMuX3RvdGFsTGVuZ3RoLXRoaXMuX3JhbmdlLmZyb206dGhpcy5fY29udGVudExlbmd0aD10aGlzLl9yYW5nZS50by10aGlzLl9yYW5nZS5mcm9tKzEsdClyZXR1cm4gdm9pZCB0aGlzLl9vcGVuU3ViUmFuZ2UoKTt0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93biYmdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCl9dmFyIG49ZS5sb2FkZWQtdGhpcy5fbGFzdFRpbWVMb2FkZWQ7dGhpcy5fbGFzdFRpbWVMb2FkZWQ9ZS5sb2FkZWQsdGhpcy5fc3BlZWRTYW1wbGVyLmFkZEJ5dGVzKG4pfX0sdC5wcm90b3R5cGUuX25vcm1hbGl6ZVNwZWVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2NodW5rU2l6ZUtCTGlzdCxpPXQubGVuZ3RoLTEsbj0wLGE9MCxyPWk7aWYoZTx0WzBdKXJldHVybiB0WzBdO2Zvcig7YTw9cjspe2lmKChuPWErTWF0aC5mbG9vcigoci1hKS8yKSk9PT1pfHxlPj10W25dJiZlPHRbbisxXSlyZXR1cm4gdFtuXTt0W25dPGU/YT1uKzE6cj1uLTF9fSx0LnByb3RvdHlwZS5fb25Mb2FkPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3N0YXR1cyE9PXMuYy5rRXJyb3IpaWYodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKXRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aD0hMTtlbHNle3RoaXMuX2xhc3RUaW1lTG9hZGVkPTA7dmFyIHQ9dGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO2lmKDA9PT10JiYodGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCsrLHRoaXMuX3plcm9TcGVlZENodW5rQ291bnQ+PTMmJih0PXRoaXMuX3NwZWVkU2FtcGxlci5jdXJyZW50S0JwcykpLDAhPT10KXt2YXIgaT10aGlzLl9ub3JtYWxpemVTcGVlZCh0KTt0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkIT09aSYmKHRoaXMuX2N1cnJlbnRTcGVlZE5vcm1hbGl6ZWQ9aSx0aGlzLl9jdXJyZW50Q2h1bmtTaXplS0I9aSl9dmFyIG49ZS50YXJnZXQucmVzcG9uc2UsYT10aGlzLl9yYW5nZS5mcm9tK3RoaXMuX3JlY2VpdmVkTGVuZ3RoO3RoaXMuX3JlY2VpdmVkTGVuZ3RoKz1uLmJ5dGVMZW5ndGg7dmFyIHI9ITE7bnVsbCE9dGhpcy5fY29udGVudExlbmd0aCYmdGhpcy5fcmVjZWl2ZWRMZW5ndGg8dGhpcy5fY29udGVudExlbmd0aD90aGlzLl9vcGVuU3ViUmFuZ2UoKTpyPSEwLHRoaXMuX29uRGF0YUFycml2YWwmJnRoaXMuX29uRGF0YUFycml2YWwobixhLHRoaXMuX3JlY2VpdmVkTGVuZ3RoKSxyJiYodGhpcy5fc3RhdHVzPXMuYy5rQ29tcGxldGUsdGhpcy5fb25Db21wbGV0ZSYmdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLHRoaXMuX3JhbmdlLmZyb20rdGhpcy5fcmVjZWl2ZWRMZW5ndGgtMSkpfX0sdC5wcm90b3R5cGUuX29uWGhyRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5fc3RhdHVzPXMuYy5rRXJyb3I7dmFyIHQ9MCxpPW51bGw7aWYodGhpcy5fY29udGVudExlbmd0aCYmdGhpcy5fcmVjZWl2ZWRMZW5ndGg+MCYmdGhpcy5fcmVjZWl2ZWRMZW5ndGg8dGhpcy5fY29udGVudExlbmd0aD8odD1zLmIuRUFSTFlfRU9GLGk9e2NvZGU6LTEsbXNnOlwiUmFuZ2VMb2FkZXIgbWVldCBFYXJseS1Fb2ZcIn0pOih0PXMuYi5FWENFUFRJT04saT17Y29kZTotMSxtc2c6ZS5jb25zdHJ1Y3Rvci5uYW1lK1wiIFwiK2UudHlwZX0pLCF0aGlzLl9vbkVycm9yKXRocm93IG5ldyBkLmQoaS5tc2cpO3RoaXMuX29uRXJyb3IodCxpKX0sdH0ocy5hKSxwPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24odCxpKXtyZXR1cm4oZT1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZSx0KXtlLl9fcHJvdG9fXz10fXx8ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkgaW4gdCl0Lmhhc093blByb3BlcnR5KGkpJiYoZVtpXT10W2ldKX0pKHQsaSl9O3JldHVybiBmdW5jdGlvbih0LGkpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPXR9ZSh0LGkpLHQucHJvdG90eXBlPW51bGw9PT1pP09iamVjdC5jcmVhdGUoaSk6KG4ucHJvdG90eXBlPWkucHJvdG90eXBlLG5ldyBuKX19KCksbT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIHQ9ZS5jYWxsKHRoaXMsXCJ3ZWJzb2NrZXQtbG9hZGVyXCIpfHx0aGlzO3JldHVybiB0LlRBRz1cIldlYlNvY2tldExvYWRlclwiLHQuX25lZWRTdGFzaD0hMCx0Ll93cz1udWxsLHQuX3JlcXVlc3RBYm9ydD0hMSx0Ll9yZWNlaXZlZExlbmd0aD0wLHR9cmV0dXJuIHAodCxlKSx0LmlzU3VwcG9ydGVkPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB2b2lkIDAhPT1zZWxmLldlYlNvY2tldH1jYXRjaChlKXtyZXR1cm4hMX19LHQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl93cyYmdGhpcy5hYm9ydCgpLGUucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKX0sdC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9dGhpcy5fd3M9bmV3IHNlbGYuV2ViU29ja2V0KGUudXJsKTt0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLHQub25vcGVuPXRoaXMuX29uV2ViU29ja2V0T3Blbi5iaW5kKHRoaXMpLHQub25jbG9zZT10aGlzLl9vbldlYlNvY2tldENsb3NlLmJpbmQodGhpcyksdC5vbm1lc3NhZ2U9dGhpcy5fb25XZWJTb2NrZXRNZXNzYWdlLmJpbmQodGhpcyksdC5vbmVycm9yPXRoaXMuX29uV2ViU29ja2V0RXJyb3IuYmluZCh0aGlzKSx0aGlzLl9zdGF0dXM9cy5jLmtDb25uZWN0aW5nfWNhdGNoKGUpe3RoaXMuX3N0YXR1cz1zLmMua0Vycm9yO3ZhciBpPXtjb2RlOmUuY29kZSxtc2c6ZS5tZXNzYWdlfTtpZighdGhpcy5fb25FcnJvcil0aHJvdyBuZXcgZC5kKGkubXNnKTt0aGlzLl9vbkVycm9yKHMuYi5FWENFUFRJT04saSl9fSx0LnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3dzOyFlfHwwIT09ZS5yZWFkeVN0YXRlJiYxIT09ZS5yZWFkeVN0YXRlfHwodGhpcy5fcmVxdWVzdEFib3J0PSEwLGUuY2xvc2UoKSksdGhpcy5fd3M9bnVsbCx0aGlzLl9zdGF0dXM9cy5jLmtDb21wbGV0ZX0sdC5wcm90b3R5cGUuX29uV2ViU29ja2V0T3Blbj1mdW5jdGlvbihlKXt0aGlzLl9zdGF0dXM9cy5jLmtCdWZmZXJpbmd9LHQucHJvdG90eXBlLl9vbldlYlNvY2tldENsb3NlPWZ1bmN0aW9uKGUpeyEwIT09dGhpcy5fcmVxdWVzdEFib3J0Pyh0aGlzLl9zdGF0dXM9cy5jLmtDb21wbGV0ZSx0aGlzLl9vbkNvbXBsZXRlJiZ0aGlzLl9vbkNvbXBsZXRlKDAsdGhpcy5fcmVjZWl2ZWRMZW5ndGgtMSkpOnRoaXMuX3JlcXVlc3RBYm9ydD0hMX0sdC5wcm90b3R5cGUuX29uV2ViU29ja2V0TWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO2lmKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXRoaXMuX2Rpc3BhdGNoQXJyYXlCdWZmZXIoZS5kYXRhKTtlbHNlIGlmKGUuZGF0YSBpbnN0YW5jZW9mIEJsb2Ipe3ZhciBpPW5ldyBGaWxlUmVhZGVyO2kub25sb2FkPWZ1bmN0aW9uKCl7dC5fZGlzcGF0Y2hBcnJheUJ1ZmZlcihpLnJlc3VsdCl9LGkucmVhZEFzQXJyYXlCdWZmZXIoZS5kYXRhKX1lbHNle3RoaXMuX3N0YXR1cz1zLmMua0Vycm9yO3ZhciBuPXtjb2RlOi0xLG1zZzpcIlVuc3VwcG9ydGVkIFdlYlNvY2tldCBtZXNzYWdlIHR5cGU6IFwiK2UuZGF0YS5jb25zdHJ1Y3Rvci5uYW1lfTtpZighdGhpcy5fb25FcnJvcil0aHJvdyBuZXcgZC5kKG4ubXNnKTt0aGlzLl9vbkVycm9yKHMuYi5FWENFUFRJT04sbil9fSx0LnByb3RvdHlwZS5fZGlzcGF0Y2hBcnJheUJ1ZmZlcj1mdW5jdGlvbihlKXt2YXIgdD1lLGk9dGhpcy5fcmVjZWl2ZWRMZW5ndGg7dGhpcy5fcmVjZWl2ZWRMZW5ndGgrPXQuYnl0ZUxlbmd0aCx0aGlzLl9vbkRhdGFBcnJpdmFsJiZ0aGlzLl9vbkRhdGFBcnJpdmFsKHQsaSx0aGlzLl9yZWNlaXZlZExlbmd0aCl9LHQucHJvdG90eXBlLl9vbldlYlNvY2tldEVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuX3N0YXR1cz1zLmMua0Vycm9yO3ZhciB0PXtjb2RlOmUuY29kZSxtc2c6ZS5tZXNzYWdlfTtpZighdGhpcy5fb25FcnJvcil0aHJvdyBuZXcgZC5kKHQubXNnKTt0aGlzLl9vbkVycm9yKHMuYi5FWENFUFRJT04sdCl9LHR9KHMuYSksZz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7dGhpcy5femVyb1N0YXJ0PWV8fCExfXJldHVybiBlLnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24oZSx0KXt2YXIgaT17fTtpZigwIT09dC5mcm9tfHwtMSE9PXQudG8pe3ZhciBuPXZvaWQgMDtuPS0xIT09dC50bz9cImJ5dGVzPVwiK3QuZnJvbS50b1N0cmluZygpK1wiLVwiK3QudG8udG9TdHJpbmcoKTpcImJ5dGVzPVwiK3QuZnJvbS50b1N0cmluZygpK1wiLVwiLGkuUmFuZ2U9bn1lbHNlIHRoaXMuX3plcm9TdGFydCYmKGkuUmFuZ2U9XCJieXRlcz0wLVwiKTtyZXR1cm57dXJsOmUsaGVhZGVyczppfX0sZS5wcm90b3R5cGUucmVtb3ZlVVJMUGFyYW1ldGVycz1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZX0oKSx2PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe3RoaXMuX3N0YXJ0TmFtZT1lLHRoaXMuX2VuZE5hbWU9dH1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKGUsdCl7dmFyIGk9ZTtpZigwIT09dC5mcm9tfHwtMSE9PXQudG8pe3ZhciBuPSEwOy0xPT09aS5pbmRleE9mKFwiP1wiKSYmKGkrPVwiP1wiLG49ITEpLG4mJihpKz1cIiZcIiksaSs9dGhpcy5fc3RhcnROYW1lK1wiPVwiK3QuZnJvbS50b1N0cmluZygpLC0xIT09dC50byYmKGkrPVwiJlwiK3RoaXMuX2VuZE5hbWUrXCI9XCIrdC50by50b1N0cmluZygpKX1yZXR1cm57dXJsOmksaGVhZGVyczp7fX19LGUucHJvdG90eXBlLnJlbW92ZVVSTFBhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIj9cIilbMF0saT12b2lkIDAsbj1lLmluZGV4T2YoXCI/XCIpOy0xIT09biYmKGk9ZS5zdWJzdHJpbmcobisxKSk7dmFyIGE9XCJcIjtpZihudWxsIT1pJiZpLmxlbmd0aD4wKWZvcih2YXIgcj1pLnNwbGl0KFwiJlwiKSxzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBvPXJbc10uc3BsaXQoXCI9XCIpLGQ9cz4wO29bMF0hPT10aGlzLl9zdGFydE5hbWUmJm9bMF0hPT10aGlzLl9lbmROYW1lJiYoZCYmKGErPVwiJlwiKSxhKz1yW3NdKX1yZXR1cm4gMD09PWEubGVuZ3RoP3Q6dCtcIj9cIithfSxlfSgpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxpKXt0aGlzLlRBRz1cIklPQ29udHJvbGxlclwiLHRoaXMuX2NvbmZpZz10LHRoaXMuX2V4dHJhRGF0YT1pLHRoaXMuX3N0YXNoSW5pdGlhbFNpemU9NjU1MzYsbnVsbCE9dC5zdGFzaEluaXRpYWxTaXplJiZ0LnN0YXNoSW5pdGlhbFNpemU+MCYmKHRoaXMuX3N0YXNoSW5pdGlhbFNpemU9dC5zdGFzaEluaXRpYWxTaXplKSx0aGlzLl9zdGFzaFVzZWQ9MCx0aGlzLl9zdGFzaFNpemU9dGhpcy5fc3Rhc2hJbml0aWFsU2l6ZSx0aGlzLl9idWZmZXJTaXplPTMxNDU3MjgsdGhpcy5fc3Rhc2hCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuX2J1ZmZlclNpemUpLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0PTAsdGhpcy5fZW5hYmxlU3Rhc2g9ITAsITE9PT10LmVuYWJsZVN0YXNoQnVmZmVyJiYodGhpcy5fZW5hYmxlU3Rhc2g9ITEpLHRoaXMuX2xvYWRlcj1udWxsLHRoaXMuX2xvYWRlckNsYXNzPW51bGwsdGhpcy5fc2Vla0hhbmRsZXI9bnVsbCx0aGlzLl9kYXRhU291cmNlPWUsdGhpcy5faXNXZWJTb2NrZXRVUkw9L3dzcz86XFwvXFwvKC4rPykvLnRlc3QoZS51cmwpLHRoaXMuX3JlZlRvdGFsTGVuZ3RoPWUuZmlsZXNpemU/ZS5maWxlc2l6ZTpudWxsLHRoaXMuX3RvdGFsTGVuZ3RoPXRoaXMuX3JlZlRvdGFsTGVuZ3RoLHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZz0hMSx0aGlzLl9jdXJyZW50UmFuZ2U9bnVsbCx0aGlzLl9yZWRpcmVjdGVkVVJMPW51bGwsdGhpcy5fc3BlZWROb3JtYWxpemVkPTAsdGhpcy5fc3BlZWRTYW1wbGVyPW5ldyByLHRoaXMuX3NwZWVkTm9ybWFsaXplTGlzdD1bMzIsNjQsOTYsMTI4LDE5MiwyNTYsMzg0LDUxMiw3NjgsMTAyNCwxNTM2LDIwNDgsMzA3Miw0MDk2XSx0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nPSExLHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9yZXN1bWVGcm9tPTAsdGhpcy5fb25EYXRhQXJyaXZhbD1udWxsLHRoaXMuX29uU2Vla2VkPW51bGwsdGhpcy5fb25FcnJvcj1udWxsLHRoaXMuX29uQ29tcGxldGU9bnVsbCx0aGlzLl9vblJlZGlyZWN0PW51bGwsdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZj1udWxsLHRoaXMuX3NlbGVjdFNlZWtIYW5kbGVyKCksdGhpcy5fc2VsZWN0TG9hZGVyKCksdGhpcy5fY3JlYXRlTG9hZGVyKCl9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkZXIuaXNXb3JraW5nKCkmJnRoaXMuX2xvYWRlci5hYm9ydCgpLHRoaXMuX2xvYWRlci5kZXN0cm95KCksdGhpcy5fbG9hZGVyPW51bGwsdGhpcy5fbG9hZGVyQ2xhc3M9bnVsbCx0aGlzLl9kYXRhU291cmNlPW51bGwsdGhpcy5fc3Rhc2hCdWZmZXI9bnVsbCx0aGlzLl9zdGFzaFVzZWQ9dGhpcy5fc3Rhc2hTaXplPXRoaXMuX2J1ZmZlclNpemU9dGhpcy5fc3Rhc2hCeXRlU3RhcnQ9MCx0aGlzLl9jdXJyZW50UmFuZ2U9bnVsbCx0aGlzLl9zcGVlZFNhbXBsZXI9bnVsbCx0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nPSExLHRoaXMuX29uRGF0YUFycml2YWw9bnVsbCx0aGlzLl9vblNlZWtlZD1udWxsLHRoaXMuX29uRXJyb3I9bnVsbCx0aGlzLl9vbkNvbXBsZXRlPW51bGwsdGhpcy5fb25SZWRpcmVjdD1udWxsLHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2Y9bnVsbCx0aGlzLl9leHRyYURhdGE9bnVsbH0sZS5wcm90b3R5cGUuaXNXb3JraW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlciYmdGhpcy5fbG9hZGVyLmlzV29ya2luZygpJiYhdGhpcy5fcGF1c2VkfSxlLnByb3RvdHlwZS5pc1BhdXNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXVzZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInN0YXR1c1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbG9hZGVyLnN0YXR1c30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJleHRyYURhdGFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V4dHJhRGF0YX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2V4dHJhRGF0YT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uRGF0YUFycml2YWxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRGF0YUFycml2YWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbkRhdGFBcnJpdmFsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25TZWVrZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uU2Vla2VkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25TZWVrZWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvbkVycm9yXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vbkVycm9yfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25FcnJvcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIm9uQ29tcGxldGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQ29tcGxldGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vbkNvbXBsZXRlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwib25SZWRpcmVjdFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25SZWRpcmVjdH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVkaXJlY3Q9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJvblJlY292ZXJlZEVhcmx5RW9mXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImN1cnJlbnRVUkxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGFTb3VyY2UudXJsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcImhhc1JlZGlyZWN0XCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsIT10aGlzLl9yZWRpcmVjdGVkVVJMfHxudWxsIT10aGlzLl9kYXRhU291cmNlLnJlZGlyZWN0ZWRVUkx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudFJlZGlyZWN0ZWRVUkxcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlZGlyZWN0ZWRVUkx8fHRoaXMuX2RhdGFTb3VyY2UucmVkaXJlY3RlZFVSTH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJjdXJyZW50U3BlZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRlckNsYXNzPT09Zj90aGlzLl9sb2FkZXIuY3VycmVudFNwZWVkOnRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0Jwc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJsb2FkZXJUeXBlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2FkZXIudHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fc2VsZWN0U2Vla0hhbmRsZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9jb25maWc7aWYoXCJyYW5nZVwiPT09ZS5zZWVrVHlwZSl0aGlzLl9zZWVrSGFuZGxlcj1uZXcgZyh0aGlzLl9jb25maWcucmFuZ2VMb2FkWmVyb1N0YXJ0KTtlbHNlIGlmKFwicGFyYW1cIj09PWUuc2Vla1R5cGUpe3ZhciB0PWUuc2Vla1BhcmFtU3RhcnR8fFwiYnN0YXJ0XCIsaT1lLnNlZWtQYXJhbUVuZHx8XCJiZW5kXCI7dGhpcy5fc2Vla0hhbmRsZXI9bmV3IHYodCxpKX1lbHNle2lmKFwiY3VzdG9tXCIhPT1lLnNlZWtUeXBlKXRocm93IG5ldyBkLmIoXCJJbnZhbGlkIHNlZWtUeXBlIGluIGNvbmZpZzogXCIrZS5zZWVrVHlwZSk7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5jdXN0b21TZWVrSGFuZGxlcil0aHJvdyBuZXcgZC5iKFwiQ3VzdG9tIHNlZWtUeXBlIHNwZWNpZmllZCBpbiBjb25maWcgYnV0IGludmFsaWQgY3VzdG9tU2Vla0hhbmRsZXIhXCIpO3RoaXMuX3NlZWtIYW5kbGVyPW5ldyBlLmN1c3RvbVNlZWtIYW5kbGVyfX0sZS5wcm90b3R5cGUuX3NlbGVjdExvYWRlcj1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuX2NvbmZpZy5jdXN0b21Mb2FkZXIpdGhpcy5fbG9hZGVyQ2xhc3M9dGhpcy5fY29uZmlnLmN1c3RvbUxvYWRlcjtlbHNlIGlmKHRoaXMuX2lzV2ViU29ja2V0VVJMKXRoaXMuX2xvYWRlckNsYXNzPW07ZWxzZSBpZihoLmlzU3VwcG9ydGVkKCkpdGhpcy5fbG9hZGVyQ2xhc3M9aDtlbHNlIGlmKHUuaXNTdXBwb3J0ZWQoKSl0aGlzLl9sb2FkZXJDbGFzcz11O2Vsc2V7aWYoIWYuaXNTdXBwb3J0ZWQoKSl0aHJvdyBuZXcgZC5kKFwiWW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCB4aHIgd2l0aCBhcnJheWJ1ZmZlciByZXNwb25zZVR5cGUhXCIpO3RoaXMuX2xvYWRlckNsYXNzPWZ9fSxlLnByb3RvdHlwZS5fY3JlYXRlTG9hZGVyPWZ1bmN0aW9uKCl7dGhpcy5fbG9hZGVyPW5ldyB0aGlzLl9sb2FkZXJDbGFzcyh0aGlzLl9zZWVrSGFuZGxlcix0aGlzLl9jb25maWcpLCExPT09dGhpcy5fbG9hZGVyLm5lZWRTdGFzaEJ1ZmZlciYmKHRoaXMuX2VuYWJsZVN0YXNoPSExKSx0aGlzLl9sb2FkZXIub25Db250ZW50TGVuZ3RoS25vd249dGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24uYmluZCh0aGlzKSx0aGlzLl9sb2FkZXIub25VUkxSZWRpcmVjdD10aGlzLl9vblVSTFJlZGlyZWN0LmJpbmQodGhpcyksdGhpcy5fbG9hZGVyLm9uRGF0YUFycml2YWw9dGhpcy5fb25Mb2FkZXJDaHVua0Fycml2YWwuYmluZCh0aGlzKSx0aGlzLl9sb2FkZXIub25Db21wbGV0ZT10aGlzLl9vbkxvYWRlckNvbXBsZXRlLmJpbmQodGhpcyksdGhpcy5fbG9hZGVyLm9uRXJyb3I9dGhpcy5fb25Mb2FkZXJFcnJvci5iaW5kKHRoaXMpfSxlLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRSYW5nZT17ZnJvbTowLHRvOi0xfSxlJiYodGhpcy5fY3VycmVudFJhbmdlLmZyb209ZSksdGhpcy5fc3BlZWRTYW1wbGVyLnJlc2V0KCksZXx8KHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZz0hMCksdGhpcy5fbG9hZGVyLm9wZW4odGhpcy5fZGF0YVNvdXJjZSxPYmplY3QuYXNzaWduKHt9LHRoaXMuX2N1cnJlbnRSYW5nZSkpfSxlLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuX2xvYWRlci5hYm9ydCgpLHRoaXMuX3BhdXNlZCYmKHRoaXMuX3BhdXNlZD0hMSx0aGlzLl9yZXN1bWVGcm9tPTApfSxlLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuaXNXb3JraW5nKCkmJih0aGlzLl9sb2FkZXIuYWJvcnQoKSwwIT09dGhpcy5fc3Rhc2hVc2VkPyh0aGlzLl9yZXN1bWVGcm9tPXRoaXMuX3N0YXNoQnl0ZVN0YXJ0LHRoaXMuX2N1cnJlbnRSYW5nZS50bz10aGlzLl9zdGFzaEJ5dGVTdGFydC0xKTp0aGlzLl9yZXN1bWVGcm9tPXRoaXMuX2N1cnJlbnRSYW5nZS50bysxLHRoaXMuX3N0YXNoVXNlZD0wLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0PTAsdGhpcy5fcGF1c2VkPSEwKX0sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7aWYodGhpcy5fcGF1c2VkKXt0aGlzLl9wYXVzZWQ9ITE7dmFyIGU9dGhpcy5fcmVzdW1lRnJvbTt0aGlzLl9yZXN1bWVGcm9tPTAsdGhpcy5faW50ZXJuYWxTZWVrKGUsITApfX0sZS5wcm90b3R5cGUuc2Vlaz1mdW5jdGlvbihlKXt0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fc3Rhc2hVc2VkPTAsdGhpcy5fc3Rhc2hCeXRlU3RhcnQ9MCx0aGlzLl9pbnRlcm5hbFNlZWsoZSwhMCl9LGUucHJvdG90eXBlLl9pbnRlcm5hbFNlZWs9ZnVuY3Rpb24oZSx0KXt0aGlzLl9sb2FkZXIuaXNXb3JraW5nKCkmJnRoaXMuX2xvYWRlci5hYm9ydCgpLHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIodCksdGhpcy5fbG9hZGVyLmRlc3Ryb3koKSx0aGlzLl9sb2FkZXI9bnVsbDt2YXIgaT17ZnJvbTplLHRvOi0xfTt0aGlzLl9jdXJyZW50UmFuZ2U9e2Zyb206aS5mcm9tLHRvOi0xfSx0aGlzLl9zcGVlZFNhbXBsZXIucmVzZXQoKSx0aGlzLl9zdGFzaFNpemU9dGhpcy5fc3Rhc2hJbml0aWFsU2l6ZSx0aGlzLl9jcmVhdGVMb2FkZXIoKSx0aGlzLl9sb2FkZXIub3Blbih0aGlzLl9kYXRhU291cmNlLGkpLHRoaXMuX29uU2Vla2VkJiZ0aGlzLl9vblNlZWtlZCgpfSxlLnByb3RvdHlwZS51cGRhdGVVcmw9ZnVuY3Rpb24oZSl7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlfHwwPT09ZS5sZW5ndGgpdGhyb3cgbmV3IGQuYihcIlVybCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyFcIik7dGhpcy5fZGF0YVNvdXJjZS51cmw9ZX0sZS5wcm90b3R5cGUuX2V4cGFuZEJ1ZmZlcj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5fc3Rhc2hTaXplO3QrMTA0ODU3NjxlOyl0Kj0yO2lmKCh0Kz0xMDQ4NTc2KSE9PXRoaXMuX2J1ZmZlclNpemUpe3ZhciBpPW5ldyBBcnJheUJ1ZmZlcih0KTtpZih0aGlzLl9zdGFzaFVzZWQ+MCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsMCx0aGlzLl9zdGFzaFVzZWQpO25ldyBVaW50OEFycmF5KGksMCx0KS5zZXQobiwwKX10aGlzLl9zdGFzaEJ1ZmZlcj1pLHRoaXMuX2J1ZmZlclNpemU9dH19LGUucHJvdG90eXBlLl9ub3JtYWxpemVTcGVlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zcGVlZE5vcm1hbGl6ZUxpc3QsaT10Lmxlbmd0aC0xLG49MCxhPTAscj1pO2lmKGU8dFswXSlyZXR1cm4gdFswXTtmb3IoO2E8PXI7KXtpZigobj1hK01hdGguZmxvb3IoKHItYSkvMikpPT09aXx8ZT49dFtuXSYmZTx0W24rMV0pcmV0dXJuIHRbbl07dFtuXTxlP2E9bisxOnI9bi0xfX0sZS5wcm90b3R5cGUuX2FkanVzdFN0YXNoU2l6ZT1mdW5jdGlvbihlKXt2YXIgdD0wOyh0PXRoaXMuX2NvbmZpZy5pc0xpdmU/ZS84OmU8NTEyP2U6ZT49NTEyJiZlPD0xMDI0P01hdGguZmxvb3IoMS41KmUpOjIqZSk+ODE5MiYmKHQ9ODE5Mik7dmFyIGk9MTAyNCp0KzEwNDg1NzY7dGhpcy5fYnVmZmVyU2l6ZTxpJiZ0aGlzLl9leHBhbmRCdWZmZXIoaSksdGhpcy5fc3Rhc2hTaXplPTEwMjQqdH0sZS5wcm90b3R5cGUuX2Rpc3BhdGNoQ2h1bmtzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5nZS50bz10K2UuYnl0ZUxlbmd0aC0xLHRoaXMuX29uRGF0YUFycml2YWwoZSx0KX0sZS5wcm90b3R5cGUuX29uVVJMUmVkaXJlY3Q9ZnVuY3Rpb24oZSl7dGhpcy5fcmVkaXJlY3RlZFVSTD1lLHRoaXMuX29uUmVkaXJlY3QmJnRoaXMuX29uUmVkaXJlY3QoZSl9LGUucHJvdG90eXBlLl9vbkNvbnRlbnRMZW5ndGhLbm93bj1mdW5jdGlvbihlKXtlJiZ0aGlzLl9mdWxsUmVxdWVzdEZsYWcmJih0aGlzLl90b3RhbExlbmd0aD1lLHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZz0hMSl9LGUucHJvdG90eXBlLl9vbkxvYWRlckNodW5rQXJyaXZhbD1mdW5jdGlvbihlLHQsaSl7aWYoIXRoaXMuX29uRGF0YUFycml2YWwpdGhyb3cgbmV3IGQuYShcIklPQ29udHJvbGxlcjogTm8gZXhpc3RpbmcgY29uc3VtZXIgKG9uRGF0YUFycml2YWwpIGNhbGxiYWNrIVwiKTtpZighdGhpcy5fcGF1c2VkKXt0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nJiYodGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZz0hMSx0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mJiZ0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mKCkpLHRoaXMuX3NwZWVkU2FtcGxlci5hZGRCeXRlcyhlLmJ5dGVMZW5ndGgpO3ZhciBuPXRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztpZigwIT09bil7dmFyIGE9dGhpcy5fbm9ybWFsaXplU3BlZWQobik7dGhpcy5fc3BlZWROb3JtYWxpemVkIT09YSYmKHRoaXMuX3NwZWVkTm9ybWFsaXplZD1hLHRoaXMuX2FkanVzdFN0YXNoU2l6ZShhKSl9aWYodGhpcy5fZW5hYmxlU3Rhc2gpaWYoMD09PXRoaXMuX3N0YXNoVXNlZCYmMD09PXRoaXMuX3N0YXNoQnl0ZVN0YXJ0JiYodGhpcy5fc3Rhc2hCeXRlU3RhcnQ9dCksdGhpcy5fc3Rhc2hVc2VkK2UuYnl0ZUxlbmd0aDw9dGhpcy5fc3Rhc2hTaXplKXsobz1uZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwwLHRoaXMuX3N0YXNoU2l6ZSkpLnNldChuZXcgVWludDhBcnJheShlKSx0aGlzLl9zdGFzaFVzZWQpLHRoaXMuX3N0YXNoVXNlZCs9ZS5ieXRlTGVuZ3RofWVsc2V7bz1uZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwwLHRoaXMuX2J1ZmZlclNpemUpO2lmKHRoaXMuX3N0YXNoVXNlZD4wKXt2YXIgcj10aGlzLl9zdGFzaEJ1ZmZlci5zbGljZSgwLHRoaXMuX3N0YXNoVXNlZCk7aWYoKF89dGhpcy5fZGlzcGF0Y2hDaHVua3Mocix0aGlzLl9zdGFzaEJ5dGVTdGFydCkpPHIuYnl0ZUxlbmd0aCl7aWYoXz4wKXtoPW5ldyBVaW50OEFycmF5KHIsXyk7by5zZXQoaCwwKSx0aGlzLl9zdGFzaFVzZWQ9aC5ieXRlTGVuZ3RoLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0Kz1ffX1lbHNlIHRoaXMuX3N0YXNoVXNlZD0wLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0Kz1fO3RoaXMuX3N0YXNoVXNlZCtlLmJ5dGVMZW5ndGg+dGhpcy5fYnVmZmVyU2l6ZSYmKHRoaXMuX2V4cGFuZEJ1ZmZlcih0aGlzLl9zdGFzaFVzZWQrZS5ieXRlTGVuZ3RoKSxvPW5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLDAsdGhpcy5fYnVmZmVyU2l6ZSkpLG8uc2V0KG5ldyBVaW50OEFycmF5KGUpLHRoaXMuX3N0YXNoVXNlZCksdGhpcy5fc3Rhc2hVc2VkKz1lLmJ5dGVMZW5ndGh9ZWxzZXtpZigoXz10aGlzLl9kaXNwYXRjaENodW5rcyhlLHQpKTxlLmJ5dGVMZW5ndGgpKHM9ZS5ieXRlTGVuZ3RoLV8pPnRoaXMuX2J1ZmZlclNpemUmJih0aGlzLl9leHBhbmRCdWZmZXIocyksbz1uZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwwLHRoaXMuX2J1ZmZlclNpemUpKSxvLnNldChuZXcgVWludDhBcnJheShlLF8pLDApLHRoaXMuX3N0YXNoVXNlZCs9cyx0aGlzLl9zdGFzaEJ5dGVTdGFydD10K199fWVsc2UgaWYoMD09PXRoaXMuX3N0YXNoVXNlZCl7dmFyIHM7aWYoKF89dGhpcy5fZGlzcGF0Y2hDaHVua3MoZSx0KSk8ZS5ieXRlTGVuZ3RoKShzPWUuYnl0ZUxlbmd0aC1fKT50aGlzLl9idWZmZXJTaXplJiZ0aGlzLl9leHBhbmRCdWZmZXIocyksKG89bmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsMCx0aGlzLl9idWZmZXJTaXplKSkuc2V0KG5ldyBVaW50OEFycmF5KGUsXyksMCksdGhpcy5fc3Rhc2hVc2VkKz1zLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0PXQrX31lbHNle3ZhciBvLF87aWYodGhpcy5fc3Rhc2hVc2VkK2UuYnl0ZUxlbmd0aD50aGlzLl9idWZmZXJTaXplJiZ0aGlzLl9leHBhbmRCdWZmZXIodGhpcy5fc3Rhc2hVc2VkK2UuYnl0ZUxlbmd0aCksKG89bmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsMCx0aGlzLl9idWZmZXJTaXplKSkuc2V0KG5ldyBVaW50OEFycmF5KGUpLHRoaXMuX3N0YXNoVXNlZCksdGhpcy5fc3Rhc2hVc2VkKz1lLmJ5dGVMZW5ndGgsKF89dGhpcy5fZGlzcGF0Y2hDaHVua3ModGhpcy5fc3Rhc2hCdWZmZXIuc2xpY2UoMCx0aGlzLl9zdGFzaFVzZWQpLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KSk8dGhpcy5fc3Rhc2hVc2VkJiZfPjApe3ZhciBoPW5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLF8pO28uc2V0KGgsMCl9dGhpcy5fc3Rhc2hVc2VkLT1fLHRoaXMuX3N0YXNoQnl0ZVN0YXJ0Kz1ffX19LGUucHJvdG90eXBlLl9mbHVzaFN0YXNoQnVmZmVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3N0YXNoVXNlZD4wKXt2YXIgdD10aGlzLl9zdGFzaEJ1ZmZlci5zbGljZSgwLHRoaXMuX3N0YXNoVXNlZCksaT10aGlzLl9kaXNwYXRjaENodW5rcyh0LHRoaXMuX3N0YXNoQnl0ZVN0YXJ0KSxuPXQuYnl0ZUxlbmd0aC1pO2lmKGk8dC5ieXRlTGVuZ3RoKXtpZighZSl7aWYoaT4wKXt2YXIgcj1uZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwwLHRoaXMuX2J1ZmZlclNpemUpLHM9bmV3IFVpbnQ4QXJyYXkodCxpKTtyLnNldChzLDApLHRoaXMuX3N0YXNoVXNlZD1zLmJ5dGVMZW5ndGgsdGhpcy5fc3Rhc2hCeXRlU3RhcnQrPWl9cmV0dXJuIDB9YS5hLncodGhpcy5UQUcsbitcIiBieXRlcyB1bmNvbnN1bWVkIGRhdGEgcmVtYWluIHdoZW4gZmx1c2ggYnVmZmVyLCBkcm9wcGVkXCIpfXJldHVybiB0aGlzLl9zdGFzaFVzZWQ9MCx0aGlzLl9zdGFzaEJ5dGVTdGFydD0wLG59cmV0dXJuIDB9LGUucHJvdG90eXBlLl9vbkxvYWRlckNvbXBsZXRlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZmx1c2hTdGFzaEJ1ZmZlcighMCksdGhpcy5fb25Db21wbGV0ZSYmdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9leHRyYURhdGEpfSxlLnByb3RvdHlwZS5fb25Mb2FkZXJFcnJvcj1mdW5jdGlvbihlLHQpe3N3aXRjaChhLmEuZSh0aGlzLlRBRyxcIkxvYWRlciBlcnJvciwgY29kZSA9IFwiK3QuY29kZStcIiwgbXNnID0gXCIrdC5tc2cpLHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIoITEpLHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcmJih0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nPSExLGU9cy5iLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GKSxlKXtjYXNlIHMuYi5FQVJMWV9FT0Y6aWYoIXRoaXMuX2NvbmZpZy5pc0xpdmUmJnRoaXMuX3RvdGFsTGVuZ3RoKXt2YXIgaT10aGlzLl9jdXJyZW50UmFuZ2UudG8rMTtyZXR1cm4gdm9pZChpPHRoaXMuX3RvdGFsTGVuZ3RoJiYoYS5hLncodGhpcy5UQUcsXCJDb25uZWN0aW9uIGxvc3QsIHRyeWluZyByZWNvbm5lY3QuLi5cIiksdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZz0hMCx0aGlzLl9pbnRlcm5hbFNlZWsoaSwhMSkpKX1lPXMuYi5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjticmVhaztjYXNlIHMuYi5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjpjYXNlIHMuYi5DT05ORUNUSU5HX1RJTUVPVVQ6Y2FzZSBzLmIuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElEOmNhc2Ugcy5iLkVYQ0VQVElPTjp9aWYoIXRoaXMuX29uRXJyb3IpdGhyb3cgbmV3IGQuZChcIklPRXhjZXB0aW9uOiBcIit0Lm1zZyk7dGhpcy5fb25FcnJvcihlLHQpfSxlfSgpO3QuYT15fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLmluc3RhbGw9ZnVuY3Rpb24oKXtPYmplY3Quc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHxmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LE9iamVjdC5hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgdD1PYmplY3QoZSksaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBuPWFyZ3VtZW50c1tpXTtpZihudWxsIT1uKWZvcih2YXIgYSBpbiBuKW4uaGFzT3duUHJvcGVydHkoYSkmJih0W2FdPW5bYV0pfXJldHVybiB0fSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBzZWxmLlByb21pc2UmJmkoMTUpLnBvbHlmaWxsKCl9LGV9KCk7bi5pbnN0YWxsKCksdC5hPW59LGZ1bmN0aW9uKGUsdCxpKXtmdW5jdGlvbiBuKGUpe3ZhciB0PXt9O2Z1bmN0aW9uIGkobil7aWYodFtuXSlyZXR1cm4gdFtuXS5leHBvcnRzO3ZhciBhPXRbbl09e2k6bixsOiExLGV4cG9ydHM6e319O3JldHVybiBlW25dLmNhbGwoYS5leHBvcnRzLGEsYS5leHBvcnRzLGkpLGEubD0hMCxhLmV4cG9ydHN9aS5tPWUsaS5jPXQsaS5pPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxpLmQ9ZnVuY3Rpb24oZSx0LG4pe2kubyhlLHQpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6bn0pfSxpLnI9ZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gaS5kKHQsXCJhXCIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9XCIvXCIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9O3ZhciBuPWkoaS5zPUVOVFJZX01PRFVMRSk7cmV0dXJuIG4uZGVmYXVsdHx8bn1mdW5jdGlvbiBhKGUpe3JldHVybihlK1wiXCIpLnJlcGxhY2UoL1suPyorXiRbXFxdXFxcXCgpe318LV0vZyxcIlxcXFwkJlwiKX1mdW5jdGlvbiByKGUsdCxuKXt2YXIgcj17fTtyW25dPVtdO3ZhciBzPXQudG9TdHJpbmcoKSxvPXMubWF0Y2goL15mdW5jdGlvblxccz9cXHcqXFwoXFx3KyxcXHMqXFx3KyxcXHMqKFxcdyspXFwpLyk7aWYoIW8pcmV0dXJuIHI7Zm9yKHZhciBkLF89b1sxXSxoPW5ldyBSZWdFeHAoXCIoXFxcXFxcXFxufFxcXFxXKVwiK2EoXykrXCJcXFxcKFxcXFxzKigvXFxcXCouKj9cXFxcKi8pP1xcXFxzKi4qPyhbXFxcXC58XFxcXC18XFxcXCt8XFxcXHd8L3xAXSspLio/XFxcXClcIixcImdcIik7ZD1oLmV4ZWMocyk7KVwiZGxsLXJlZmVyZW5jZVwiIT09ZFszXSYmcltuXS5wdXNoKGRbM10pO2ZvcihoPW5ldyBSZWdFeHAoXCJcXFxcKFwiK2EoXykrJ1xcXFwoXCIoZGxsLXJlZmVyZW5jZVxcXFxzKFtcXFxcLnxcXFxcLXxcXFxcK3xcXFxcd3wvfEBdKykpXCJcXFxcKVxcXFwpXFxcXChcXFxccyooL1xcXFwqLio/XFxcXCovKT9cXFxccyouKj8oW1xcXFwufFxcXFwtfFxcXFwrfFxcXFx3fC98QF0rKS4qP1xcXFwpJyxcImdcIik7ZD1oLmV4ZWMocyk7KWVbZFsyXV18fChyW25dLnB1c2goZFsxXSksZVtkWzJdXT1pKGRbMV0pLm0pLHJbZFsyXV09cltkWzJdXXx8W10scltkWzJdXS5wdXNoKGRbNF0pO2Zvcih2YXIgYyx1PU9iamVjdC5rZXlzKHIpLGw9MDtsPHUubGVuZ3RoO2wrKylmb3IodmFyIGY9MDtmPHJbdVtsXV0ubGVuZ3RoO2YrKyljPXJbdVtsXV1bZl0saXNOYU4oMSpjKXx8KHJbdVtsXV1bZl09MSpyW3VbbF1dW2ZdKTtyZXR1cm4gcn1mdW5jdGlvbiBzKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHR8fGVbaV0ubGVuZ3RoPjB9KSwhMSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgYT17bWFpbjppLm19LG89dC5hbGw/e21haW46T2JqZWN0LmtleXMoYS5tYWluKX06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9e21haW46W3RdfSxuPXttYWluOltdfSxhPXttYWluOnt9fTtzKGkpOylmb3IodmFyIG89T2JqZWN0LmtleXMoaSksZD0wO2Q8by5sZW5ndGg7ZCsrKXt2YXIgXz1vW2RdLGg9aVtfXS5wb3AoKTtpZihhW19dPWFbX118fHt9LCFhW19dW2hdJiZlW19dW2hdKXthW19dW2hdPSEwLG5bX109bltfXXx8W10sbltfXS5wdXNoKGgpO2Zvcih2YXIgYz1yKGUsZVtfXVtoXSxfKSx1PU9iamVjdC5rZXlzKGMpLGw9MDtsPHUubGVuZ3RoO2wrKylpW3VbbF1dPWlbdVtsXV18fFtdLGlbdVtsXV09aVt1W2xdXS5jb25jYXQoY1t1W2xdXSl9fXJldHVybiBufShhLGUpLGQ9XCJcIjtPYmplY3Qua2V5cyhvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVyblwibWFpblwiIT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDtvW2VdW3RdOyl0Kys7b1tlXS5wdXNoKHQpLGFbZV1bdF09XCIoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7IG1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3JlcXVpcmVfXzsgfSlcIixkPWQrXCJ2YXIgXCIrZStcIiA9IChcIituLnRvU3RyaW5nKCkucmVwbGFjZShcIkVOVFJZX01PRFVMRVwiLEpTT04uc3RyaW5naWZ5KHQpKStcIikoe1wiK29bZV0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCkrXCI6IFwiK2FbZV1bdF0udG9TdHJpbmcoKX0pKS5qb2luKFwiLFwiKStcIn0pO1xcblwifSkpLGQ9ZCtcIm5ldyAoKFwiK24udG9TdHJpbmcoKS5yZXBsYWNlKFwiRU5UUllfTU9EVUxFXCIsSlNPTi5zdHJpbmdpZnkoZSkpK1wiKSh7XCIrby5tYWluLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpK1wiOiBcIithLm1haW5bZV0udG9TdHJpbmcoKX0pKS5qb2luKFwiLFwiKStcIn0pKShzZWxmKTtcIjt2YXIgXz1uZXcgd2luZG93LkJsb2IoW2RdLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KTtpZih0LmJhcmUpcmV0dXJuIF87dmFyIGg9KHdpbmRvdy5VUkx8fHdpbmRvdy53ZWJraXRVUkx8fHdpbmRvdy5tb3pVUkx8fHdpbmRvdy5tc1VSTCkuY3JlYXRlT2JqZWN0VVJMKF8pLGM9bmV3IHdpbmRvdy5Xb3JrZXIoaCk7cmV0dXJuIGMub2JqZWN0VVJMPWgsY319LGZ1bmN0aW9uKGUsdCxpKXtlLmV4cG9ydHM9aSgxOSkuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LGkpeyhmdW5jdGlvbih0LGkpe1xuLyohXG4gKiBAb3ZlcnZpZXcgZXM2LXByb21pc2UgLSBhIHRpbnkgaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZXMvQSsuXG4gKiBAY29weXJpZ2h0IENvcHlyaWdodCAoYykgMjAxNCBZZWh1ZGEgS2F0eiwgVG9tIERhbGUsIFN0ZWZhbiBQZW5uZXIgYW5kIGNvbnRyaWJ1dG9ycyAoQ29udmVyc2lvbiB0byBFUzYgQVBJIGJ5IEpha2UgQXJjaGliYWxkKVxuICogQGxpY2Vuc2UgICBMaWNlbnNlZCB1bmRlciBNSVQgbGljZW5zZVxuICogICAgICAgICAgICBTZWUgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N0ZWZhbnBlbm5lci9lczYtcHJvbWlzZS9tYXN0ZXIvTElDRU5TRVxuICogQHZlcnNpb24gICB2NC4yLjgrMWU2OGRjZTZcbiAqL3ZhciBuO249ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGV9dmFyIG49QXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5OmZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0sYT0wLHI9dm9pZCAwLHM9dm9pZCAwLG89ZnVuY3Rpb24oZSx0KXtmW2FdPWUsZlthKzFdPXQsMj09PShhKz0yKSYmKHM/cyhwKTpiKCkpfSxkPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxfPWR8fHt9LGg9Xy5NdXRhdGlvbk9ic2VydmVyfHxfLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1cInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZiYmdm9pZCAwIT09dCYmXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKHQpLHU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgaW1wb3J0U2NyaXB0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsO2Z1bmN0aW9uIGwoKXt2YXIgZT1zZXRUaW1lb3V0O3JldHVybiBmdW5jdGlvbigpe3JldHVybiBlKHAsMSl9fXZhciBmPW5ldyBBcnJheSgxZTMpO2Z1bmN0aW9uIHAoKXtmb3IodmFyIGU9MDtlPGE7ZSs9MikoMCxmW2VdKShmW2UrMV0pLGZbZV09dm9pZCAwLGZbZSsxXT12b2lkIDA7YT0wfXZhciBtLGcsdix5LGI9dm9pZCAwO2Z1bmN0aW9uIFMoZSx0KXt2YXIgaT10aGlzLG49bmV3IHRoaXMuY29uc3RydWN0b3IoUik7dm9pZCAwPT09bltBXSYmUChuKTt2YXIgYT1pLl9zdGF0ZTtpZihhKXt2YXIgcj1hcmd1bWVudHNbYS0xXTtvKChmdW5jdGlvbigpe3JldHVybiBJKGEsbixyLGkuX3Jlc3VsdCl9KSl9ZWxzZSBDKGksbixlLHQpO3JldHVybiBufWZ1bmN0aW9uIEUoZSl7aWYoZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuY29uc3RydWN0b3I9PT10aGlzKXJldHVybiBlO3ZhciB0PW5ldyB0aGlzKFIpO3JldHVybiBMKHQsZSksdH1jP2I9ZnVuY3Rpb24oKXtyZXR1cm4gdC5uZXh0VGljayhwKX06aD8oZz0wLHY9bmV3IGgocCkseT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSx2Lm9ic2VydmUoeSx7Y2hhcmFjdGVyRGF0YTohMH0pLGI9ZnVuY3Rpb24oKXt5LmRhdGE9Zz0rK2clMn0pOnU/KChtPW5ldyBNZXNzYWdlQ2hhbm5lbCkucG9ydDEub25tZXNzYWdlPXAsYj1mdW5jdGlvbigpe3JldHVybiBtLnBvcnQyLnBvc3RNZXNzYWdlKDApfSk6Yj12b2lkIDA9PT1kP2Z1bmN0aW9uKCl7dHJ5e3ZhciBlPUZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKS5yZXF1aXJlKFwidmVydHhcIik7cmV0dXJuIHZvaWQgMCE9PShyPWUucnVuT25Mb29wfHxlLnJ1bk9uQ29udGV4dCk/ZnVuY3Rpb24oKXtyKHApfTpsKCl9Y2F0Y2goZSl7cmV0dXJuIGwoKX19KCk6bCgpO3ZhciBBPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtmdW5jdGlvbiBSKCl7fWZ1bmN0aW9uIFQodCxpLG4pe2kuY29uc3RydWN0b3I9PT10LmNvbnN0cnVjdG9yJiZuPT09UyYmaS5jb25zdHJ1Y3Rvci5yZXNvbHZlPT09RT9mdW5jdGlvbihlLHQpezE9PT10Ll9zdGF0ZT9rKGUsdC5fcmVzdWx0KToyPT09dC5fc3RhdGU/RChlLHQuX3Jlc3VsdCk6Qyh0LHZvaWQgMCwoZnVuY3Rpb24odCl7cmV0dXJuIEwoZSx0KX0pLChmdW5jdGlvbih0KXtyZXR1cm4gRChlLHQpfSkpfSh0LGkpOnZvaWQgMD09PW4/ayh0LGkpOmUobik/ZnVuY3Rpb24oZSx0LGkpe28oKGZ1bmN0aW9uKGUpe3ZhciBuPSExLGE9ZnVuY3Rpb24oZSx0LGksbil7dHJ5e2UuY2FsbCh0LGksbil9Y2F0Y2goZSl7cmV0dXJuIGV9fShpLHQsKGZ1bmN0aW9uKGkpe258fChuPSEwLHQhPT1pP0woZSxpKTprKGUsaSkpfSksKGZ1bmN0aW9uKHQpe258fChuPSEwLEQoZSx0KSl9KSxlLl9sYWJlbCk7IW4mJmEmJihuPSEwLEQoZSxhKSl9KSxlKX0odCxpLG4pOmsodCxpKX1mdW5jdGlvbiBMKGUsdCl7aWYoZT09PXQpRChlLG5ldyBUeXBlRXJyb3IoXCJZb3UgY2Fubm90IHJlc29sdmUgYSBwcm9taXNlIHdpdGggaXRzZWxmXCIpKTtlbHNlIGlmKGE9dHlwZW9mKG49dCksbnVsbD09PW58fFwib2JqZWN0XCIhPT1hJiZcImZ1bmN0aW9uXCIhPT1hKWsoZSx0KTtlbHNle3ZhciBpPXZvaWQgMDt0cnl7aT10LnRoZW59Y2F0Y2godCl7cmV0dXJuIHZvaWQgRChlLHQpfVQoZSx0LGkpfXZhciBuLGF9ZnVuY3Rpb24gdyhlKXtlLl9vbmVycm9yJiZlLl9vbmVycm9yKGUuX3Jlc3VsdCksQihlKX1mdW5jdGlvbiBrKGUsdCl7dm9pZCAwPT09ZS5fc3RhdGUmJihlLl9yZXN1bHQ9dCxlLl9zdGF0ZT0xLDAhPT1lLl9zdWJzY3JpYmVycy5sZW5ndGgmJm8oQixlKSl9ZnVuY3Rpb24gRChlLHQpe3ZvaWQgMD09PWUuX3N0YXRlJiYoZS5fc3RhdGU9MixlLl9yZXN1bHQ9dCxvKHcsZSkpfWZ1bmN0aW9uIEMoZSx0LGksbil7dmFyIGE9ZS5fc3Vic2NyaWJlcnMscj1hLmxlbmd0aDtlLl9vbmVycm9yPW51bGwsYVtyXT10LGFbcisxXT1pLGFbcisyXT1uLDA9PT1yJiZlLl9zdGF0ZSYmbyhCLGUpfWZ1bmN0aW9uIEIoZSl7dmFyIHQ9ZS5fc3Vic2NyaWJlcnMsaT1lLl9zdGF0ZTtpZigwIT09dC5sZW5ndGgpe2Zvcih2YXIgbj12b2lkIDAsYT12b2lkIDAscj1lLl9yZXN1bHQscz0wO3M8dC5sZW5ndGg7cys9MyluPXRbc10sYT10W3MraV0sbj9JKGksbixhLHIpOmEocik7ZS5fc3Vic2NyaWJlcnMubGVuZ3RoPTB9fWZ1bmN0aW9uIEkodCxpLG4sYSl7dmFyIHI9ZShuKSxzPXZvaWQgMCxvPXZvaWQgMCxkPSEwO2lmKHIpe3RyeXtzPW4oYSl9Y2F0Y2goZSl7ZD0hMSxvPWV9aWYoaT09PXMpcmV0dXJuIHZvaWQgRChpLG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpKX1lbHNlIHM9YTt2b2lkIDAhPT1pLl9zdGF0ZXx8KHImJmQ/TChpLHMpOiExPT09ZD9EKGksbyk6MT09PXQ/ayhpLHMpOjI9PT10JiZEKGkscykpfXZhciBPPTA7ZnVuY3Rpb24gUChlKXtlW0FdPU8rKyxlLl9zdGF0ZT12b2lkIDAsZS5fcmVzdWx0PXZvaWQgMCxlLl9zdWJzY3JpYmVycz1bXX12YXIgTT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yPWUsdGhpcy5wcm9taXNlPW5ldyBlKFIpLHRoaXMucHJvbWlzZVtBXXx8UCh0aGlzLnByb21pc2UpLG4odCk/KHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuX3JlbWFpbmluZz10Lmxlbmd0aCx0aGlzLl9yZXN1bHQ9bmV3IEFycmF5KHRoaXMubGVuZ3RoKSwwPT09dGhpcy5sZW5ndGg/ayh0aGlzLnByb21pc2UsdGhpcy5fcmVzdWx0KToodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGh8fDAsdGhpcy5fZW51bWVyYXRlKHQpLDA9PT10aGlzLl9yZW1haW5pbmcmJmsodGhpcy5wcm9taXNlLHRoaXMuX3Jlc3VsdCkpKTpEKHRoaXMucHJvbWlzZSxuZXcgRXJyb3IoXCJBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXlcIikpfXJldHVybiBlLnByb3RvdHlwZS5fZW51bWVyYXRlPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3ZvaWQgMD09PXRoaXMuX3N0YXRlJiZ0PGUubGVuZ3RoO3QrKyl0aGlzLl9lYWNoRW50cnkoZVt0XSx0KX0sZS5wcm90b3R5cGUuX2VhY2hFbnRyeT1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXMuX2luc3RhbmNlQ29uc3RydWN0b3Isbj1pLnJlc29sdmU7aWYobj09PUUpe3ZhciBhPXZvaWQgMCxyPXZvaWQgMCxzPSExO3RyeXthPWUudGhlbn1jYXRjaChlKXtzPSEwLHI9ZX1pZihhPT09UyYmdm9pZCAwIT09ZS5fc3RhdGUpdGhpcy5fc2V0dGxlZEF0KGUuX3N0YXRlLHQsZS5fcmVzdWx0KTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGEpdGhpcy5fcmVtYWluaW5nLS0sdGhpcy5fcmVzdWx0W3RdPWU7ZWxzZSBpZihpPT09eCl7dmFyIG89bmV3IGkoUik7cz9EKG8scik6VChvLGUsYSksdGhpcy5fd2lsbFNldHRsZUF0KG8sdCl9ZWxzZSB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGkoKGZ1bmN0aW9uKHQpe3JldHVybiB0KGUpfSkpLHQpfWVsc2UgdGhpcy5fd2lsbFNldHRsZUF0KG4oZSksdCl9LGUucHJvdG90eXBlLl9zZXR0bGVkQXQ9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXRoaXMucHJvbWlzZTt2b2lkIDA9PT1uLl9zdGF0ZSYmKHRoaXMuX3JlbWFpbmluZy0tLDI9PT1lP0QobixpKTp0aGlzLl9yZXN1bHRbdF09aSksMD09PXRoaXMuX3JlbWFpbmluZyYmayhuLHRoaXMuX3Jlc3VsdCl9LGUucHJvdG90eXBlLl93aWxsU2V0dGxlQXQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO0MoZSx2b2lkIDAsKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9zZXR0bGVkQXQoMSx0LGUpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBpLl9zZXR0bGVkQXQoMix0LGUpfSkpfSxlfSgpLHg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXNbQV09TysrLHRoaXMuX3Jlc3VsdD10aGlzLl9zdGF0ZT12b2lkIDAsdGhpcy5fc3Vic2NyaWJlcnM9W10sUiE9PWUmJihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yXCIpfSgpLHRoaXMgaW5zdGFuY2VvZiB0P2Z1bmN0aW9uKGUsdCl7dHJ5e3QoKGZ1bmN0aW9uKHQpe0woZSx0KX0pLChmdW5jdGlvbih0KXtEKGUsdCl9KSl9Y2F0Y2godCl7RChlLHQpfX0odGhpcyxlKTpmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIil9KCkpfXJldHVybiB0LnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKG51bGwsZSl9LHQucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gZSh0KT90aGlzLnRoZW4oKGZ1bmN0aW9uKGUpe3JldHVybiBpLnJlc29sdmUodCgpKS50aGVuKChmdW5jdGlvbigpe3JldHVybiBlfSkpfSksKGZ1bmN0aW9uKGUpe3JldHVybiBpLnJlc29sdmUodCgpKS50aGVuKChmdW5jdGlvbigpe3Rocm93IGV9KSl9KSk6dGhpcy50aGVuKHQsdCl9LHR9KCk7cmV0dXJuIHgucHJvdG90eXBlLnRoZW49Uyx4LmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE0odGhpcyxlKS5wcm9taXNlfSx4LnJhY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbihlKT9uZXcgdCgoZnVuY3Rpb24oaSxuKXtmb3IodmFyIGE9ZS5sZW5ndGgscj0wO3I8YTtyKyspdC5yZXNvbHZlKGVbcl0pLnRoZW4oaSxuKX0pKTpuZXcgdCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdChuZXcgVHlwZUVycm9yKFwiWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byByYWNlLlwiKSl9KSl9LHgucmVzb2x2ZT1FLHgucmVqZWN0PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyB0aGlzKFIpO3JldHVybiBEKHQsZSksdH0seC5fc2V0U2NoZWR1bGVyPWZ1bmN0aW9uKGUpe3M9ZX0seC5fc2V0QXNhcD1mdW5jdGlvbihlKXtvPWV9LHguX2FzYXA9byx4LnBvbHlmaWxsPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwO2lmKHZvaWQgMCE9PWkpZT1pO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYpZT1zZWxmO2Vsc2UgdHJ5e2U9RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcInBvbHlmaWxsIGZhaWxlZCBiZWNhdXNlIGdsb2JhbCBvYmplY3QgaXMgdW5hdmFpbGFibGUgaW4gdGhpcyBlbnZpcm9ubWVudFwiKX12YXIgdD1lLlByb21pc2U7aWYodCl7dmFyIG49bnVsbDt0cnl7bj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodC5yZXNvbHZlKCkpfWNhdGNoKGUpe31pZihcIltvYmplY3QgUHJvbWlzZV1cIj09PW4mJiF0LmNhc3QpcmV0dXJufWUuUHJvbWlzZT14fSx4LlByb21pc2U9eCx4fSxlLmV4cG9ydHM9bigpfSkuY2FsbCh0aGlzLGkoMTYpLGkoMTcpKX0sZnVuY3Rpb24oZSx0KXt2YXIgaSxuLGE9ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHMoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gbyhlKXtpZihpPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChpPT09cnx8IWkpJiZzZXRUaW1lb3V0KXJldHVybiBpPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gaShlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gaS5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gaS5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpyfWNhdGNoKGUpe2k9cn10cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnN9Y2F0Y2goZSl7bj1zfX0oKTt2YXIgZCxfPVtdLGg9ITEsYz0tMTtmdW5jdGlvbiB1KCl7aCYmZCYmKGg9ITEsZC5sZW5ndGg/Xz1kLmNvbmNhdChfKTpjPS0xLF8ubGVuZ3RoJiZsKCkpfWZ1bmN0aW9uIGwoKXtpZighaCl7dmFyIGU9byh1KTtoPSEwO2Zvcih2YXIgdD1fLmxlbmd0aDt0Oyl7Zm9yKGQ9XyxfPVtdOysrYzx0OylkJiZkW2NdLnJ1bigpO2M9LTEsdD1fLmxlbmd0aH1kPW51bGwsaD0hMSxmdW5jdGlvbihlKXtpZihuPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG49PT1zfHwhbikmJmNsZWFyVGltZW91dClyZXR1cm4gbj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtuKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBmKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gcCgpe31hLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXRbaS0xXT1hcmd1bWVudHNbaV07Xy5wdXNoKG5ldyBmKGUsdCkpLDEhPT1fLmxlbmd0aHx8aHx8byhsKX0sZi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sYS50aXRsZT1cImJyb3dzZXJcIixhLmJyb3dzZXI9ITAsYS5lbnY9e30sYS5hcmd2PVtdLGEudmVyc2lvbj1cIlwiLGEudmVyc2lvbnM9e30sYS5vbj1wLGEuYWRkTGlzdGVuZXI9cCxhLm9uY2U9cCxhLm9mZj1wLGEucmVtb3ZlTGlzdGVuZXI9cCxhLnJlbW92ZUFsbExpc3RlbmVycz1wLGEuZW1pdD1wLGEucHJlcGVuZExpc3RlbmVyPXAsYS5wcmVwZW5kT25jZUxpc3RlbmVyPXAsYS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGEuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sYS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sYS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGEudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKGUsdCl7dmFyIGk7aT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtpPWl8fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2goZSl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKGk9d2luZG93KX1lLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LGkpe1widXNlIHN0cmljdFwiO2kucih0KTt2YXIgbj1pKDkpLGE9aSgxMikscj1pKDEwKSxzPWkoMSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PW51bGwsaT1mdW5jdGlvbih0LGkpe2UucG9zdE1lc3NhZ2Uoe21zZzpcImxvZ2NhdF9jYWxsYmFja1wiLGRhdGE6e3R5cGU6dCxsb2djYXQ6aX19KX0uYmluZCh0aGlzKTtmdW5jdGlvbiBvKHQsaSl7dmFyIG49e21zZzpzLmEuSU5JVF9TRUdNRU5ULGRhdGE6e3R5cGU6dCxkYXRhOml9fTtlLnBvc3RNZXNzYWdlKG4sW2kuZGF0YV0pfWZ1bmN0aW9uIGQodCxpKXt2YXIgbj17bXNnOnMuYS5NRURJQV9TRUdNRU5ULGRhdGE6e3R5cGU6dCxkYXRhOml9fTtlLnBvc3RNZXNzYWdlKG4sW2kuZGF0YV0pfWZ1bmN0aW9uIF8oKXt2YXIgdD17bXNnOnMuYS5MT0FESU5HX0NPTVBMRVRFfTtlLnBvc3RNZXNzYWdlKHQpfWZ1bmN0aW9uIGgoKXt2YXIgdD17bXNnOnMuYS5SRUNPVkVSRURfRUFSTFlfRU9GfTtlLnBvc3RNZXNzYWdlKHQpfWZ1bmN0aW9uIGModCl7dmFyIGk9e21zZzpzLmEuTUVESUFfSU5GTyxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gdSh0KXt2YXIgaT17bXNnOnMuYS5NRVRBREFUQV9BUlJJVkVELGRhdGE6dH07ZS5wb3N0TWVzc2FnZShpKX1mdW5jdGlvbiBsKHQpe3ZhciBpPXttc2c6cy5hLlNDUklQVERBVEFfQVJSSVZFRCxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gZih0KXt2YXIgaT17bXNnOnMuYS5USU1FRF9JRDNfTUVUQURBVEFfQVJSSVZFRCxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gcCh0KXt2YXIgaT17bXNnOnMuYS5TTVBURTIwMzhfTUVUQURBVEFfQVJSSVZFRCxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gbSh0KXt2YXIgaT17bXNnOnMuYS5TQ1RFMzVfTUVUQURBVEFfQVJSSVZFRCxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gZyh0KXt2YXIgaT17bXNnOnMuYS5QRVNfUFJJVkFURV9EQVRBX0RFU0NSSVBUT1IsZGF0YTp0fTtlLnBvc3RNZXNzYWdlKGkpfWZ1bmN0aW9uIHYodCl7dmFyIGk9e21zZzpzLmEuUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVELGRhdGE6dH07ZS5wb3N0TWVzc2FnZShpKX1mdW5jdGlvbiB5KHQpe3ZhciBpPXttc2c6cy5hLlNUQVRJU1RJQ1NfSU5GTyxkYXRhOnR9O2UucG9zdE1lc3NhZ2UoaSl9ZnVuY3Rpb24gYih0LGkpe2UucG9zdE1lc3NhZ2Uoe21zZzpzLmEuSU9fRVJST1IsZGF0YTp7dHlwZTp0LGluZm86aX19KX1mdW5jdGlvbiBTKHQsaSl7ZS5wb3N0TWVzc2FnZSh7bXNnOnMuYS5ERU1VWF9FUlJPUixkYXRhOnt0eXBlOnQsaW5mbzppfX0pfWZ1bmN0aW9uIEUodCl7ZS5wb3N0TWVzc2FnZSh7bXNnOnMuYS5SRUNPTU1FTkRfU0VFS1BPSU5ULGRhdGE6dH0pfWEuYS5pbnN0YWxsKCksZS5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLChmdW5jdGlvbihhKXtzd2l0Y2goYS5kYXRhLmNtZCl7Y2FzZVwiaW5pdFwiOih0PW5ldyByLmEoYS5kYXRhLnBhcmFtWzBdLGEuZGF0YS5wYXJhbVsxXSkpLm9uKHMuYS5JT19FUlJPUixiLmJpbmQodGhpcykpLHQub24ocy5hLkRFTVVYX0VSUk9SLFMuYmluZCh0aGlzKSksdC5vbihzLmEuSU5JVF9TRUdNRU5ULG8uYmluZCh0aGlzKSksdC5vbihzLmEuTUVESUFfU0VHTUVOVCxkLmJpbmQodGhpcykpLHQub24ocy5hLkxPQURJTkdfQ09NUExFVEUsXy5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5SRUNPVkVSRURfRUFSTFlfRU9GLGguYmluZCh0aGlzKSksdC5vbihzLmEuTUVESUFfSU5GTyxjLmJpbmQodGhpcykpLHQub24ocy5hLk1FVEFEQVRBX0FSUklWRUQsdS5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5TQ1JJUFREQVRBX0FSUklWRUQsbC5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5USU1FRF9JRDNfTUVUQURBVEFfQVJSSVZFRCxmLmJpbmQodGhpcykpLHQub24ocy5hLlNNUFRFMjAzOF9NRVRBREFUQV9BUlJJVkVELHAuYmluZCh0aGlzKSksdC5vbihzLmEuU0NURTM1X01FVEFEQVRBX0FSUklWRUQsbS5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5QRVNfUFJJVkFURV9EQVRBX0RFU0NSSVBUT1IsZy5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5QRVNfUFJJVkFURV9EQVRBX0FSUklWRUQsdi5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5TVEFUSVNUSUNTX0lORk8seS5iaW5kKHRoaXMpKSx0Lm9uKHMuYS5SRUNPTU1FTkRfU0VFS1BPSU5ULEUuYmluZCh0aGlzKSk7YnJlYWs7Y2FzZVwiZGVzdHJveVwiOnQmJih0LmRlc3Ryb3koKSx0PW51bGwpLGUucG9zdE1lc3NhZ2Uoe21zZzpcImRlc3Ryb3llZFwifSk7YnJlYWs7Y2FzZVwic3RhcnRcIjp0LnN0YXJ0KCk7YnJlYWs7Y2FzZVwic3RvcFwiOnQuc3RvcCgpO2JyZWFrO2Nhc2VcInNlZWtcIjp0LnNlZWsoYS5kYXRhLnBhcmFtKTticmVhaztjYXNlXCJwYXVzZVwiOnQucGF1c2UoKTticmVhaztjYXNlXCJyZXN1bWVcIjp0LnJlc3VtZSgpO2JyZWFrO2Nhc2VcImxvZ2dpbmdfY29uZmlnXCI6dmFyIEE9YS5kYXRhLnBhcmFtO24uYS5hcHBseUNvbmZpZyhBKSwhMD09PUEuZW5hYmxlQ2FsbGJhY2s/bi5hLmFkZExvZ0xpc3RlbmVyKGkpOm4uYS5yZW1vdmVMb2dMaXN0ZW5lcihpKX19KSl9fSxmdW5jdGlvbihlLHQsaSl7XCJ1c2Ugc3RyaWN0XCI7aS5yKHQpO3ZhciBuPWkoMTIpLGE9aSgxMSkscj17ZW5hYmxlV29ya2VyOiExLGVuYWJsZVN0YXNoQnVmZmVyOiEwLHN0YXNoSW5pdGlhbFNpemU6dm9pZCAwLGlzTGl2ZTohMSxsaXZlQnVmZmVyTGF0ZW5jeUNoYXNpbmc6ITEsbGl2ZUJ1ZmZlckxhdGVuY3lNYXhMYXRlbmN5OjEuNSxsaXZlQnVmZmVyTGF0ZW5jeU1pblJlbWFpbjouNSxsYXp5TG9hZDohMCxsYXp5TG9hZE1heER1cmF0aW9uOjE4MCxsYXp5TG9hZFJlY292ZXJEdXJhdGlvbjozMCxkZWZlckxvYWRBZnRlclNvdXJjZU9wZW46ITAsYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uOjE4MCxhdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb246MTIwLHN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWw6NjAwLGZpeEF1ZGlvVGltZXN0YW1wR2FwOiEwLGFjY3VyYXRlU2VlazohMSxzZWVrVHlwZTpcInJhbmdlXCIsc2Vla1BhcmFtU3RhcnQ6XCJic3RhcnRcIixzZWVrUGFyYW1FbmQ6XCJiZW5kXCIscmFuZ2VMb2FkWmVyb1N0YXJ0OiExLGN1c3RvbVNlZWtIYW5kbGVyOnZvaWQgMCxyZXVzZVJlZGlyZWN0ZWRVUkw6ITEsaGVhZGVyczp2b2lkIDAsY3VzdG9tTG9hZGVyOnZvaWQgMH07ZnVuY3Rpb24gcygpe3JldHVybiBPYmplY3QuYXNzaWduKHt9LHIpfXZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5zdXBwb3J0TVNFSDI2NFBsYXliYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5NZWRpYVNvdXJjZSYmd2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0OyBjb2RlY3M9XCJhdmMxLjQyRTAxRSxtcDRhLjQwLjJcIicpfSxlLnN1cHBvcnRNU0VIMjY1UGxheWJhY2s9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lk1lZGlhU291cmNlJiZ3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImh2YzEuMS42Lkw5My5CMFwiJyl9LGUuc3VwcG9ydE5ldHdvcmtTdHJlYW1JTz1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLmEoe30scygpKSx0PWUubG9hZGVyVHlwZTtyZXR1cm4gZS5kZXN0cm95KCksXCJmZXRjaC1zdHJlYW0tbG9hZGVyXCI9PXR8fFwieGhyLW1vei1jaHVua2VkLWxvYWRlclwiPT10fSxlLmdldE5ldHdvcmtMb2FkZXJUeXBlTmFtZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBhLmEoe30scygpKSx0PWUubG9hZGVyVHlwZTtyZXR1cm4gZS5kZXN0cm95KCksdH0sZS5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaz1mdW5jdGlvbih0KXtudWxsPT1lLnZpZGVvRWxlbWVudCYmKGUudmlkZW9FbGVtZW50PXdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpO3ZhciBpPWUudmlkZW9FbGVtZW50LmNhblBsYXlUeXBlKHQpO3JldHVyblwicHJvYmFibHlcIj09PWl8fFwibWF5YmVcIj09aX0sZS5nZXRGZWF0dXJlTGlzdD1mdW5jdGlvbigpe3ZhciB0PXttc2VQbGF5YmFjazohMSxtc2VMaXZlUGxheWJhY2s6ITEsbXNlSDI2NVBsYXliYWNrOiExLG5ldHdvcmtTdHJlYW1JTzohMSxuZXR3b3JrTG9hZGVyTmFtZTpcIlwiLG5hdGl2ZU1QNEgyNjRQbGF5YmFjazohMSxuYXRpdmVNUDRIMjY1UGxheWJhY2s6ITEsbmF0aXZlV2VibVZQOFBsYXliYWNrOiExLG5hdGl2ZVdlYm1WUDlQbGF5YmFjazohMX07cmV0dXJuIHQubXNlUGxheWJhY2s9ZS5zdXBwb3J0TVNFSDI2NFBsYXliYWNrKCksdC5uZXR3b3JrU3RyZWFtSU89ZS5zdXBwb3J0TmV0d29ya1N0cmVhbUlPKCksdC5uZXR3b3JrTG9hZGVyTmFtZT1lLmdldE5ldHdvcmtMb2FkZXJUeXBlTmFtZSgpLHQubXNlTGl2ZVBsYXliYWNrPXQubXNlUGxheWJhY2smJnQubmV0d29ya1N0cmVhbUlPLHQubXNlSDI2NVBsYXliYWNrPWUuc3VwcG9ydE1TRUgyNjVQbGF5YmFjaygpLHQubmF0aXZlTVA0SDI2NFBsYXliYWNrPWUuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MjAwMUUsIG1wNGEuNDAuMlwiJyksdC5uYXRpdmVNUDRIMjY1UGxheWJhY2s9ZS5zdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjaygndmlkZW8vbXA0OyBjb2RlY3M9XCJodmMxLjEuNi5MOTMuQjBcIicpLHQubmF0aXZlV2VibVZQOFBsYXliYWNrPWUuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOC4wLCB2b3JiaXNcIicpLHQubmF0aXZlV2VibVZQOVBsYXliYWNrPWUuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOVwiJyksdH0sZX0oKSxkPWkoMiksXz1pKDYpLGg9aS5uKF8pLGM9aSgwKSx1PWkoNCksbD17RVJST1I6XCJlcnJvclwiLExPQURJTkdfQ09NUExFVEU6XCJsb2FkaW5nX2NvbXBsZXRlXCIsUkVDT1ZFUkVEX0VBUkxZX0VPRjpcInJlY292ZXJlZF9lYXJseV9lb2ZcIixNRURJQV9JTkZPOlwibWVkaWFfaW5mb1wiLE1FVEFEQVRBX0FSUklWRUQ6XCJtZXRhZGF0YV9hcnJpdmVkXCIsU0NSSVBUREFUQV9BUlJJVkVEOlwic2NyaXB0ZGF0YV9hcnJpdmVkXCIsVElNRURfSUQzX01FVEFEQVRBX0FSUklWRUQ6XCJ0aW1lZF9pZDNfbWV0YWRhdGFfYXJyaXZlZFwiLFNNUFRFMjAzOF9NRVRBREFUQV9BUlJJVkVEOlwic21wdGUyMDM4X21ldGFkYXRhX2Fycml2ZWRcIixTQ1RFMzVfTUVUQURBVEFfQVJSSVZFRDpcInNjdGUzNV9tZXRhZGF0YV9hcnJpdmVkXCIsUEVTX1BSSVZBVEVfREFUQV9ERVNDUklQVE9SOlwicGVzX3ByaXZhdGVfZGF0YV9kZXNjcmlwdG9yXCIsUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVEOlwicGVzX3ByaXZhdGVfZGF0YV9hcnJpdmVkXCIsU1RBVElTVElDU19JTkZPOlwic3RhdGlzdGljc19pbmZvXCJ9LGY9aSgxMykscD1pLm4oZiksbT1pKDkpLGc9aSgxMCksdj1pKDEpLHk9aSg4KSxiPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2lmKHRoaXMuVEFHPVwiVHJhbnNtdXhlclwiLHRoaXMuX2VtaXR0ZXI9bmV3IGguYSx0LmVuYWJsZVdvcmtlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlcil0cnl7dGhpcy5fd29ya2VyPXAoKSgxOCksdGhpcy5fd29ya2VyRGVzdHJveWluZz0hMSx0aGlzLl93b3JrZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLl9vbldvcmtlck1lc3NhZ2UuYmluZCh0aGlzKSksdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6XCJpbml0XCIscGFyYW06W2UsdF19KSx0aGlzLmU9e29uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQ6dGhpcy5fb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZC5iaW5kKHRoaXMpfSxtLmEucmVnaXN0ZXJMaXN0ZW5lcih0aGlzLmUub25Mb2dnaW5nQ29uZmlnQ2hhbmdlZCksdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6XCJsb2dnaW5nX2NvbmZpZ1wiLHBhcmFtOm0uYS5nZXRDb25maWcoKX0pfWNhdGNoKGkpe2MuYS5lKHRoaXMuVEFHLFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6ZSB0cmFuc211eGluZyB3b3JrZXIsIGZhbGxiYWNrIHRvIGlubGluZSB0cmFuc211eGluZ1wiKSx0aGlzLl93b3JrZXI9bnVsbCx0aGlzLl9jb250cm9sbGVyPW5ldyBnLmEoZSx0KX1lbHNlIHRoaXMuX2NvbnRyb2xsZXI9bmV3IGcuYShlLHQpO2lmKHRoaXMuX2NvbnRyb2xsZXIpe3ZhciBpPXRoaXMuX2NvbnRyb2xsZXI7aS5vbih2LmEuSU9fRVJST1IsdGhpcy5fb25JT0Vycm9yLmJpbmQodGhpcykpLGkub24odi5hLkRFTVVYX0VSUk9SLHRoaXMuX29uRGVtdXhFcnJvci5iaW5kKHRoaXMpKSxpLm9uKHYuYS5JTklUX1NFR01FTlQsdGhpcy5fb25Jbml0U2VnbWVudC5iaW5kKHRoaXMpKSxpLm9uKHYuYS5NRURJQV9TRUdNRU5ULHRoaXMuX29uTWVkaWFTZWdtZW50LmJpbmQodGhpcykpLGkub24odi5hLkxPQURJTkdfQ09NUExFVEUsdGhpcy5fb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSksaS5vbih2LmEuUkVDT1ZFUkVEX0VBUkxZX0VPRix0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcykpLGkub24odi5hLk1FRElBX0lORk8sdGhpcy5fb25NZWRpYUluZm8uYmluZCh0aGlzKSksaS5vbih2LmEuTUVUQURBVEFfQVJSSVZFRCx0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZC5iaW5kKHRoaXMpKSxpLm9uKHYuYS5TQ1JJUFREQVRBX0FSUklWRUQsdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZC5iaW5kKHRoaXMpKSxpLm9uKHYuYS5USU1FRF9JRDNfTUVUQURBVEFfQVJSSVZFRCx0aGlzLl9vblRpbWVkSUQzTWV0YWRhdGFBcnJpdmVkLmJpbmQodGhpcykpLGkub24odi5hLlNNUFRFMjAzOF9NRVRBREFUQV9BUlJJVkVELHRoaXMuX29uU01QVEUyMDM4TWV0YWRhdGFBcnJpdmVkLmJpbmQodGhpcykpLGkub24odi5hLlNDVEUzNV9NRVRBREFUQV9BUlJJVkVELHRoaXMuX29uU0NURTM1TWV0YWRhdGFBcnJpdmVkLmJpbmQodGhpcykpLGkub24odi5hLlBFU19QUklWQVRFX0RBVEFfREVTQ1JJUFRPUix0aGlzLl9vblBFU1ByaXZhdGVEYXRhRGVzY3JpcHRvci5iaW5kKHRoaXMpKSxpLm9uKHYuYS5QRVNfUFJJVkFURV9EQVRBX0FSUklWRUQsdGhpcy5fb25QRVNQcml2YXRlRGF0YUFycml2ZWQuYmluZCh0aGlzKSksaS5vbih2LmEuU1RBVElTVElDU19JTkZPLHRoaXMuX29uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSksaS5vbih2LmEuUkVDT01NRU5EX1NFRUtQT0lOVCx0aGlzLl9vblJlY29tbWVuZFNlZWtwb2ludC5iaW5kKHRoaXMpKX19cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLl93b3JrZXI/dGhpcy5fd29ya2VyRGVzdHJveWluZ3x8KHRoaXMuX3dvcmtlckRlc3Ryb3lpbmc9ITAsdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6XCJkZXN0cm95XCJ9KSxtLmEucmVtb3ZlTGlzdGVuZXIodGhpcy5lLm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQpLHRoaXMuZT1udWxsKToodGhpcy5fY29udHJvbGxlci5kZXN0cm95KCksdGhpcy5fY29udHJvbGxlcj1udWxsKSx0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2VtaXR0ZXI9bnVsbH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGUsdCl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUuaGFzV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPXRoaXMuX3dvcmtlcn0sZS5wcm90b3R5cGUub3Blbj1mdW5jdGlvbigpe3RoaXMuX3dvcmtlcj90aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDpcInN0YXJ0XCJ9KTp0aGlzLl9jb250cm9sbGVyLnN0YXJ0KCl9LGUucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fd29ya2VyP3RoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOlwic3RvcFwifSk6dGhpcy5fY29udHJvbGxlci5zdG9wKCl9LGUucHJvdG90eXBlLnNlZWs9ZnVuY3Rpb24oZSl7dGhpcy5fd29ya2VyP3RoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOlwic2Vla1wiLHBhcmFtOmV9KTp0aGlzLl9jb250cm9sbGVyLnNlZWsoZSl9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fd29ya2VyP3RoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOlwicGF1c2VcIn0pOnRoaXMuX2NvbnRyb2xsZXIucGF1c2UoKX0sZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dGhpcy5fd29ya2VyP3RoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOlwicmVzdW1lXCJ9KTp0aGlzLl9jb250cm9sbGVyLnJlc3VtZSgpfSxlLnByb3RvdHlwZS5fb25Jbml0U2VnbWVudD1mdW5jdGlvbihlLHQpe3ZhciBpPXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtpLl9lbWl0dGVyLmVtaXQodi5hLklOSVRfU0VHTUVOVCxlLHQpfSkpfSxlLnByb3RvdHlwZS5fb25NZWRpYVNlZ21lbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aS5fZW1pdHRlci5lbWl0KHYuYS5NRURJQV9TRUdNRU5ULGUsdCl9KSl9LGUucHJvdG90eXBlLl9vbkxvYWRpbmdDb21wbGV0ZT1mdW5jdGlvbigpe3ZhciBlPXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtlLl9lbWl0dGVyLmVtaXQodi5hLkxPQURJTkdfQ09NUExFVEUpfSkpfSxlLnByb3RvdHlwZS5fb25SZWNvdmVyZWRFYXJseUVvZj1mdW5jdGlvbigpe3ZhciBlPXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXtlLl9lbWl0dGVyLmVtaXQodi5hLlJFQ09WRVJFRF9FQVJMWV9FT0YpfSkpfSxlLnByb3RvdHlwZS5fb25NZWRpYUluZm89ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX2VtaXR0ZXIuZW1pdCh2LmEuTUVESUFfSU5GTyxlKX0pKX0sZS5wcm90b3R5cGUuX29uTWV0YURhdGFBcnJpdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9lbWl0dGVyLmVtaXQodi5hLk1FVEFEQVRBX0FSUklWRUQsZSl9KSl9LGUucHJvdG90eXBlLl9vblNjcmlwdERhdGFBcnJpdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9lbWl0dGVyLmVtaXQodi5hLlNDUklQVERBVEFfQVJSSVZFRCxlKX0pKX0sZS5wcm90b3R5cGUuX29uVGltZWRJRDNNZXRhZGF0YUFycml2ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX2VtaXR0ZXIuZW1pdCh2LmEuVElNRURfSUQzX01FVEFEQVRBX0FSUklWRUQsZSl9KSl9LGUucHJvdG90eXBlLl9vblNNUFRFMjAzOE1ldGFkYXRhQXJyaXZlZD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fZW1pdHRlci5lbWl0KHYuYS5TTVBURTIwMzhfTUVUQURBVEFfQVJSSVZFRCxlKX0pKX0sZS5wcm90b3R5cGUuX29uU0NURTM1TWV0YWRhdGFBcnJpdmVkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9lbWl0dGVyLmVtaXQodi5hLlNDVEUzNV9NRVRBREFUQV9BUlJJVkVELGUpfSkpfSxlLnByb3RvdHlwZS5fb25QRVNQcml2YXRlRGF0YURlc2NyaXB0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX2VtaXR0ZXIuZW1pdCh2LmEuUEVTX1BSSVZBVEVfREFUQV9ERVNDUklQVE9SLGUpfSkpfSxlLnByb3RvdHlwZS5fb25QRVNQcml2YXRlRGF0YUFycml2ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe3QuX2VtaXR0ZXIuZW1pdCh2LmEuUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVELGUpfSkpfSxlLnByb3RvdHlwZS5fb25TdGF0aXN0aWNzSW5mbz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7dC5fZW1pdHRlci5lbWl0KHYuYS5TVEFUSVNUSUNTX0lORk8sZSl9KSl9LGUucHJvdG90eXBlLl9vbklPRXJyb3I9ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO1Byb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aS5fZW1pdHRlci5lbWl0KHYuYS5JT19FUlJPUixlLHQpfSkpfSxlLnByb3RvdHlwZS5fb25EZW11eEVycm9yPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcztQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2kuX2VtaXR0ZXIuZW1pdCh2LmEuREVNVVhfRVJST1IsZSx0KX0pKX0sZS5wcm90b3R5cGUuX29uUmVjb21tZW5kU2Vla3BvaW50PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoZnVuY3Rpb24oKXt0Ll9lbWl0dGVyLmVtaXQodi5hLlJFQ09NTUVORF9TRUVLUE9JTlQsZSl9KSl9LGUucHJvdG90eXBlLl9vbkxvZ2dpbmdDb25maWdDaGFuZ2VkPWZ1bmN0aW9uKGUpe3RoaXMuX3dvcmtlciYmdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6XCJsb2dnaW5nX2NvbmZpZ1wiLHBhcmFtOmV9KX0sZS5wcm90b3R5cGUuX29uV29ya2VyTWVzc2FnZT1mdW5jdGlvbihlKXt2YXIgdD1lLmRhdGEsaT10LmRhdGE7aWYoXCJkZXN0cm95ZWRcIj09PXQubXNnfHx0aGlzLl93b3JrZXJEZXN0cm95aW5nKXJldHVybiB0aGlzLl93b3JrZXJEZXN0cm95aW5nPSExLHRoaXMuX3dvcmtlci50ZXJtaW5hdGUoKSx2b2lkKHRoaXMuX3dvcmtlcj1udWxsKTtzd2l0Y2godC5tc2cpe2Nhc2Ugdi5hLklOSVRfU0VHTUVOVDpjYXNlIHYuYS5NRURJQV9TRUdNRU5UOnRoaXMuX2VtaXR0ZXIuZW1pdCh0Lm1zZyxpLnR5cGUsaS5kYXRhKTticmVhaztjYXNlIHYuYS5MT0FESU5HX0NPTVBMRVRFOmNhc2Ugdi5hLlJFQ09WRVJFRF9FQVJMWV9FT0Y6dGhpcy5fZW1pdHRlci5lbWl0KHQubXNnKTticmVhaztjYXNlIHYuYS5NRURJQV9JTkZPOk9iamVjdC5zZXRQcm90b3R5cGVPZihpLHkuYS5wcm90b3R5cGUpLHRoaXMuX2VtaXR0ZXIuZW1pdCh0Lm1zZyxpKTticmVhaztjYXNlIHYuYS5NRVRBREFUQV9BUlJJVkVEOmNhc2Ugdi5hLlNDUklQVERBVEFfQVJSSVZFRDpjYXNlIHYuYS5USU1FRF9JRDNfTUVUQURBVEFfQVJSSVZFRDpjYXNlIHYuYS5TTVBURTIwMzhfTUVUQURBVEFfQVJSSVZFRDpjYXNlIHYuYS5TQ1RFMzVfTUVUQURBVEFfQVJSSVZFRDpjYXNlIHYuYS5QRVNfUFJJVkFURV9EQVRBX0RFU0NSSVBUT1I6Y2FzZSB2LmEuUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVEOmNhc2Ugdi5hLlNUQVRJU1RJQ1NfSU5GTzp0aGlzLl9lbWl0dGVyLmVtaXQodC5tc2csaSk7YnJlYWs7Y2FzZSB2LmEuSU9fRVJST1I6Y2FzZSB2LmEuREVNVVhfRVJST1I6dGhpcy5fZW1pdHRlci5lbWl0KHQubXNnLGkudHlwZSxpLmluZm8pO2JyZWFrO2Nhc2Ugdi5hLlJFQ09NTUVORF9TRUVLUE9JTlQ6dGhpcy5fZW1pdHRlci5lbWl0KHQubXNnLGkpO2JyZWFrO2Nhc2VcImxvZ2NhdF9jYWxsYmFja1wiOmMuYS5lbWl0dGVyLmVtaXQoXCJsb2dcIixpLnR5cGUsaS5sb2djYXQpfX0sZX0oKSxTPXtFUlJPUjpcImVycm9yXCIsU09VUkNFX09QRU46XCJzb3VyY2Vfb3BlblwiLFVQREFURV9FTkQ6XCJ1cGRhdGVfZW5kXCIsQlVGRkVSX0ZVTEw6XCJidWZmZXJfZnVsbFwifSxFPWkoNyksQT1pKDMpLFI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3RoaXMuVEFHPVwiTVNFQ29udHJvbGxlclwiLHRoaXMuX2NvbmZpZz1lLHRoaXMuX2VtaXR0ZXI9bmV3IGguYSx0aGlzLl9jb25maWcuaXNMaXZlJiZudWxsPT10aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXImJih0aGlzLl9jb25maWcuYXV0b0NsZWFudXBTb3VyY2VCdWZmZXI9ITApLHRoaXMuZT17b25Tb3VyY2VPcGVuOnRoaXMuX29uU291cmNlT3Blbi5iaW5kKHRoaXMpLG9uU291cmNlRW5kZWQ6dGhpcy5fb25Tb3VyY2VFbmRlZC5iaW5kKHRoaXMpLG9uU291cmNlQ2xvc2U6dGhpcy5fb25Tb3VyY2VDbG9zZS5iaW5kKHRoaXMpLG9uU291cmNlQnVmZmVyRXJyb3I6dGhpcy5fb25Tb3VyY2VCdWZmZXJFcnJvci5iaW5kKHRoaXMpLG9uU291cmNlQnVmZmVyVXBkYXRlRW5kOnRoaXMuX29uU291cmNlQnVmZmVyVXBkYXRlRW5kLmJpbmQodGhpcyl9LHRoaXMuX21lZGlhU291cmNlPW51bGwsdGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkw9bnVsbCx0aGlzLl9tZWRpYUVsZW1lbnQ9bnVsbCx0aGlzLl9pc0J1ZmZlckZ1bGw9ITEsdGhpcy5faGFzUGVuZGluZ0Vvcz0hMSx0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbj0hMSx0aGlzLl9wZW5kaW5nTWVkaWFEdXJhdGlvbj0wLHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0PVtdLHRoaXMuX21pbWVUeXBlcz17dmlkZW86bnVsbCxhdWRpbzpudWxsfSx0aGlzLl9zb3VyY2VCdWZmZXJzPXt2aWRlbzpudWxsLGF1ZGlvOm51bGx9LHRoaXMuX2xhc3RJbml0U2VnbWVudHM9e3ZpZGVvOm51bGwsYXVkaW86bnVsbH0sdGhpcy5fcGVuZGluZ1NlZ21lbnRzPXt2aWRlbzpbXSxhdWRpbzpbXX0sdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcz17dmlkZW86W10sYXVkaW86W119LHRoaXMuX2lkckxpc3Q9bmV3IEUuYX1yZXR1cm4gZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpeyh0aGlzLl9tZWRpYUVsZW1lbnR8fHRoaXMuX21lZGlhU291cmNlKSYmdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKSx0aGlzLmU9bnVsbCx0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2VtaXR0ZXI9bnVsbH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGUsdCl9LGUucHJvdG90eXBlLm9mZj1mdW5jdGlvbihlLHQpe3RoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUuYXR0YWNoTWVkaWFFbGVtZW50PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX21lZGlhU291cmNlKXRocm93IG5ldyBBLmEoXCJNZWRpYVNvdXJjZSBoYXMgYmVlbiBhdHRhY2hlZCB0byBhbiBIVE1MTWVkaWFFbGVtZW50IVwiKTt2YXIgdD10aGlzLl9tZWRpYVNvdXJjZT1uZXcgd2luZG93Lk1lZGlhU291cmNlO3QuYWRkRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLmUub25Tb3VyY2VPcGVuKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VlbmRlZFwiLHRoaXMuZS5vblNvdXJjZUVuZGVkKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJzb3VyY2VjbG9zZVwiLHRoaXMuZS5vblNvdXJjZUNsb3NlKSx0aGlzLl9tZWRpYUVsZW1lbnQ9ZSx0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTD13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0aGlzLl9tZWRpYVNvdXJjZSksZS5zcmM9dGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkx9LGUucHJvdG90eXBlLmRldGFjaE1lZGlhRWxlbWVudD1mdW5jdGlvbigpe2lmKHRoaXMuX21lZGlhU291cmNlKXt2YXIgZT10aGlzLl9tZWRpYVNvdXJjZTtmb3IodmFyIHQgaW4gdGhpcy5fc291cmNlQnVmZmVycyl7dmFyIGk9dGhpcy5fcGVuZGluZ1NlZ21lbnRzW3RdO2kuc3BsaWNlKDAsaS5sZW5ndGgpLHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0XT1udWxsLHRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbdF09bnVsbCx0aGlzLl9sYXN0SW5pdFNlZ21lbnRzW3RdPW51bGw7dmFyIG49dGhpcy5fc291cmNlQnVmZmVyc1t0XTtpZihuKXtpZihcImNsb3NlZFwiIT09ZS5yZWFkeVN0YXRlKXt0cnl7ZS5yZW1vdmVTb3VyY2VCdWZmZXIobil9Y2F0Y2goZSl7Yy5hLmUodGhpcy5UQUcsZS5tZXNzYWdlKX1uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKSxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVlbmRcIix0aGlzLmUub25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQpfXRoaXMuX21pbWVUeXBlc1t0XT1udWxsLHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdF09bnVsbH19aWYoXCJvcGVuXCI9PT1lLnJlYWR5U3RhdGUpdHJ5e2UuZW5kT2ZTdHJlYW0oKX1jYXRjaChlKXtjLmEuZSh0aGlzLlRBRyxlLm1lc3NhZ2UpfWUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLmUub25Tb3VyY2VPcGVuKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzb3VyY2VlbmRlZFwiLHRoaXMuZS5vblNvdXJjZUVuZGVkKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzb3VyY2VjbG9zZVwiLHRoaXMuZS5vblNvdXJjZUNsb3NlKSx0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdD1bXSx0aGlzLl9pc0J1ZmZlckZ1bGw9ITEsdGhpcy5faWRyTGlzdC5jbGVhcigpLHRoaXMuX21lZGlhU291cmNlPW51bGx9dGhpcy5fbWVkaWFFbGVtZW50JiYodGhpcy5fbWVkaWFFbGVtZW50LnNyYz1cIlwiLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIiksdGhpcy5fbWVkaWFFbGVtZW50PW51bGwpLHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMJiYod2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwpLHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMPW51bGwpfSxlLnByb3RvdHlwZS5hcHBlbmRJbml0U2VnbWVudD1mdW5jdGlvbihlLHQpe2lmKCF0aGlzLl9tZWRpYVNvdXJjZXx8XCJvcGVuXCIhPT10aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlKXJldHVybiB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdC5wdXNoKGUpLHZvaWQgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW2UudHlwZV0ucHVzaChlKTt2YXIgaT1lLG49XCJcIitpLmNvbnRhaW5lcjtpLmNvZGVjJiZpLmNvZGVjLmxlbmd0aD4wJiYobis9XCI7Y29kZWNzPVwiK2kuY29kZWMpO3ZhciBhPSExO2lmKGMuYS52KHRoaXMuVEFHLFwiUmVjZWl2ZWQgSW5pdGlhbGl6YXRpb24gU2VnbWVudCwgbWltZVR5cGU6IFwiK24pLHRoaXMuX2xhc3RJbml0U2VnbWVudHNbaS50eXBlXT1pLG4hPT10aGlzLl9taW1lVHlwZXNbaS50eXBlXSl7aWYodGhpcy5fbWltZVR5cGVzW2kudHlwZV0pYy5hLnYodGhpcy5UQUcsXCJOb3RpY2U6IFwiK2kudHlwZStcIiBtaW1lVHlwZSBjaGFuZ2VkLCBvcmlnaW46IFwiK3RoaXMuX21pbWVUeXBlc1tpLnR5cGVdK1wiLCB0YXJnZXQ6IFwiK24pO2Vsc2V7YT0hMDt0cnl7dmFyIHI9dGhpcy5fc291cmNlQnVmZmVyc1tpLnR5cGVdPXRoaXMuX21lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihuKTtyLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLHRoaXMuZS5vblNvdXJjZUJ1ZmZlckVycm9yKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJ1cGRhdGVlbmRcIix0aGlzLmUub25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQpfWNhdGNoKGUpe3JldHVybiBjLmEuZSh0aGlzLlRBRyxlLm1lc3NhZ2UpLHZvaWQgdGhpcy5fZW1pdHRlci5lbWl0KFMuRVJST1Ise2NvZGU6ZS5jb2RlLG1zZzplLm1lc3NhZ2V9KX19dGhpcy5fbWltZVR5cGVzW2kudHlwZV09bn10fHx0aGlzLl9wZW5kaW5nU2VnbWVudHNbaS50eXBlXS5wdXNoKGkpLGF8fHRoaXMuX3NvdXJjZUJ1ZmZlcnNbaS50eXBlXSYmIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbaS50eXBlXS51cGRhdGluZyYmdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpLHUuYS5zYWZhcmkmJlwiYXVkaW8vbXBlZ1wiPT09aS5jb250YWluZXImJmkubWVkaWFEdXJhdGlvbj4wJiYodGhpcy5fcmVxdWlyZVNldE1lZGlhRHVyYXRpb249ITAsdGhpcy5fcGVuZGluZ01lZGlhRHVyYXRpb249aS5tZWRpYUR1cmF0aW9uLzFlMyx0aGlzLl91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCkpfSxlLnByb3RvdHlwZS5hcHBlbmRNZWRpYVNlZ21lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTt0aGlzLl9wZW5kaW5nU2VnbWVudHNbdC50eXBlXS5wdXNoKHQpLHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciYmdGhpcy5fbmVlZENsZWFudXBTb3VyY2VCdWZmZXIoKSYmdGhpcy5fZG9DbGVhbnVwU291cmNlQnVmZmVyKCk7dmFyIGk9dGhpcy5fc291cmNlQnVmZmVyc1t0LnR5cGVdOyFpfHxpLnVwZGF0aW5nfHx0aGlzLl9oYXNQZW5kaW5nUmVtb3ZlUmFuZ2VzKCl8fHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKX0sZS5wcm90b3R5cGUuc2Vlaz1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5fc291cmNlQnVmZmVycylpZih0aGlzLl9zb3VyY2VCdWZmZXJzW3RdKXt2YXIgaT10aGlzLl9zb3VyY2VCdWZmZXJzW3RdO2lmKFwib3BlblwiPT09dGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl0cnl7aS5hYm9ydCgpfWNhdGNoKGUpe2MuYS5lKHRoaXMuVEFHLGUubWVzc2FnZSl9dGhpcy5faWRyTGlzdC5jbGVhcigpO3ZhciBuPXRoaXMuX3BlbmRpbmdTZWdtZW50c1t0XTtpZihuLnNwbGljZSgwLG4ubGVuZ3RoKSxcImNsb3NlZFwiIT09dGhpcy5fbWVkaWFTb3VyY2UucmVhZHlTdGF0ZSl7Zm9yKHZhciBhPTA7YTxpLmJ1ZmZlcmVkLmxlbmd0aDthKyspe3ZhciByPWkuYnVmZmVyZWQuc3RhcnQoYSkscz1pLmJ1ZmZlcmVkLmVuZChhKTt0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3RdLnB1c2goe3N0YXJ0OnIsZW5kOnN9KX1pZihpLnVwZGF0aW5nfHx0aGlzLl9kb1JlbW92ZVJhbmdlcygpLHUuYS5zYWZhcmkpe3ZhciBvPXRoaXMuX2xhc3RJbml0U2VnbWVudHNbdF07byYmKHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0XS5wdXNoKG8pLGkudXBkYXRpbmd8fHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKSl9fX19LGUucHJvdG90eXBlLmVuZE9mU3RyZWFtPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbWVkaWFTb3VyY2UsdD10aGlzLl9zb3VyY2VCdWZmZXJzO2UmJlwib3BlblwiPT09ZS5yZWFkeVN0YXRlP3QudmlkZW8mJnQudmlkZW8udXBkYXRpbmd8fHQuYXVkaW8mJnQuYXVkaW8udXBkYXRpbmc/dGhpcy5faGFzUGVuZGluZ0Vvcz0hMDoodGhpcy5faGFzUGVuZGluZ0Vvcz0hMSxlLmVuZE9mU3RyZWFtKCkpOmUmJlwiY2xvc2VkXCI9PT1lLnJlYWR5U3RhdGUmJnRoaXMuX2hhc1BlbmRpbmdTZWdtZW50cygpJiYodGhpcy5faGFzUGVuZGluZ0Vvcz0hMCl9LGUucHJvdG90eXBlLmdldE5lYXJlc3RLZXlmcmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faWRyTGlzdC5nZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzKGUpfSxlLnByb3RvdHlwZS5fbmVlZENsZWFudXBTb3VyY2VCdWZmZXI9ZnVuY3Rpb24oKXtpZighdGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwU291cmNlQnVmZmVyKXJldHVybiExO3ZhciBlPXRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtmb3IodmFyIHQgaW4gdGhpcy5fc291cmNlQnVmZmVycyl7dmFyIGk9dGhpcy5fc291cmNlQnVmZmVyc1t0XTtpZihpKXt2YXIgbj1pLmJ1ZmZlcmVkO2lmKG4ubGVuZ3RoPj0xJiZlLW4uc3RhcnQoMCk+PXRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb24pcmV0dXJuITB9fXJldHVybiExfSxlLnByb3RvdHlwZS5fZG9DbGVhbnVwU291cmNlQnVmZmVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO2Zvcih2YXIgdCBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKXt2YXIgaT10aGlzLl9zb3VyY2VCdWZmZXJzW3RdO2lmKGkpe2Zvcih2YXIgbj1pLmJ1ZmZlcmVkLGE9ITEscj0wO3I8bi5sZW5ndGg7cisrKXt2YXIgcz1uLnN0YXJ0KHIpLG89bi5lbmQocik7aWYoczw9ZSYmZTxvKzMpe2lmKGUtcz49dGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwTWF4QmFja3dhcmREdXJhdGlvbil7YT0hMDt2YXIgZD1lLXRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1pbkJhY2t3YXJkRHVyYXRpb247dGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0XS5wdXNoKHtzdGFydDpzLGVuZDpkfSl9fWVsc2UgbzxlJiYoYT0hMCx0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3RdLnB1c2goe3N0YXJ0OnMsZW5kOm99KSl9YSYmIWkudXBkYXRpbmcmJnRoaXMuX2RvUmVtb3ZlUmFuZ2VzKCl9fX0sZS5wcm90b3R5cGUuX3VwZGF0ZU1lZGlhU291cmNlRHVyYXRpb249ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zb3VyY2VCdWZmZXJzO2lmKDAhPT10aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSYmXCJvcGVuXCI9PT10aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlJiYhKGUudmlkZW8mJmUudmlkZW8udXBkYXRpbmd8fGUuYXVkaW8mJmUuYXVkaW8udXBkYXRpbmcpKXt2YXIgdD10aGlzLl9tZWRpYVNvdXJjZS5kdXJhdGlvbixpPXRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uO2k+MCYmKGlzTmFOKHQpfHxpPnQpJiYoYy5hLnYodGhpcy5UQUcsXCJVcGRhdGUgTWVkaWFTb3VyY2UgZHVyYXRpb24gZnJvbSBcIit0K1wiIHRvIFwiK2kpLHRoaXMuX21lZGlhU291cmNlLmR1cmF0aW9uPWkpLHRoaXMuX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uPSExLHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uPTB9fSxlLnByb3RvdHlwZS5fZG9SZW1vdmVSYW5nZXM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcylpZih0aGlzLl9zb3VyY2VCdWZmZXJzW2VdJiYhdGhpcy5fc291cmNlQnVmZmVyc1tlXS51cGRhdGluZylmb3IodmFyIHQ9dGhpcy5fc291cmNlQnVmZmVyc1tlXSxpPXRoaXMuX3BlbmRpbmdSZW1vdmVSYW5nZXNbZV07aS5sZW5ndGgmJiF0LnVwZGF0aW5nOyl7dmFyIG49aS5zaGlmdCgpO3QucmVtb3ZlKG4uc3RhcnQsbi5lbmQpfX0sZS5wcm90b3R5cGUuX2RvQXBwZW5kU2VnbWVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wZW5kaW5nU2VnbWVudHM7Zm9yKHZhciB0IGluIGUpaWYodGhpcy5fc291cmNlQnVmZmVyc1t0XSYmIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbdF0udXBkYXRpbmcmJmVbdF0ubGVuZ3RoPjApe3ZhciBpPWVbdF0uc2hpZnQoKTtpZihpLnRpbWVzdGFtcE9mZnNldCl7dmFyIG49dGhpcy5fc291cmNlQnVmZmVyc1t0XS50aW1lc3RhbXBPZmZzZXQsYT1pLnRpbWVzdGFtcE9mZnNldC8xZTM7TWF0aC5hYnMobi1hKT4uMSYmKGMuYS52KHRoaXMuVEFHLFwiVXBkYXRlIE1QRUcgYXVkaW8gdGltZXN0YW1wT2Zmc2V0IGZyb20gXCIrbitcIiB0byBcIithKSx0aGlzLl9zb3VyY2VCdWZmZXJzW3RdLnRpbWVzdGFtcE9mZnNldD1hKSxkZWxldGUgaS50aW1lc3RhbXBPZmZzZXR9aWYoIWkuZGF0YXx8MD09PWkuZGF0YS5ieXRlTGVuZ3RoKWNvbnRpbnVlO3RyeXt0aGlzLl9zb3VyY2VCdWZmZXJzW3RdLmFwcGVuZEJ1ZmZlcihpLmRhdGEpLHRoaXMuX2lzQnVmZmVyRnVsbD0hMSxcInZpZGVvXCI9PT10JiZpLmhhc093blByb3BlcnR5KFwiaW5mb1wiKSYmdGhpcy5faWRyTGlzdC5hcHBlbmRBcnJheShpLmluZm8uc3luY1BvaW50cyl9Y2F0Y2goZSl7dGhpcy5fcGVuZGluZ1NlZ21lbnRzW3RdLnVuc2hpZnQoaSksMjI9PT1lLmNvZGU/KHRoaXMuX2lzQnVmZmVyRnVsbHx8dGhpcy5fZW1pdHRlci5lbWl0KFMuQlVGRkVSX0ZVTEwpLHRoaXMuX2lzQnVmZmVyRnVsbD0hMCk6KGMuYS5lKHRoaXMuVEFHLGUubWVzc2FnZSksdGhpcy5fZW1pdHRlci5lbWl0KFMuRVJST1Ise2NvZGU6ZS5jb2RlLG1zZzplLm1lc3NhZ2V9KSl9fX0sZS5wcm90b3R5cGUuX29uU291cmNlT3Blbj1mdW5jdGlvbigpe2lmKGMuYS52KHRoaXMuVEFHLFwiTWVkaWFTb3VyY2Ugb25Tb3VyY2VPcGVuXCIpLHRoaXMuX21lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzb3VyY2VvcGVuXCIsdGhpcy5lLm9uU291cmNlT3BlbiksdGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQubGVuZ3RoPjApZm9yKHZhciBlPXRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0O2UubGVuZ3RoOyl7dmFyIHQ9ZS5zaGlmdCgpO3RoaXMuYXBwZW5kSW5pdFNlZ21lbnQodCwhMCl9dGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCkmJnRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKSx0aGlzLl9lbWl0dGVyLmVtaXQoUy5TT1VSQ0VfT1BFTil9LGUucHJvdG90eXBlLl9vblNvdXJjZUVuZGVkPWZ1bmN0aW9uKCl7Yy5hLnYodGhpcy5UQUcsXCJNZWRpYVNvdXJjZSBvblNvdXJjZUVuZGVkXCIpfSxlLnByb3RvdHlwZS5fb25Tb3VyY2VDbG9zZT1mdW5jdGlvbigpe2MuYS52KHRoaXMuVEFHLFwiTWVkaWFTb3VyY2Ugb25Tb3VyY2VDbG9zZVwiKSx0aGlzLl9tZWRpYVNvdXJjZSYmbnVsbCE9dGhpcy5lJiYodGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZW9wZW5cIix0aGlzLmUub25Tb3VyY2VPcGVuKSx0aGlzLl9tZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKFwic291cmNlZW5kZWRcIix0aGlzLmUub25Tb3VyY2VFbmRlZCksdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNvdXJjZWNsb3NlXCIsdGhpcy5lLm9uU291cmNlQ2xvc2UpKX0sZS5wcm90b3R5cGUuX2hhc1BlbmRpbmdTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BlbmRpbmdTZWdtZW50cztyZXR1cm4gZS52aWRlby5sZW5ndGg+MHx8ZS5hdWRpby5sZW5ndGg+MH0sZS5wcm90b3R5cGUuX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzO3JldHVybiBlLnZpZGVvLmxlbmd0aD4wfHxlLmF1ZGlvLmxlbmd0aD4wfSxlLnByb3RvdHlwZS5fb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQ9ZnVuY3Rpb24oKXt0aGlzLl9yZXF1aXJlU2V0TWVkaWFEdXJhdGlvbj90aGlzLl91cGRhdGVNZWRpYVNvdXJjZUR1cmF0aW9uKCk6dGhpcy5faGFzUGVuZGluZ1JlbW92ZVJhbmdlcygpP3RoaXMuX2RvUmVtb3ZlUmFuZ2VzKCk6dGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCk/dGhpcy5fZG9BcHBlbmRTZWdtZW50cygpOnRoaXMuX2hhc1BlbmRpbmdFb3MmJnRoaXMuZW5kT2ZTdHJlYW0oKSx0aGlzLl9lbWl0dGVyLmVtaXQoUy5VUERBVEVfRU5EKX0sZS5wcm90b3R5cGUuX29uU291cmNlQnVmZmVyRXJyb3I9ZnVuY3Rpb24oZSl7Yy5hLmUodGhpcy5UQUcsXCJTb3VyY2VCdWZmZXIgRXJyb3I6IFwiK2UpfSxlfSgpLFQ9aSg1KSxMPXtORVRXT1JLX0VSUk9SOlwiTmV0d29ya0Vycm9yXCIsTUVESUFfRVJST1I6XCJNZWRpYUVycm9yXCIsT1RIRVJfRVJST1I6XCJPdGhlckVycm9yXCJ9LHc9e05FVFdPUktfRVhDRVBUSU9OOmQuYi5FWENFUFRJT04sTkVUV09SS19TVEFUVVNfQ09ERV9JTlZBTElEOmQuYi5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQsTkVUV09SS19USU1FT1VUOmQuYi5DT05ORUNUSU5HX1RJTUVPVVQsTkVUV09SS19VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjpkLmIuVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0YsTUVESUFfTVNFX0VSUk9SOlwiTWVkaWFNU0VFcnJvclwiLE1FRElBX0ZPUk1BVF9FUlJPUjpULmEuRk9STUFUX0VSUk9SLE1FRElBX0ZPUk1BVF9VTlNVUFBPUlRFRDpULmEuRk9STUFUX1VOU1VQUE9SVEVELE1FRElBX0NPREVDX1VOU1VQUE9SVEVEOlQuYS5DT0RFQ19VTlNVUFBPUlRFRH0saz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLlRBRz1cIk1TRVBsYXllclwiLHRoaXMuX3R5cGU9XCJNU0VQbGF5ZXJcIix0aGlzLl9lbWl0dGVyPW5ldyBoLmEsdGhpcy5fY29uZmlnPXMoKSxcIm9iamVjdFwiPT10eXBlb2YgdCYmT2JqZWN0LmFzc2lnbih0aGlzLl9jb25maWcsdCk7dmFyIGk9ZS50eXBlLnRvTG93ZXJDYXNlKCk7aWYoXCJtc2VcIiE9PWkmJlwibXBlZ3RzXCIhPT1pJiZcIm0ydHNcIiE9PWkmJlwiZmx2XCIhPT1pKXRocm93IG5ldyBBLmIoXCJNU0VQbGF5ZXIgcmVxdWlyZXMgYW4gbXBlZ3RzL20ydHMvZmx2IE1lZGlhRGF0YVNvdXJjZSBpbnB1dCFcIik7ITA9PT1lLmlzTGl2ZSYmKHRoaXMuX2NvbmZpZy5pc0xpdmU9ITApLHRoaXMuZT17b252TG9hZGVkTWV0YWRhdGE6dGhpcy5fb252TG9hZGVkTWV0YWRhdGEuYmluZCh0aGlzKSxvbnZTZWVraW5nOnRoaXMuX29udlNlZWtpbmcuYmluZCh0aGlzKSxvbnZDYW5QbGF5OnRoaXMuX29udkNhblBsYXkuYmluZCh0aGlzKSxvbnZTdGFsbGVkOnRoaXMuX29udlN0YWxsZWQuYmluZCh0aGlzKSxvbnZQcm9ncmVzczp0aGlzLl9vbnZQcm9ncmVzcy5iaW5kKHRoaXMpfSxzZWxmLnBlcmZvcm1hbmNlJiZzZWxmLnBlcmZvcm1hbmNlLm5vdz90aGlzLl9ub3c9c2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTp0aGlzLl9ub3c9RGF0ZS5ub3csdGhpcy5fcGVuZGluZ1NlZWtUaW1lPW51bGwsdGhpcy5fcmVxdWVzdFNldFRpbWU9ITEsdGhpcy5fc2Vla3BvaW50UmVjb3JkPW51bGwsdGhpcy5fcHJvZ3Jlc3NDaGVja2VyPW51bGwsdGhpcy5fbWVkaWFEYXRhU291cmNlPWUsdGhpcy5fbWVkaWFFbGVtZW50PW51bGwsdGhpcy5fbXNlY3RsPW51bGwsdGhpcy5fdHJhbnNtdXhlcj1udWxsLHRoaXMuX21zZVNvdXJjZU9wZW5lZD0hMSx0aGlzLl9oYXNQZW5kaW5nTG9hZD0hMSx0aGlzLl9yZWNlaXZlZENhblBsYXk9ITEsdGhpcy5fbWVkaWFJbmZvPW51bGwsdGhpcy5fc3RhdGlzdGljc0luZm89bnVsbDt2YXIgbj11LmEuY2hyb21lJiYodS5hLnZlcnNpb24ubWFqb3I8NTB8fDUwPT09dS5hLnZlcnNpb24ubWFqb3ImJnUuYS52ZXJzaW9uLmJ1aWxkPDI2NjEpO3RoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZT0hIShufHx1LmEubXNlZGdlfHx1LmEubXNpZSksdGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lJiYodGhpcy5fY29uZmlnLmFjY3VyYXRlU2Vlaz0hMSl9cmV0dXJuIGUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtudWxsIT10aGlzLl9wcm9ncmVzc0NoZWNrZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0NoZWNrZXIpLHRoaXMuX3Byb2dyZXNzQ2hlY2tlcj1udWxsKSx0aGlzLl90cmFuc211eGVyJiZ0aGlzLnVubG9hZCgpLHRoaXMuX21lZGlhRWxlbWVudCYmdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKSx0aGlzLmU9bnVsbCx0aGlzLl9tZWRpYURhdGFTb3VyY2U9bnVsbCx0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMuX2VtaXR0ZXI9bnVsbH0sZS5wcm90b3R5cGUub249ZnVuY3Rpb24oZSx0KXt2YXIgaT10aGlzO2U9PT1sLk1FRElBX0lORk8/bnVsbCE9dGhpcy5fbWVkaWFJbmZvJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2kuX2VtaXR0ZXIuZW1pdChsLk1FRElBX0lORk8saS5tZWRpYUluZm8pfSkpOmU9PT1sLlNUQVRJU1RJQ1NfSU5GTyYmbnVsbCE9dGhpcy5fc3RhdGlzdGljc0luZm8mJlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aS5fZW1pdHRlci5lbWl0KGwuU1RBVElTVElDU19JTkZPLGkuc3RhdGlzdGljc0luZm8pfSkpLHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihlLHQpfSxlLnByb3RvdHlwZS5hdHRhY2hNZWRpYUVsZW1lbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLl9tZWRpYUVsZW1lbnQ9ZSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSksZS5hZGRFdmVudExpc3RlbmVyKFwic2Vla2luZ1wiLHRoaXMuZS5vbnZTZWVraW5nKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsdGhpcy5lLm9udkNhblBsYXkpLGUuYWRkRXZlbnRMaXN0ZW5lcihcInN0YWxsZWRcIix0aGlzLmUub252U3RhbGxlZCksZS5hZGRFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLmUub252UHJvZ3Jlc3MpLHRoaXMuX21zZWN0bD1uZXcgUih0aGlzLl9jb25maWcpLHRoaXMuX21zZWN0bC5vbihTLlVQREFURV9FTkQsdGhpcy5fb25tc2VVcGRhdGVFbmQuYmluZCh0aGlzKSksdGhpcy5fbXNlY3RsLm9uKFMuQlVGRkVSX0ZVTEwsdGhpcy5fb25tc2VCdWZmZXJGdWxsLmJpbmQodGhpcykpLHRoaXMuX21zZWN0bC5vbihTLlNPVVJDRV9PUEVOLChmdW5jdGlvbigpe3QuX21zZVNvdXJjZU9wZW5lZD0hMCx0Ll9oYXNQZW5kaW5nTG9hZCYmKHQuX2hhc1BlbmRpbmdMb2FkPSExLHQubG9hZCgpKX0pKSx0aGlzLl9tc2VjdGwub24oUy5FUlJPUiwoZnVuY3Rpb24oZSl7dC5fZW1pdHRlci5lbWl0KGwuRVJST1IsTC5NRURJQV9FUlJPUix3Lk1FRElBX01TRV9FUlJPUixlKX0pKSx0aGlzLl9tc2VjdGwuYXR0YWNoTWVkaWFFbGVtZW50KGUpLG51bGwhPXRoaXMuX3BlbmRpbmdTZWVrVGltZSl0cnl7ZS5jdXJyZW50VGltZT10aGlzLl9wZW5kaW5nU2Vla1RpbWUsdGhpcy5fcGVuZGluZ1NlZWtUaW1lPW51bGx9Y2F0Y2goZSl7fX0sZS5wcm90b3R5cGUuZGV0YWNoTWVkaWFFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFFbGVtZW50JiYodGhpcy5fbXNlY3RsLmRldGFjaE1lZGlhRWxlbWVudCgpLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIix0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Vla2luZ1wiLHRoaXMuZS5vbnZTZWVraW5nKSx0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNhbnBsYXlcIix0aGlzLmUub252Q2FuUGxheSksdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGFsbGVkXCIsdGhpcy5lLm9udlN0YWxsZWQpLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLmUub252UHJvZ3Jlc3MpLHRoaXMuX21lZGlhRWxlbWVudD1udWxsKSx0aGlzLl9tc2VjdGwmJih0aGlzLl9tc2VjdGwuZGVzdHJveSgpLHRoaXMuX21zZWN0bD1udWxsKX0sZS5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7aWYoIXRoaXMuX21lZGlhRWxlbWVudCl0aHJvdyBuZXcgQS5hKFwiSFRNTE1lZGlhRWxlbWVudCBtdXN0IGJlIGF0dGFjaGVkIGJlZm9yZSBsb2FkKCkhXCIpO2lmKHRoaXMuX3RyYW5zbXV4ZXIpdGhyb3cgbmV3IEEuYShcIk1TRVBsYXllci5sb2FkKCkgaGFzIGJlZW4gY2FsbGVkLCBwbGVhc2UgY2FsbCB1bmxvYWQoKSBmaXJzdCFcIik7dGhpcy5faGFzUGVuZGluZ0xvYWR8fCh0aGlzLl9jb25maWcuZGVmZXJMb2FkQWZ0ZXJTb3VyY2VPcGVuJiYhMT09PXRoaXMuX21zZVNvdXJjZU9wZW5lZD90aGlzLl9oYXNQZW5kaW5nTG9hZD0hMDoodGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGU+MCYmKHRoaXMuX3JlcXVlc3RTZXRUaW1lPSEwLHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZT0wKSx0aGlzLl90cmFuc211eGVyPW5ldyBiKHRoaXMuX21lZGlhRGF0YVNvdXJjZSx0aGlzLl9jb25maWcpLHRoaXMuX3RyYW5zbXV4ZXIub24odi5hLklOSVRfU0VHTUVOVCwoZnVuY3Rpb24odCxpKXtlLl9tc2VjdGwuYXBwZW5kSW5pdFNlZ21lbnQoaSl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuTUVESUFfU0VHTUVOVCwoZnVuY3Rpb24odCxpKXtpZihlLl9tc2VjdGwuYXBwZW5kTWVkaWFTZWdtZW50KGkpLGUuX2NvbmZpZy5sYXp5TG9hZCYmIWUuX2NvbmZpZy5pc0xpdmUpe3ZhciBuPWUuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtpLmluZm8uZW5kRHRzPj0xZTMqKG4rZS5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24pJiZudWxsPT1lLl9wcm9ncmVzc0NoZWNrZXImJihjLmEudihlLlRBRyxcIk1heGltdW0gYnVmZmVyaW5nIGR1cmF0aW9uIGV4Y2VlZGVkLCBzdXNwZW5kIHRyYW5zbXV4aW5nIHRhc2tcIiksZS5fc3VzcGVuZFRyYW5zbXV4ZXIoKSl9fSkpLHRoaXMuX3RyYW5zbXV4ZXIub24odi5hLkxPQURJTkdfQ09NUExFVEUsKGZ1bmN0aW9uKCl7ZS5fbXNlY3RsLmVuZE9mU3RyZWFtKCksZS5fZW1pdHRlci5lbWl0KGwuTE9BRElOR19DT01QTEVURSl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuUkVDT1ZFUkVEX0VBUkxZX0VPRiwoZnVuY3Rpb24oKXtlLl9lbWl0dGVyLmVtaXQobC5SRUNPVkVSRURfRUFSTFlfRU9GKX0pKSx0aGlzLl90cmFuc211eGVyLm9uKHYuYS5JT19FUlJPUiwoZnVuY3Rpb24odCxpKXtlLl9lbWl0dGVyLmVtaXQobC5FUlJPUixMLk5FVFdPUktfRVJST1IsdCxpKX0pKSx0aGlzLl90cmFuc211eGVyLm9uKHYuYS5ERU1VWF9FUlJPUiwoZnVuY3Rpb24odCxpKXtlLl9lbWl0dGVyLmVtaXQobC5FUlJPUixMLk1FRElBX0VSUk9SLHQse2NvZGU6LTEsbXNnOml9KX0pKSx0aGlzLl90cmFuc211eGVyLm9uKHYuYS5NRURJQV9JTkZPLChmdW5jdGlvbih0KXtlLl9tZWRpYUluZm89dCxlLl9lbWl0dGVyLmVtaXQobC5NRURJQV9JTkZPLE9iamVjdC5hc3NpZ24oe30sdCkpfSkpLHRoaXMuX3RyYW5zbXV4ZXIub24odi5hLk1FVEFEQVRBX0FSUklWRUQsKGZ1bmN0aW9uKHQpe2UuX2VtaXR0ZXIuZW1pdChsLk1FVEFEQVRBX0FSUklWRUQsdCl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuU0NSSVBUREFUQV9BUlJJVkVELChmdW5jdGlvbih0KXtlLl9lbWl0dGVyLmVtaXQobC5TQ1JJUFREQVRBX0FSUklWRUQsdCl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuVElNRURfSUQzX01FVEFEQVRBX0FSUklWRUQsKGZ1bmN0aW9uKHQpe2UuX2VtaXR0ZXIuZW1pdChsLlRJTUVEX0lEM19NRVRBREFUQV9BUlJJVkVELHQpfSkpLHRoaXMuX3RyYW5zbXV4ZXIub24odi5hLlNNUFRFMjAzOF9NRVRBREFUQV9BUlJJVkVELChmdW5jdGlvbih0KXtlLl9lbWl0dGVyLmVtaXQobC5TTVBURTIwMzhfTUVUQURBVEFfQVJSSVZFRCx0KX0pKSx0aGlzLl90cmFuc211eGVyLm9uKHYuYS5TQ1RFMzVfTUVUQURBVEFfQVJSSVZFRCwoZnVuY3Rpb24odCl7ZS5fZW1pdHRlci5lbWl0KGwuU0NURTM1X01FVEFEQVRBX0FSUklWRUQsdCl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuUEVTX1BSSVZBVEVfREFUQV9ERVNDUklQVE9SLChmdW5jdGlvbih0KXtlLl9lbWl0dGVyLmVtaXQobC5QRVNfUFJJVkFURV9EQVRBX0RFU0NSSVBUT1IsdCl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuUEVTX1BSSVZBVEVfREFUQV9BUlJJVkVELChmdW5jdGlvbih0KXtlLl9lbWl0dGVyLmVtaXQobC5QRVNfUFJJVkFURV9EQVRBX0FSUklWRUQsdCl9KSksdGhpcy5fdHJhbnNtdXhlci5vbih2LmEuU1RBVElTVElDU19JTkZPLChmdW5jdGlvbih0KXtlLl9zdGF0aXN0aWNzSW5mbz1lLl9maWxsU3RhdGlzdGljc0luZm8odCksZS5fZW1pdHRlci5lbWl0KGwuU1RBVElTVElDU19JTkZPLE9iamVjdC5hc3NpZ24oe30sZS5fc3RhdGlzdGljc0luZm8pKX0pKSx0aGlzLl90cmFuc211eGVyLm9uKHYuYS5SRUNPTU1FTkRfU0VFS1BPSU5ULChmdW5jdGlvbih0KXtlLl9tZWRpYUVsZW1lbnQmJiFlLl9jb25maWcuYWNjdXJhdGVTZWVrJiYoZS5fcmVxdWVzdFNldFRpbWU9ITAsZS5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lPXQvMWUzKX0pKSx0aGlzLl90cmFuc211eGVyLm9wZW4oKSkpfSxlLnByb3RvdHlwZS51bmxvYWQ9ZnVuY3Rpb24oKXt0aGlzLl9tZWRpYUVsZW1lbnQmJnRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpLHRoaXMuX21zZWN0bCYmdGhpcy5fbXNlY3RsLnNlZWsoMCksdGhpcy5fdHJhbnNtdXhlciYmKHRoaXMuX3RyYW5zbXV4ZXIuY2xvc2UoKSx0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKSx0aGlzLl90cmFuc211eGVyPW51bGwpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KCl9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnVmZmVyZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lZGlhRWxlbWVudC52b2x1bWU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtdXRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudFRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudD90aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU6MH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lZGlhRWxlbWVudD90aGlzLl9pbnRlcm5hbFNlZWsoZSk6dGhpcy5fcGVuZGluZ1NlZWtUaW1lPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwibWVkaWFJbmZvXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuYXNzaWduKHt9LHRoaXMuX21lZGlhSW5mbyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwic3RhdGlzdGljc0luZm9cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PXRoaXMuX3N0YXRpc3RpY3NJbmZvJiYodGhpcy5fc3RhdGlzdGljc0luZm89e30pLHRoaXMuX3N0YXRpc3RpY3NJbmZvPXRoaXMuX2ZpbGxTdGF0aXN0aWNzSW5mbyh0aGlzLl9zdGF0aXN0aWNzSW5mbyksT2JqZWN0LmFzc2lnbih7fSx0aGlzLl9zdGF0aXN0aWNzSW5mbyl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2ZpbGxTdGF0aXN0aWNzSW5mbz1mdW5jdGlvbihlKXtpZihlLnBsYXllclR5cGU9dGhpcy5fdHlwZSwhKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKXJldHVybiBlO3ZhciB0PSEwLGk9MCxuPTA7aWYodGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KXt2YXIgYT10aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtpPWEudG90YWxWaWRlb0ZyYW1lcyxuPWEuZHJvcHBlZFZpZGVvRnJhbWVzfWVsc2UgbnVsbCE9dGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50PyhpPXRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudCxuPXRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREcm9wcGVkRnJhbWVDb3VudCk6dD0hMTtyZXR1cm4gdCYmKGUuZGVjb2RlZEZyYW1lcz1pLGUuZHJvcHBlZEZyYW1lcz1uKSxlfSxlLnByb3RvdHlwZS5fb25tc2VVcGRhdGVFbmQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQsdD10aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7aWYodGhpcy5fY29uZmlnLmlzTGl2ZSYmdGhpcy5fY29uZmlnLmxpdmVCdWZmZXJMYXRlbmN5Q2hhc2luZyYmZS5sZW5ndGg+MCYmIXRoaXMuX21lZGlhRWxlbWVudC5wYXVzZWQpe3ZhciBpPWUuZW5kKGUubGVuZ3RoLTEpO2lmKGk+dGhpcy5fY29uZmlnLmxpdmVCdWZmZXJMYXRlbmN5TWF4TGF0ZW5jeSYmaS10PnRoaXMuX2NvbmZpZy5saXZlQnVmZmVyTGF0ZW5jeU1heExhdGVuY3kpe3ZhciBuPWktdGhpcy5fY29uZmlnLmxpdmVCdWZmZXJMYXRlbmN5TWluUmVtYWluO3RoaXMuY3VycmVudFRpbWU9bn19aWYodGhpcy5fY29uZmlnLmxhenlMb2FkJiYhdGhpcy5fY29uZmlnLmlzTGl2ZSl7Zm9yKHZhciBhPTAscj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgcz1lLnN0YXJ0KHIpLG89ZS5lbmQocik7aWYoczw9dCYmdDxvKXtzLGE9bzticmVha319YT49dCt0aGlzLl9jb25maWcubGF6eUxvYWRNYXhEdXJhdGlvbiYmbnVsbD09dGhpcy5fcHJvZ3Jlc3NDaGVja2VyJiYoYy5hLnYodGhpcy5UQUcsXCJNYXhpbXVtIGJ1ZmZlcmluZyBkdXJhdGlvbiBleGNlZWRlZCwgc3VzcGVuZCB0cmFuc211eGluZyB0YXNrXCIpLHRoaXMuX3N1c3BlbmRUcmFuc211eGVyKCkpfX0sZS5wcm90b3R5cGUuX29ubXNlQnVmZmVyRnVsbD1mdW5jdGlvbigpe2MuYS52KHRoaXMuVEFHLFwiTVNFIFNvdXJjZUJ1ZmZlciBpcyBmdWxsLCBzdXNwZW5kIHRyYW5zbXV4aW5nIHRhc2tcIiksbnVsbD09dGhpcy5fcHJvZ3Jlc3NDaGVja2VyJiZ0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpfSxlLnByb3RvdHlwZS5fc3VzcGVuZFRyYW5zbXV4ZXI9ZnVuY3Rpb24oKXt0aGlzLl90cmFuc211eGVyJiYodGhpcy5fdHJhbnNtdXhlci5wYXVzZSgpLG51bGw9PXRoaXMuX3Byb2dyZXNzQ2hlY2tlciYmKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZS5iaW5kKHRoaXMpLDFlMykpKX0sZS5wcm90b3R5cGUuX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lLHQ9dGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkLGk9ITEsbj0wO248dC5sZW5ndGg7bisrKXt2YXIgYT10LnN0YXJ0KG4pLHI9dC5lbmQobik7aWYoZT49YSYmZTxyKXtlPj1yLXRoaXMuX2NvbmZpZy5sYXp5TG9hZFJlY292ZXJEdXJhdGlvbiYmKGk9ITApO2JyZWFrfX1pJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKSx0aGlzLl9wcm9ncmVzc0NoZWNrZXI9bnVsbCxpJiYoYy5hLnYodGhpcy5UQUcsXCJDb250aW51ZSBsb2FkaW5nIGZyb20gcGF1c2VkIHBvc2l0aW9uXCIpLHRoaXMuX3RyYW5zbXV4ZXIucmVzdW1lKCkpKX0sZS5wcm90b3R5cGUuX2lzVGltZXBvaW50QnVmZmVyZWQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZCxpPTA7aTx0Lmxlbmd0aDtpKyspe3ZhciBuPXQuc3RhcnQoaSksYT10LmVuZChpKTtpZihlPj1uJiZlPGEpcmV0dXJuITB9cmV0dXJuITF9LGUucHJvdG90eXBlLl9pbnRlcm5hbFNlZWs9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5faXNUaW1lcG9pbnRCdWZmZXJlZChlKSxpPSExLG49MDtpZihlPDEmJnRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZC5sZW5ndGg+MCl7dmFyIGE9dGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkLnN0YXJ0KDApOyhhPDEmJmU8YXx8dS5hLnNhZmFyaSkmJihpPSEwLG49dS5hLnNhZmFyaT8uMTphKX1pZihpKXRoaXMuX3JlcXVlc3RTZXRUaW1lPSEwLHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZT1uO2Vsc2UgaWYodCl7aWYodGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKXt2YXIgcj10aGlzLl9tc2VjdGwuZ2V0TmVhcmVzdEtleWZyYW1lKE1hdGguZmxvb3IoMWUzKmUpKTt0aGlzLl9yZXF1ZXN0U2V0VGltZT0hMCx0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU9bnVsbCE9cj9yLmR0cy8xZTM6ZX1lbHNlIHRoaXMuX3JlcXVlc3RTZXRUaW1lPSEwLHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZT1lO251bGwhPXRoaXMuX3Byb2dyZXNzQ2hlY2tlciYmdGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZSgpfWVsc2UgbnVsbCE9dGhpcy5fcHJvZ3Jlc3NDaGVja2VyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NDaGVja2VyKSx0aGlzLl9wcm9ncmVzc0NoZWNrZXI9bnVsbCksdGhpcy5fbXNlY3RsLnNlZWsoZSksdGhpcy5fdHJhbnNtdXhlci5zZWVrKE1hdGguZmxvb3IoMWUzKmUpKSx0aGlzLl9jb25maWcuYWNjdXJhdGVTZWVrJiYodGhpcy5fcmVxdWVzdFNldFRpbWU9ITAsdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lPWUpfSxlLnByb3RvdHlwZS5fY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9zZWVrcG9pbnRSZWNvcmQpaWYodGhpcy5fc2Vla3BvaW50UmVjb3JkLnJlY29yZFRpbWU8PXRoaXMuX25vdygpLTEwMCl7dmFyIGU9dGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO3RoaXMuX3NlZWtwb2ludFJlY29yZD1udWxsLHRoaXMuX2lzVGltZXBvaW50QnVmZmVyZWQoZSl8fChudWxsIT10aGlzLl9wcm9ncmVzc0NoZWNrZXImJih3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3Byb2dyZXNzQ2hlY2tlciksdGhpcy5fcHJvZ3Jlc3NDaGVja2VyPW51bGwpLHRoaXMuX21zZWN0bC5zZWVrKGUpLHRoaXMuX3RyYW5zbXV4ZXIuc2VlayhNYXRoLmZsb29yKDFlMyplKSksdGhpcy5fY29uZmlnLmFjY3VyYXRlU2VlayYmKHRoaXMuX3JlcXVlc3RTZXRUaW1lPSEwLHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZT1lKSl9ZWxzZSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0FuZEFwcGx5VW5idWZmZXJlZFNlZWtwb2ludC5iaW5kKHRoaXMpLDUwKX0sZS5wcm90b3R5cGUuX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tZWRpYUVsZW1lbnQ7aWYoZXx8IXRoaXMuX3JlY2VpdmVkQ2FuUGxheXx8dC5yZWFkeVN0YXRlPDIpe3ZhciBpPXQuYnVmZmVyZWQ7aS5sZW5ndGg+MCYmdC5jdXJyZW50VGltZTxpLnN0YXJ0KDApJiYoYy5hLncodGhpcy5UQUcsXCJQbGF5YmFjayBzZWVtcyBzdHVjayBhdCBcIit0LmN1cnJlbnRUaW1lK1wiLCBzZWVrIHRvIFwiK2kuc3RhcnQoMCkpLHRoaXMuX3JlcXVlc3RTZXRUaW1lPSEwLHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZT1pLnN0YXJ0KDApLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLmUub252UHJvZ3Jlc3MpKX1lbHNlIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwicHJvZ3Jlc3NcIix0aGlzLmUub252UHJvZ3Jlc3MpfSxlLnByb3RvdHlwZS5fb252TG9hZGVkTWV0YWRhdGE9ZnVuY3Rpb24oZSl7bnVsbCE9dGhpcy5fcGVuZGluZ1NlZWtUaW1lJiYodGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lPXRoaXMuX3BlbmRpbmdTZWVrVGltZSx0aGlzLl9wZW5kaW5nU2Vla1RpbWU9bnVsbCl9LGUucHJvdG90eXBlLl9vbnZTZWVraW5nPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSxpPXRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtpZih0aGlzLl9yZXF1ZXN0U2V0VGltZSl0aGlzLl9yZXF1ZXN0U2V0VGltZT0hMTtlbHNle2lmKHQ8MSYmaS5sZW5ndGg+MCl7dmFyIG49aS5zdGFydCgwKTtpZihuPDEmJnQ8bnx8dS5hLnNhZmFyaSlyZXR1cm4gdGhpcy5fcmVxdWVzdFNldFRpbWU9ITAsdm9pZCh0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU9dS5hLnNhZmFyaT8uMTpuKX1pZih0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHQpKXtpZih0aGlzLl9hbHdheXNTZWVrS2V5ZnJhbWUpe3ZhciBhPXRoaXMuX21zZWN0bC5nZXROZWFyZXN0S2V5ZnJhbWUoTWF0aC5mbG9vcigxZTMqdCkpO251bGwhPWEmJih0aGlzLl9yZXF1ZXN0U2V0VGltZT0hMCx0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU9YS5kdHMvMWUzKX1udWxsIT10aGlzLl9wcm9ncmVzc0NoZWNrZXImJnRoaXMuX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUoKX1lbHNlIHRoaXMuX3NlZWtwb2ludFJlY29yZD17c2Vla1BvaW50OnQscmVjb3JkVGltZTp0aGlzLl9ub3coKX0sd2luZG93LnNldFRpbWVvdXQodGhpcy5fY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQuYmluZCh0aGlzKSw1MCl9fSxlLnByb3RvdHlwZS5fb252Q2FuUGxheT1mdW5jdGlvbihlKXt0aGlzLl9yZWNlaXZlZENhblBsYXk9ITAsdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjYW5wbGF5XCIsdGhpcy5lLm9udkNhblBsYXkpfSxlLnByb3RvdHlwZS5fb252U3RhbGxlZD1mdW5jdGlvbihlKXt0aGlzLl9jaGVja0FuZFJlc3VtZVN0dWNrUGxheWJhY2soITApfSxlLnByb3RvdHlwZS5fb252UHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7dGhpcy5fY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrKCl9LGV9KCksRD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXt0aGlzLlRBRz1cIk5hdGl2ZVBsYXllclwiLHRoaXMuX3R5cGU9XCJOYXRpdmVQbGF5ZXJcIix0aGlzLl9lbWl0dGVyPW5ldyBoLmEsdGhpcy5fY29uZmlnPXMoKSxcIm9iamVjdFwiPT10eXBlb2YgdCYmT2JqZWN0LmFzc2lnbih0aGlzLl9jb25maWcsdCk7dmFyIGk9ZS50eXBlLnRvTG93ZXJDYXNlKCk7aWYoXCJtc2VcIj09PWl8fFwibXBlZ3RzXCI9PT1pfHxcIm0ydHNcIj09PWl8fFwiZmx2XCI9PT1pKXRocm93IG5ldyBBLmIoXCJOYXRpdmVQbGF5ZXIgZG9lcyd0IHN1cHBvcnQgbXNlL21wZWd0cy9tMnRzL2ZsdiBNZWRpYURhdGFTb3VyY2UgaW5wdXQhXCIpO2lmKGUuaGFzT3duUHJvcGVydHkoXCJzZWdtZW50c1wiKSl0aHJvdyBuZXcgQS5iKFwiTmF0aXZlUGxheWVyKFwiK2UudHlwZStcIikgZG9lc24ndCBzdXBwb3J0IG11bHRpcGFydCBwbGF5YmFjayFcIik7dGhpcy5lPXtvbnZMb2FkZWRNZXRhZGF0YTp0aGlzLl9vbnZMb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpfSx0aGlzLl9wZW5kaW5nU2Vla1RpbWU9bnVsbCx0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXI9bnVsbCx0aGlzLl9tZWRpYURhdGFTb3VyY2U9ZSx0aGlzLl9tZWRpYUVsZW1lbnQ9bnVsbH1yZXR1cm4gZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuX21lZGlhRWxlbWVudCYmKHRoaXMudW5sb2FkKCksdGhpcy5kZXRhY2hNZWRpYUVsZW1lbnQoKSksdGhpcy5lPW51bGwsdGhpcy5fbWVkaWFEYXRhU291cmNlPW51bGwsdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9lbWl0dGVyPW51bGx9LGUucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGUsdCl7dmFyIGk9dGhpcztlPT09bC5NRURJQV9JTkZPP251bGwhPXRoaXMuX21lZGlhRWxlbWVudCYmMCE9PXRoaXMuX21lZGlhRWxlbWVudC5yZWFkeVN0YXRlJiZQcm9taXNlLnJlc29sdmUoKS50aGVuKChmdW5jdGlvbigpe2kuX2VtaXR0ZXIuZW1pdChsLk1FRElBX0lORk8saS5tZWRpYUluZm8pfSkpOmU9PT1sLlNUQVRJU1RJQ1NfSU5GTyYmbnVsbCE9dGhpcy5fbWVkaWFFbGVtZW50JiYwIT09dGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUmJlByb21pc2UucmVzb2x2ZSgpLnRoZW4oKGZ1bmN0aW9uKCl7aS5fZW1pdHRlci5lbWl0KGwuU1RBVElTVElDU19JTkZPLGkuc3RhdGlzdGljc0luZm8pfSkpLHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZSx0KX0sZS5wcm90b3R5cGUub2ZmPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihlLHQpfSxlLnByb3RvdHlwZS5hdHRhY2hNZWRpYUVsZW1lbnQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5fbWVkaWFFbGVtZW50PWUsZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZGVkbWV0YWRhdGFcIix0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpLG51bGwhPXRoaXMuX3BlbmRpbmdTZWVrVGltZSl0cnl7ZS5jdXJyZW50VGltZT10aGlzLl9wZW5kaW5nU2Vla1RpbWUsdGhpcy5fcGVuZGluZ1NlZWtUaW1lPW51bGx9Y2F0Y2goZSl7fX0sZS5wcm90b3R5cGUuZGV0YWNoTWVkaWFFbGVtZW50PWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFFbGVtZW50JiYodGhpcy5fbWVkaWFFbGVtZW50LnNyYz1cIlwiLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIiksdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJsb2FkZWRtZXRhZGF0YVwiLHRoaXMuZS5vbnZMb2FkZWRNZXRhZGF0YSksdGhpcy5fbWVkaWFFbGVtZW50PW51bGwpLG51bGwhPXRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciksdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyPW51bGwpfSxlLnByb3RvdHlwZS5sb2FkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX21lZGlhRWxlbWVudCl0aHJvdyBuZXcgQS5hKFwiSFRNTE1lZGlhRWxlbWVudCBtdXN0IGJlIGF0dGFjaGVkIGJlZm9yZSBsb2FkKCkhXCIpO3RoaXMuX21lZGlhRWxlbWVudC5zcmM9dGhpcy5fbWVkaWFEYXRhU291cmNlLnVybCx0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZT4wJiYodGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lPTApLHRoaXMuX21lZGlhRWxlbWVudC5wcmVsb2FkPVwiYXV0b1wiLHRoaXMuX21lZGlhRWxlbWVudC5sb2FkKCksdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLl9yZXBvcnRTdGF0aXN0aWNzSW5mby5iaW5kKHRoaXMpLHRoaXMuX2NvbmZpZy5zdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsKX0sZS5wcm90b3R5cGUudW5sb2FkPWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFFbGVtZW50JiYodGhpcy5fbWVkaWFFbGVtZW50LnNyYz1cIlwiLHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIikpLG51bGwhPXRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciksdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyPW51bGwpfSxlLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KCl9LGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fbWVkaWFFbGVtZW50LnBhdXNlKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInR5cGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3R5cGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiYnVmZmVyZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJkdXJhdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInZvbHVtZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lZGlhRWxlbWVudC52b2x1bWU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtdXRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudFRpbWVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudD90aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU6MH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21lZGlhRWxlbWVudD90aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU9ZTp0aGlzLl9wZW5kaW5nU2Vla1RpbWU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJtZWRpYUluZm9cIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9e21pbWVUeXBlOih0aGlzLl9tZWRpYUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50P1wiYXVkaW8vXCI6XCJ2aWRlby9cIikrdGhpcy5fbWVkaWFEYXRhU291cmNlLnR5cGV9O3JldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQmJihlLmR1cmF0aW9uPU1hdGguZmxvb3IoMWUzKnRoaXMuX21lZGlhRWxlbWVudC5kdXJhdGlvbiksdGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKGUud2lkdGg9dGhpcy5fbWVkaWFFbGVtZW50LnZpZGVvV2lkdGgsZS5oZWlnaHQ9dGhpcy5fbWVkaWFFbGVtZW50LnZpZGVvSGVpZ2h0KSksZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsXCJzdGF0aXN0aWNzSW5mb1wiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT17cGxheWVyVHlwZTp0aGlzLl90eXBlLHVybDp0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsfTtpZighKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKXJldHVybiBlO3ZhciB0PSEwLGk9MCxuPTA7aWYodGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KXt2YXIgYT10aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkoKTtpPWEudG90YWxWaWRlb0ZyYW1lcyxuPWEuZHJvcHBlZFZpZGVvRnJhbWVzfWVsc2UgbnVsbCE9dGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50PyhpPXRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudCxuPXRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREcm9wcGVkRnJhbWVDb3VudCk6dD0hMTtyZXR1cm4gdCYmKGUuZGVjb2RlZEZyYW1lcz1pLGUuZHJvcHBlZEZyYW1lcz1uKSxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9vbnZMb2FkZWRNZXRhZGF0YT1mdW5jdGlvbihlKXtudWxsIT10aGlzLl9wZW5kaW5nU2Vla1RpbWUmJih0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU9dGhpcy5fcGVuZGluZ1NlZWtUaW1lLHRoaXMuX3BlbmRpbmdTZWVrVGltZT1udWxsKSx0aGlzLl9lbWl0dGVyLmVtaXQobC5NRURJQV9JTkZPLHRoaXMubWVkaWFJbmZvKX0sZS5wcm90b3R5cGUuX3JlcG9ydFN0YXRpc3RpY3NJbmZvPWZ1bmN0aW9uKCl7dGhpcy5fZW1pdHRlci5lbWl0KGwuU1RBVElTVElDU19JTkZPLHRoaXMuc3RhdGlzdGljc0luZm8pfSxlfSgpO24uYS5pbnN0YWxsKCk7dmFyIEM9e2NyZWF0ZVBsYXllcjpmdW5jdGlvbihlLHQpe3ZhciBpPWU7aWYobnVsbD09aXx8XCJvYmplY3RcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IEEuYihcIk1lZGlhRGF0YVNvdXJjZSBtdXN0IGJlIGFuIGphdmFzY3JpcHQgb2JqZWN0IVwiKTtpZighaS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpdGhyb3cgbmV3IEEuYihcIk1lZGlhRGF0YVNvdXJjZSBtdXN0IGhhcyB0eXBlIGZpZWxkIHRvIGluZGljYXRlIHZpZGVvIGZpbGUgdHlwZSFcIik7c3dpdGNoKGkudHlwZSl7Y2FzZVwibXNlXCI6Y2FzZVwibXBlZ3RzXCI6Y2FzZVwibTJ0c1wiOmNhc2VcImZsdlwiOnJldHVybiBuZXcgayhpLHQpO2RlZmF1bHQ6cmV0dXJuIG5ldyBEKGksdCl9fSxpc1N1cHBvcnRlZDpmdW5jdGlvbigpe3JldHVybiBvLnN1cHBvcnRNU0VIMjY0UGxheWJhY2soKX0sZ2V0RmVhdHVyZUxpc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gby5nZXRGZWF0dXJlTGlzdCgpfX07Qy5CYXNlTG9hZGVyPWQuYSxDLkxvYWRlclN0YXR1cz1kLmMsQy5Mb2FkZXJFcnJvcnM9ZC5iLEMuRXZlbnRzPWwsQy5FcnJvclR5cGVzPUwsQy5FcnJvckRldGFpbHM9dyxDLk1TRVBsYXllcj1rLEMuTmF0aXZlUGxheWVyPUQsQy5Mb2dnaW5nQ29udHJvbD1tLmEsT2JqZWN0LmRlZmluZVByb3BlcnR5KEMsXCJ2ZXJzaW9uXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuXCIxLjcuM1wifX0pO3QuZGVmYXVsdD1DfV0pfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXBlZ3RzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=